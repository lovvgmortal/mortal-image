(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const f of a)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function o(a){const f={};return a.integrity&&(f.integrity=a.integrity),a.referrerPolicy&&(f.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?f.credentials="include":a.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function i(a){if(a.ep)return;a.ep=!0;const f=o(a);fetch(a.href,f)}})();var Ii=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ol(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kl={exports:{}},mr={},Il={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uf;function bh(){if(Uf)return Ue;Uf=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),C=Symbol.iterator;function _(M){return M===null||typeof M!="object"?null:(M=C&&M[C]||M["@@iterator"],typeof M=="function"?M:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,w={};function I(M,F,me){this.props=M,this.context=F,this.refs=w,this.updater=me||T}I.prototype.isReactComponent={},I.prototype.setState=function(M,F){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,F,"setState")},I.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function A(){}A.prototype=I.prototype;function R(M,F,me){this.props=M,this.context=F,this.refs=w,this.updater=me||T}var P=R.prototype=new A;P.constructor=R,k(P,I.prototype),P.isPureReactComponent=!0;var z=Array.isArray,V=Object.prototype.hasOwnProperty,W={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function te(M,F,me){var ae,$={},he=null,_e=null;if(F!=null)for(ae in F.ref!==void 0&&(_e=F.ref),F.key!==void 0&&(he=""+F.key),F)V.call(F,ae)&&!b.hasOwnProperty(ae)&&($[ae]=F[ae]);var ue=arguments.length-2;if(ue===1)$.children=me;else if(1<ue){for(var Te=Array(ue),De=0;De<ue;De++)Te[De]=arguments[De+2];$.children=Te}if(M&&M.defaultProps)for(ae in ue=M.defaultProps,ue)$[ae]===void 0&&($[ae]=ue[ae]);return{$$typeof:t,type:M,key:he,ref:_e,props:$,_owner:W.current}}function q(M,F){return{$$typeof:t,type:M.type,key:F,ref:M.ref,props:M.props,_owner:M._owner}}function ne(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function ge(M){var F={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(me){return F[me]})}var U=/\/+/g;function j(M,F){return typeof M=="object"&&M!==null&&M.key!=null?ge(""+M.key):F.toString(36)}function x(M,F,me,ae,$){var he=typeof M;(he==="undefined"||he==="boolean")&&(M=null);var _e=!1;if(M===null)_e=!0;else switch(he){case"string":case"number":_e=!0;break;case"object":switch(M.$$typeof){case t:case e:_e=!0}}if(_e)return _e=M,$=$(_e),M=ae===""?"."+j(_e,0):ae,z($)?(me="",M!=null&&(me=M.replace(U,"$&/")+"/"),x($,F,me,"",function(De){return De})):$!=null&&(ne($)&&($=q($,me+(!$.key||_e&&_e.key===$.key?"":(""+$.key).replace(U,"$&/")+"/")+M)),F.push($)),1;if(_e=0,ae=ae===""?".":ae+":",z(M))for(var ue=0;ue<M.length;ue++){he=M[ue];var Te=ae+j(he,ue);_e+=x(he,F,me,Te,$)}else if(Te=_(M),typeof Te=="function")for(M=Te.call(M),ue=0;!(he=M.next()).done;)he=he.value,Te=ae+j(he,ue++),_e+=x(he,F,me,Te,$);else if(he==="object")throw F=String(M),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return _e}function ee(M,F,me){if(M==null)return M;var ae=[],$=0;return x(M,ae,"","",function(he){return F.call(me,he,$++)}),ae}function xe(M){if(M._status===-1){var F=M._result;F=F(),F.then(function(me){(M._status===0||M._status===-1)&&(M._status=1,M._result=me)},function(me){(M._status===0||M._status===-1)&&(M._status=2,M._result=me)}),M._status===-1&&(M._status=0,M._result=F)}if(M._status===1)return M._result.default;throw M._result}var re={current:null},ie={transition:null},X={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:ie,ReactCurrentOwner:W};function le(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:ee,forEach:function(M,F,me){ee(M,function(){F.apply(this,arguments)},me)},count:function(M){var F=0;return ee(M,function(){F++}),F},toArray:function(M){return ee(M,function(F){return F})||[]},only:function(M){if(!ne(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ue.Component=I,Ue.Fragment=o,Ue.Profiler=a,Ue.PureComponent=R,Ue.StrictMode=i,Ue.Suspense=m,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,Ue.act=le,Ue.cloneElement=function(M,F,me){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var ae=k({},M.props),$=M.key,he=M.ref,_e=M._owner;if(F!=null){if(F.ref!==void 0&&(he=F.ref,_e=W.current),F.key!==void 0&&($=""+F.key),M.type&&M.type.defaultProps)var ue=M.type.defaultProps;for(Te in F)V.call(F,Te)&&!b.hasOwnProperty(Te)&&(ae[Te]=F[Te]===void 0&&ue!==void 0?ue[Te]:F[Te])}var Te=arguments.length-2;if(Te===1)ae.children=me;else if(1<Te){ue=Array(Te);for(var De=0;De<Te;De++)ue[De]=arguments[De+2];ae.children=ue}return{$$typeof:t,type:M.type,key:$,ref:he,props:ae,_owner:_e}},Ue.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:f,_context:M},M.Consumer=M},Ue.createElement=te,Ue.createFactory=function(M){var F=te.bind(null,M);return F.type=M,F},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(M){return{$$typeof:p,render:M}},Ue.isValidElement=ne,Ue.lazy=function(M){return{$$typeof:y,_payload:{_status:-1,_result:M},_init:xe}},Ue.memo=function(M,F){return{$$typeof:h,type:M,compare:F===void 0?null:F}},Ue.startTransition=function(M){var F=ie.transition;ie.transition={};try{M()}finally{ie.transition=F}},Ue.unstable_act=le,Ue.useCallback=function(M,F){return re.current.useCallback(M,F)},Ue.useContext=function(M){return re.current.useContext(M)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(M){return re.current.useDeferredValue(M)},Ue.useEffect=function(M,F){return re.current.useEffect(M,F)},Ue.useId=function(){return re.current.useId()},Ue.useImperativeHandle=function(M,F,me){return re.current.useImperativeHandle(M,F,me)},Ue.useInsertionEffect=function(M,F){return re.current.useInsertionEffect(M,F)},Ue.useLayoutEffect=function(M,F){return re.current.useLayoutEffect(M,F)},Ue.useMemo=function(M,F){return re.current.useMemo(M,F)},Ue.useReducer=function(M,F,me){return re.current.useReducer(M,F,me)},Ue.useRef=function(M){return re.current.useRef(M)},Ue.useState=function(M){return re.current.useState(M)},Ue.useSyncExternalStore=function(M,F,me){return re.current.useSyncExternalStore(M,F,me)},Ue.useTransition=function(){return re.current.useTransition()},Ue.version="18.3.1",Ue}var Vf;function Kl(){return Vf||(Vf=1,Il.exports=bh()),Il.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zf;function Jh(){if(zf)return mr;zf=1;var t=Kl(),e=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function d(p,m,h){var y,C={},_=null,T=null;h!==void 0&&(_=""+h),m.key!==void 0&&(_=""+m.key),m.ref!==void 0&&(T=m.ref);for(y in m)i.call(m,y)&&!f.hasOwnProperty(y)&&(C[y]=m[y]);if(p&&p.defaultProps)for(y in m=p.defaultProps,m)C[y]===void 0&&(C[y]=m[y]);return{$$typeof:e,type:p,key:_,ref:T,props:C,_owner:a.current}}return mr.Fragment=o,mr.jsx=d,mr.jsxs=d,mr}var Bf;function Wh(){return Bf||(Bf=1,kl.exports=Jh()),kl.exports}var Y=Wh(),be=Kl();const dd=Ol(be);var Ai={},Al={exports:{}},xt={},Ml={exports:{}},Rl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gf;function Oh(){return Gf||(Gf=1,function(t){function e(ie,X){var le=ie.length;ie.push(X);e:for(;0<le;){var M=le-1>>>1,F=ie[M];if(0<a(F,X))ie[M]=X,ie[le]=F,le=M;else break e}}function o(ie){return ie.length===0?null:ie[0]}function i(ie){if(ie.length===0)return null;var X=ie[0],le=ie.pop();if(le!==X){ie[0]=le;e:for(var M=0,F=ie.length,me=F>>>1;M<me;){var ae=2*(M+1)-1,$=ie[ae],he=ae+1,_e=ie[he];if(0>a($,le))he<F&&0>a(_e,$)?(ie[M]=_e,ie[he]=le,M=he):(ie[M]=$,ie[ae]=le,M=ae);else if(he<F&&0>a(_e,le))ie[M]=_e,ie[he]=le,M=he;else break e}}return X}function a(ie,X){var le=ie.sortIndex-X.sortIndex;return le!==0?le:ie.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;t.unstable_now=function(){return f.now()}}else{var d=Date,p=d.now();t.unstable_now=function(){return d.now()-p}}var m=[],h=[],y=1,C=null,_=3,T=!1,k=!1,w=!1,I=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(ie){for(var X=o(h);X!==null;){if(X.callback===null)i(h);else if(X.startTime<=ie)i(h),X.sortIndex=X.expirationTime,e(m,X);else break;X=o(h)}}function z(ie){if(w=!1,P(ie),!k)if(o(m)!==null)k=!0,xe(V);else{var X=o(h);X!==null&&re(z,X.startTime-ie)}}function V(ie,X){k=!1,w&&(w=!1,A(te),te=-1),T=!0;var le=_;try{for(P(X),C=o(m);C!==null&&(!(C.expirationTime>X)||ie&&!ge());){var M=C.callback;if(typeof M=="function"){C.callback=null,_=C.priorityLevel;var F=M(C.expirationTime<=X);X=t.unstable_now(),typeof F=="function"?C.callback=F:C===o(m)&&i(m),P(X)}else i(m);C=o(m)}if(C!==null)var me=!0;else{var ae=o(h);ae!==null&&re(z,ae.startTime-X),me=!1}return me}finally{C=null,_=le,T=!1}}var W=!1,b=null,te=-1,q=5,ne=-1;function ge(){return!(t.unstable_now()-ne<q)}function U(){if(b!==null){var ie=t.unstable_now();ne=ie;var X=!0;try{X=b(!0,ie)}finally{X?j():(W=!1,b=null)}}else W=!1}var j;if(typeof R=="function")j=function(){R(U)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ee=x.port2;x.port1.onmessage=U,j=function(){ee.postMessage(null)}}else j=function(){I(U,0)};function xe(ie){b=ie,W||(W=!0,j())}function re(ie,X){te=I(function(){ie(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_continueExecution=function(){k||T||(k=!0,xe(V))},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return o(m)},t.unstable_next=function(ie){switch(_){case 1:case 2:case 3:var X=3;break;default:X=_}var le=_;_=X;try{return ie()}finally{_=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ie,X){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var le=_;_=ie;try{return X()}finally{_=le}},t.unstable_scheduleCallback=function(ie,X,le){var M=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?M+le:M):le=M,ie){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=le+F,ie={id:y++,callback:X,priorityLevel:ie,startTime:le,expirationTime:F,sortIndex:-1},le>M?(ie.sortIndex=le,e(h,ie),o(m)===null&&ie===o(h)&&(w?(A(te),te=-1):w=!0,re(z,le-M))):(ie.sortIndex=F,e(m,ie),k||T||(k=!0,xe(V))),ie},t.unstable_shouldYield=ge,t.unstable_wrapCallback=function(ie){var X=_;return function(){var le=_;_=X;try{return ie.apply(this,arguments)}finally{_=le}}}}(Rl)),Rl}var Hf;function Kh(){return Hf||(Hf=1,Ml.exports=Oh()),Ml.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qf;function Yh(){if(qf)return xt;qf=1;var t=Kl(),e=Kh();function o(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,u=1;u<arguments.length;u++)r+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function f(n,r){d(n,r),d(n+"Capture",r)}function d(n,r){for(a[n]=r,n=0;n<r.length;n++)i.add(r[n])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},C={};function _(n){return m.call(C,n)?!0:m.call(y,n)?!1:h.test(n)?C[n]=!0:(y[n]=!0,!1)}function T(n,r,u,c){if(u!==null&&u.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:u!==null?!u.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function k(n,r,u,c){if(r===null||typeof r>"u"||T(n,r,u,c))return!0;if(c)return!1;if(u!==null)switch(u.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function w(n,r,u,c,g,v,E){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=n,this.type=r,this.sanitizeURL=v,this.removeEmptyString=E}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){I[n]=new w(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var r=n[0];I[r]=new w(r,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){I[n]=new w(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){I[n]=new w(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){I[n]=new w(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){I[n]=new w(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){I[n]=new w(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){I[n]=new w(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){I[n]=new w(n,5,!1,n.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function R(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var r=n.replace(A,R);I[r]=new w(r,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var r=n.replace(A,R);I[r]=new w(r,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var r=n.replace(A,R);I[r]=new w(r,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){I[n]=new w(n,1,!1,n.toLowerCase(),null,!1,!1)}),I.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){I[n]=new w(n,1,!1,n.toLowerCase(),null,!0,!0)});function P(n,r,u,c){var g=I.hasOwnProperty(r)?I[r]:null;(g!==null?g.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(k(r,u,g,c)&&(u=null),c||g===null?_(r)&&(u===null?n.removeAttribute(r):n.setAttribute(r,""+u)):g.mustUseProperty?n[g.propertyName]=u===null?g.type===3?!1:"":u:(r=g.attributeName,c=g.attributeNamespace,u===null?n.removeAttribute(r):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,c?n.setAttributeNS(c,r,u):n.setAttribute(r,u))))}var z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,V=Symbol.for("react.element"),W=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),ge=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),ie=Symbol.iterator;function X(n){return n===null||typeof n!="object"?null:(n=ie&&n[ie]||n["@@iterator"],typeof n=="function"?n:null)}var le=Object.assign,M;function F(n){if(M===void 0)try{throw Error()}catch(u){var r=u.stack.trim().match(/\n( *(at )?)/);M=r&&r[1]||""}return`
`+M+n}var me=!1;function ae(n,r){if(!n||me)return"";me=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(Z){var c=Z}Reflect.construct(n,[],r)}else{try{r.call()}catch(Z){c=Z}n.call(r.prototype)}else{try{throw Error()}catch(Z){c=Z}n()}}catch(Z){if(Z&&c&&typeof Z.stack=="string"){for(var g=Z.stack.split(`
`),v=c.stack.split(`
`),E=g.length-1,L=v.length-1;1<=E&&0<=L&&g[E]!==v[L];)L--;for(;1<=E&&0<=L;E--,L--)if(g[E]!==v[L]){if(E!==1||L!==1)do if(E--,L--,0>L||g[E]!==v[L]){var B=`
`+g[E].replace(" at new "," at ");return n.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",n.displayName)),B}while(1<=E&&0<=L);break}}}finally{me=!1,Error.prepareStackTrace=u}return(n=n?n.displayName||n.name:"")?F(n):""}function $(n){switch(n.tag){case 5:return F(n.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return n=ae(n.type,!1),n;case 11:return n=ae(n.type.render,!1),n;case 1:return n=ae(n.type,!0),n;default:return""}}function he(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case b:return"Fragment";case W:return"Portal";case q:return"Profiler";case te:return"StrictMode";case j:return"Suspense";case x:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case ge:return(n.displayName||"Context")+".Consumer";case ne:return(n._context.displayName||"Context")+".Provider";case U:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ee:return r=n.displayName||null,r!==null?r:he(n.type)||"Memo";case xe:r=n._payload,n=n._init;try{return he(n(r))}catch{}}return null}function _e(n){var r=n.type;switch(n.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=r.render,n=n.displayName||n.name||"",r.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(r);case 8:return r===te?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function ue(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Te(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function De(n){var r=Te(n)?"checked":"value",u=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),c=""+n[r];if(!n.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,v=u.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return g.call(this)},set:function(E){c=""+E,v.call(this,E)}}),Object.defineProperty(n,r,{enumerable:u.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Ve(n){n._valueTracker||(n._valueTracker=De(n))}function We(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var u=r.getValue(),c="";return n&&(c=Te(n)?n.checked?"true":"false":n.value),n=c,n!==u?(r.setValue(n),!0):!1}function ze(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function S(n,r){var u=r.checked;return le({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??n._wrapperState.initialChecked})}function oe(n,r){var u=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;u=ue(r.value!=null?r.value:u),n._wrapperState={initialChecked:c,initialValue:u,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Q(n,r){r=r.checked,r!=null&&P(n,"checked",r,!1)}function D(n,r){Q(n,r);var u=ue(r.value),c=r.type;if(u!=null)c==="number"?(u===0&&n.value===""||n.value!=u)&&(n.value=""+u):n.value!==""+u&&(n.value=""+u);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}r.hasOwnProperty("value")?H(n,r.type,u):r.hasOwnProperty("defaultValue")&&H(n,r.type,ue(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(n.defaultChecked=!!r.defaultChecked)}function N(n,r,u){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+n._wrapperState.initialValue,u||r===n.value||(n.value=r),n.defaultValue=r}u=n.name,u!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,u!==""&&(n.name=u)}function H(n,r,u){(r!=="number"||ze(n.ownerDocument)!==n)&&(u==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+u&&(n.defaultValue=""+u))}var se=Array.isArray;function fe(n,r,u,c){if(n=n.options,r){r={};for(var g=0;g<u.length;g++)r["$"+u[g]]=!0;for(u=0;u<n.length;u++)g=r.hasOwnProperty("$"+n[u].value),n[u].selected!==g&&(n[u].selected=g),g&&c&&(n[u].defaultSelected=!0)}else{for(u=""+ue(u),r=null,g=0;g<n.length;g++){if(n[g].value===u){n[g].selected=!0,c&&(n[g].defaultSelected=!0);return}r!==null||n[g].disabled||(r=n[g])}r!==null&&(r.selected=!0)}}function K(n,r){if(r.dangerouslySetInnerHTML!=null)throw Error(o(91));return le({},r,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ye(n,r){var u=r.value;if(u==null){if(u=r.children,r=r.defaultValue,u!=null){if(r!=null)throw Error(o(92));if(se(u)){if(1<u.length)throw Error(o(93));u=u[0]}r=u}r==null&&(r=""),u=r}n._wrapperState={initialValue:ue(u)}}function we(n,r){var u=ue(r.value),c=ue(r.defaultValue);u!=null&&(u=""+u,u!==n.value&&(n.value=u),r.defaultValue==null&&n.defaultValue!==u&&(n.defaultValue=u)),c!=null&&(n.defaultValue=""+c)}function Ce(n){var r=n.textContent;r===n._wrapperState.initialValue&&r!==""&&r!==null&&(n.value=r)}function Re(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function He(n,r){return n==null||n==="http://www.w3.org/1999/xhtml"?Re(r):n==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Fe,yt=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,u,c,g){MSApp.execUnsafeLocalFunction(function(){return n(r,u,c,g)})}:n}(function(n,r){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=r;else{for(Fe=Fe||document.createElement("div"),Fe.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Fe.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;r.firstChild;)n.appendChild(r.firstChild)}});function Bt(n,r){if(r){var u=n.firstChild;if(u&&u===n.lastChild&&u.nodeType===3){u.nodeValue=r;return}}n.textContent=r}var ct={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pn=["Webkit","ms","Moz","O"];Object.keys(ct).forEach(function(n){Pn.forEach(function(r){r=r+n.charAt(0).toUpperCase()+n.substring(1),ct[r]=ct[n]})});function Ze(n,r,u){return r==null||typeof r=="boolean"||r===""?"":u||typeof r!="number"||r===0||ct.hasOwnProperty(n)&&ct[n]?(""+r).trim():r+"px"}function Nn(n,r){n=n.style;for(var u in r)if(r.hasOwnProperty(u)){var c=u.indexOf("--")===0,g=Ze(u,r[u],c);u==="float"&&(u="cssFloat"),c?n.setProperty(u,g):n[u]=g}}var Mo=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kt(n,r){if(r){if(Mo[n]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(o(137,n));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(o(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(o(61))}if(r.style!=null&&typeof r.style!="object")throw Error(o(62))}}function Zn(n,r){if(n.indexOf("-")===-1)return typeof r.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ro=null;function Po(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var No=null,en=null,Pt=null;function Dn(n){if(n=er(n)){if(typeof No!="function")throw Error(o(280));var r=n.stateNode;r&&(r=qr(r),No(n.stateNode,n.type,r))}}function jl(n){en?Pt?Pt.push(n):Pt=[n]:en=n}function ea(){if(en){var n=en,r=Pt;if(Pt=en=null,Dn(n),r)for(n=0;n<r.length;n++)Dn(r[n])}}function ta(n,r){return n(r)}function na(){}var $i=!1;function oa(n,r,u){if($i)return n(r,u);$i=!0;try{return ta(n,r,u)}finally{$i=!1,(en!==null||Pt!==null)&&(na(),ea())}}function Do(n,r){var u=n.stateNode;if(u===null)return null;var c=qr(u);if(c===null)return null;u=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(u&&typeof u!="function")throw Error(o(231,r,typeof u));return u}var bi=!1;if(p)try{var Lo={};Object.defineProperty(Lo,"passive",{get:function(){bi=!0}}),window.addEventListener("test",Lo,Lo),window.removeEventListener("test",Lo,Lo)}catch{bi=!1}function Zd(n,r,u,c,g,v,E,L,B){var Z=Array.prototype.slice.call(arguments,3);try{r.apply(u,Z)}catch(de){this.onError(de)}}var Fo=!1,_r=null,Tr=!1,Ji=null,Qd={onError:function(n){Fo=!0,_r=n}};function Xd(n,r,u,c,g,v,E,L,B){Fo=!1,_r=null,Zd.apply(Qd,arguments)}function jd(n,r,u,c,g,v,E,L,B){if(Xd.apply(this,arguments),Fo){if(Fo){var Z=_r;Fo=!1,_r=null}else throw Error(o(198));Tr||(Tr=!0,Ji=Z)}}function Ln(n){var r=n,u=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(u=r.return),n=r.return;while(n)}return r.tag===3?u:null}function ra(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function ia(n){if(Ln(n)!==n)throw Error(o(188))}function ep(n){var r=n.alternate;if(!r){if(r=Ln(n),r===null)throw Error(o(188));return r!==n?null:n}for(var u=n,c=r;;){var g=u.return;if(g===null)break;var v=g.alternate;if(v===null){if(c=g.return,c!==null){u=c;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===u)return ia(g),n;if(v===c)return ia(g),r;v=v.sibling}throw Error(o(188))}if(u.return!==c.return)u=g,c=v;else{for(var E=!1,L=g.child;L;){if(L===u){E=!0,u=g,c=v;break}if(L===c){E=!0,c=g,u=v;break}L=L.sibling}if(!E){for(L=v.child;L;){if(L===u){E=!0,u=v,c=g;break}if(L===c){E=!0,c=v,u=g;break}L=L.sibling}if(!E)throw Error(o(189))}}if(u.alternate!==c)throw Error(o(190))}if(u.tag!==3)throw Error(o(188));return u.stateNode.current===u?n:r}function sa(n){return n=ep(n),n!==null?la(n):null}function la(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var r=la(n);if(r!==null)return r;n=n.sibling}return null}var aa=e.unstable_scheduleCallback,ua=e.unstable_cancelCallback,tp=e.unstable_shouldYield,np=e.unstable_requestPaint,tt=e.unstable_now,op=e.unstable_getCurrentPriorityLevel,Wi=e.unstable_ImmediatePriority,fa=e.unstable_UserBlockingPriority,Sr=e.unstable_NormalPriority,rp=e.unstable_LowPriority,ca=e.unstable_IdlePriority,wr=null,Kt=null;function ip(n){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(wr,n,void 0,(n.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:ap,sp=Math.log,lp=Math.LN2;function ap(n){return n>>>=0,n===0?32:31-(sp(n)/lp|0)|0}var Er=64,xr=4194304;function Uo(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function kr(n,r){var u=n.pendingLanes;if(u===0)return 0;var c=0,g=n.suspendedLanes,v=n.pingedLanes,E=u&268435455;if(E!==0){var L=E&~g;L!==0?c=Uo(L):(v&=E,v!==0&&(c=Uo(v)))}else E=u&~g,E!==0?c=Uo(E):v!==0&&(c=Uo(v));if(c===0)return 0;if(r!==0&&r!==c&&(r&g)===0&&(g=c&-c,v=r&-r,g>=v||g===16&&(v&4194240)!==0))return r;if((c&4)!==0&&(c|=u&16),r=n.entangledLanes,r!==0)for(n=n.entanglements,r&=c;0<r;)u=31-Gt(r),g=1<<u,c|=n[u],r&=~g;return c}function up(n,r){switch(n){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fp(n,r){for(var u=n.suspendedLanes,c=n.pingedLanes,g=n.expirationTimes,v=n.pendingLanes;0<v;){var E=31-Gt(v),L=1<<E,B=g[E];B===-1?((L&u)===0||(L&c)!==0)&&(g[E]=up(L,r)):B<=r&&(n.expiredLanes|=L),v&=~L}}function Oi(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function da(){var n=Er;return Er<<=1,(Er&4194240)===0&&(Er=64),n}function Ki(n){for(var r=[],u=0;31>u;u++)r.push(n);return r}function Vo(n,r,u){n.pendingLanes|=r,r!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,r=31-Gt(r),n[r]=u}function cp(n,r){var u=n.pendingLanes&~r;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=r,n.mutableReadLanes&=r,n.entangledLanes&=r,r=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<u;){var g=31-Gt(u),v=1<<g;r[g]=0,c[g]=-1,n[g]=-1,u&=~v}}function Yi(n,r){var u=n.entangledLanes|=r;for(n=n.entanglements;u;){var c=31-Gt(u),g=1<<c;g&r|n[c]&r&&(n[c]|=r),u&=~g}}var $e=0;function pa(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var ha,Zi,ma,ga,ya,Qi=!1,Ir=[],cn=null,dn=null,pn=null,zo=new Map,Bo=new Map,hn=[],dp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function va(n,r){switch(n){case"focusin":case"focusout":cn=null;break;case"dragenter":case"dragleave":dn=null;break;case"mouseover":case"mouseout":pn=null;break;case"pointerover":case"pointerout":zo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bo.delete(r.pointerId)}}function Go(n,r,u,c,g,v){return n===null||n.nativeEvent!==v?(n={blockedOn:r,domEventName:u,eventSystemFlags:c,nativeEvent:v,targetContainers:[g]},r!==null&&(r=er(r),r!==null&&Zi(r)),n):(n.eventSystemFlags|=c,r=n.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),n)}function pp(n,r,u,c,g){switch(r){case"focusin":return cn=Go(cn,n,r,u,c,g),!0;case"dragenter":return dn=Go(dn,n,r,u,c,g),!0;case"mouseover":return pn=Go(pn,n,r,u,c,g),!0;case"pointerover":var v=g.pointerId;return zo.set(v,Go(zo.get(v)||null,n,r,u,c,g)),!0;case"gotpointercapture":return v=g.pointerId,Bo.set(v,Go(Bo.get(v)||null,n,r,u,c,g)),!0}return!1}function Ca(n){var r=Fn(n.target);if(r!==null){var u=Ln(r);if(u!==null){if(r=u.tag,r===13){if(r=ra(u),r!==null){n.blockedOn=r,ya(n.priority,function(){ma(u)});return}}else if(r===3&&u.stateNode.current.memoizedState.isDehydrated){n.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ar(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var u=ji(n.domEventName,n.eventSystemFlags,r[0],n.nativeEvent);if(u===null){u=n.nativeEvent;var c=new u.constructor(u.type,u);Ro=c,u.target.dispatchEvent(c),Ro=null}else return r=er(u),r!==null&&Zi(r),n.blockedOn=u,!1;r.shift()}return!0}function _a(n,r,u){Ar(n)&&u.delete(r)}function hp(){Qi=!1,cn!==null&&Ar(cn)&&(cn=null),dn!==null&&Ar(dn)&&(dn=null),pn!==null&&Ar(pn)&&(pn=null),zo.forEach(_a),Bo.forEach(_a)}function Ho(n,r){n.blockedOn===r&&(n.blockedOn=null,Qi||(Qi=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,hp)))}function qo(n){function r(g){return Ho(g,n)}if(0<Ir.length){Ho(Ir[0],n);for(var u=1;u<Ir.length;u++){var c=Ir[u];c.blockedOn===n&&(c.blockedOn=null)}}for(cn!==null&&Ho(cn,n),dn!==null&&Ho(dn,n),pn!==null&&Ho(pn,n),zo.forEach(r),Bo.forEach(r),u=0;u<hn.length;u++)c=hn[u],c.blockedOn===n&&(c.blockedOn=null);for(;0<hn.length&&(u=hn[0],u.blockedOn===null);)Ca(u),u.blockedOn===null&&hn.shift()}var Qn=z.ReactCurrentBatchConfig,Mr=!0;function mp(n,r,u,c){var g=$e,v=Qn.transition;Qn.transition=null;try{$e=1,Xi(n,r,u,c)}finally{$e=g,Qn.transition=v}}function gp(n,r,u,c){var g=$e,v=Qn.transition;Qn.transition=null;try{$e=4,Xi(n,r,u,c)}finally{$e=g,Qn.transition=v}}function Xi(n,r,u,c){if(Mr){var g=ji(n,r,u,c);if(g===null)gs(n,r,c,Rr,u),va(n,c);else if(pp(g,n,r,u,c))c.stopPropagation();else if(va(n,c),r&4&&-1<dp.indexOf(n)){for(;g!==null;){var v=er(g);if(v!==null&&ha(v),v=ji(n,r,u,c),v===null&&gs(n,r,c,Rr,u),v===g)break;g=v}g!==null&&c.stopPropagation()}else gs(n,r,c,null,u)}}var Rr=null;function ji(n,r,u,c){if(Rr=null,n=Po(c),n=Fn(n),n!==null)if(r=Ln(n),r===null)n=null;else if(u=r.tag,u===13){if(n=ra(r),n!==null)return n;n=null}else if(u===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null);return Rr=n,null}function Ta(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(op()){case Wi:return 1;case fa:return 4;case Sr:case rp:return 16;case ca:return 536870912;default:return 16}default:return 16}}var mn=null,es=null,Pr=null;function Sa(){if(Pr)return Pr;var n,r=es,u=r.length,c,g="value"in mn?mn.value:mn.textContent,v=g.length;for(n=0;n<u&&r[n]===g[n];n++);var E=u-n;for(c=1;c<=E&&r[u-c]===g[v-c];c++);return Pr=g.slice(n,1<c?1-c:void 0)}function Nr(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Dr(){return!0}function wa(){return!1}function It(n){function r(u,c,g,v,E){this._reactName=u,this._targetInst=g,this.type=c,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var L in n)n.hasOwnProperty(L)&&(u=n[L],this[L]=u?u(v):v[L]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Dr:wa,this.isPropagationStopped=wa,this}return le(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Dr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Dr)},persist:function(){},isPersistent:Dr}),r}var Xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ts=It(Xn),$o=le({},Xn,{view:0,detail:0}),yp=It($o),ns,os,bo,Lr=le({},$o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:is,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==bo&&(bo&&n.type==="mousemove"?(ns=n.screenX-bo.screenX,os=n.screenY-bo.screenY):os=ns=0,bo=n),ns)},movementY:function(n){return"movementY"in n?n.movementY:os}}),Ea=It(Lr),vp=le({},Lr,{dataTransfer:0}),Cp=It(vp),_p=le({},$o,{relatedTarget:0}),rs=It(_p),Tp=le({},Xn,{animationName:0,elapsedTime:0,pseudoElement:0}),Sp=It(Tp),wp=le({},Xn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ep=It(wp),xp=le({},Xn,{data:0}),xa=It(xp),kp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ip={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ap={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mp(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Ap[n])?!!r[n]:!1}function is(){return Mp}var Rp=le({},$o,{key:function(n){if(n.key){var r=kp[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Nr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ip[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:is,charCode:function(n){return n.type==="keypress"?Nr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Nr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Pp=It(Rp),Np=le({},Lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ka=It(Np),Dp=le({},$o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:is}),Lp=It(Dp),Fp=le({},Xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Up=It(Fp),Vp=le({},Lr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),zp=It(Vp),Bp=[9,13,27,32],ss=p&&"CompositionEvent"in window,Jo=null;p&&"documentMode"in document&&(Jo=document.documentMode);var Gp=p&&"TextEvent"in window&&!Jo,Ia=p&&(!ss||Jo&&8<Jo&&11>=Jo),Aa=" ",Ma=!1;function Ra(n,r){switch(n){case"keyup":return Bp.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pa(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var jn=!1;function Hp(n,r){switch(n){case"compositionend":return Pa(r);case"keypress":return r.which!==32?null:(Ma=!0,Aa);case"textInput":return n=r.data,n===Aa&&Ma?null:n;default:return null}}function qp(n,r){if(jn)return n==="compositionend"||!ss&&Ra(n,r)?(n=Sa(),Pr=es=mn=null,jn=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ia&&r.locale!=="ko"?null:r.data;default:return null}}var $p={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Na(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!$p[n.type]:r==="textarea"}function Da(n,r,u,c){jl(c),r=Br(r,"onChange"),0<r.length&&(u=new ts("onChange","change",null,u,c),n.push({event:u,listeners:r}))}var Wo=null,Oo=null;function bp(n){Qa(n,0)}function Fr(n){var r=ro(n);if(We(r))return n}function Jp(n,r){if(n==="change")return r}var La=!1;if(p){var ls;if(p){var as="oninput"in document;if(!as){var Fa=document.createElement("div");Fa.setAttribute("oninput","return;"),as=typeof Fa.oninput=="function"}ls=as}else ls=!1;La=ls&&(!document.documentMode||9<document.documentMode)}function Ua(){Wo&&(Wo.detachEvent("onpropertychange",Va),Oo=Wo=null)}function Va(n){if(n.propertyName==="value"&&Fr(Oo)){var r=[];Da(r,Oo,n,Po(n)),oa(bp,r)}}function Wp(n,r,u){n==="focusin"?(Ua(),Wo=r,Oo=u,Wo.attachEvent("onpropertychange",Va)):n==="focusout"&&Ua()}function Op(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Fr(Oo)}function Kp(n,r){if(n==="click")return Fr(r)}function Yp(n,r){if(n==="input"||n==="change")return Fr(r)}function Zp(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Ht=typeof Object.is=="function"?Object.is:Zp;function Ko(n,r){if(Ht(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var u=Object.keys(n),c=Object.keys(r);if(u.length!==c.length)return!1;for(c=0;c<u.length;c++){var g=u[c];if(!m.call(r,g)||!Ht(n[g],r[g]))return!1}return!0}function za(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ba(n,r){var u=za(n);n=0;for(var c;u;){if(u.nodeType===3){if(c=n+u.textContent.length,n<=r&&c>=r)return{node:u,offset:r-n};n=c}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=za(u)}}function Ga(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Ga(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Ha(){for(var n=window,r=ze();r instanceof n.HTMLIFrameElement;){try{var u=typeof r.contentWindow.location.href=="string"}catch{u=!1}if(u)n=r.contentWindow;else break;r=ze(n.document)}return r}function us(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function Qp(n){var r=Ha(),u=n.focusedElem,c=n.selectionRange;if(r!==u&&u&&u.ownerDocument&&Ga(u.ownerDocument.documentElement,u)){if(c!==null&&us(u)){if(r=c.start,n=c.end,n===void 0&&(n=r),"selectionStart"in u)u.selectionStart=r,u.selectionEnd=Math.min(n,u.value.length);else if(n=(r=u.ownerDocument||document)&&r.defaultView||window,n.getSelection){n=n.getSelection();var g=u.textContent.length,v=Math.min(c.start,g);c=c.end===void 0?v:Math.min(c.end,g),!n.extend&&v>c&&(g=c,c=v,v=g),g=Ba(u,v);var E=Ba(u,c);g&&E&&(n.rangeCount!==1||n.anchorNode!==g.node||n.anchorOffset!==g.offset||n.focusNode!==E.node||n.focusOffset!==E.offset)&&(r=r.createRange(),r.setStart(g.node,g.offset),n.removeAllRanges(),v>c?(n.addRange(r),n.extend(E.node,E.offset)):(r.setEnd(E.node,E.offset),n.addRange(r)))}}for(r=[],n=u;n=n.parentNode;)n.nodeType===1&&r.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<r.length;u++)n=r[u],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Xp=p&&"documentMode"in document&&11>=document.documentMode,eo=null,fs=null,Yo=null,cs=!1;function qa(n,r,u){var c=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;cs||eo==null||eo!==ze(c)||(c=eo,"selectionStart"in c&&us(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Yo&&Ko(Yo,c)||(Yo=c,c=Br(fs,"onSelect"),0<c.length&&(r=new ts("onSelect","select",null,r,u),n.push({event:r,listeners:c}),r.target=eo)))}function Ur(n,r){var u={};return u[n.toLowerCase()]=r.toLowerCase(),u["Webkit"+n]="webkit"+r,u["Moz"+n]="moz"+r,u}var to={animationend:Ur("Animation","AnimationEnd"),animationiteration:Ur("Animation","AnimationIteration"),animationstart:Ur("Animation","AnimationStart"),transitionend:Ur("Transition","TransitionEnd")},ds={},$a={};p&&($a=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function Vr(n){if(ds[n])return ds[n];if(!to[n])return n;var r=to[n],u;for(u in r)if(r.hasOwnProperty(u)&&u in $a)return ds[n]=r[u];return n}var ba=Vr("animationend"),Ja=Vr("animationiteration"),Wa=Vr("animationstart"),Oa=Vr("transitionend"),Ka=new Map,Ya="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gn(n,r){Ka.set(n,r),f(r,[n])}for(var ps=0;ps<Ya.length;ps++){var hs=Ya[ps],jp=hs.toLowerCase(),eh=hs[0].toUpperCase()+hs.slice(1);gn(jp,"on"+eh)}gn(ba,"onAnimationEnd"),gn(Ja,"onAnimationIteration"),gn(Wa,"onAnimationStart"),gn("dblclick","onDoubleClick"),gn("focusin","onFocus"),gn("focusout","onBlur"),gn(Oa,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),th=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zo));function Za(n,r,u){var c=n.type||"unknown-event";n.currentTarget=u,jd(c,r,void 0,n),n.currentTarget=null}function Qa(n,r){r=(r&4)!==0;for(var u=0;u<n.length;u++){var c=n[u],g=c.event;c=c.listeners;e:{var v=void 0;if(r)for(var E=c.length-1;0<=E;E--){var L=c[E],B=L.instance,Z=L.currentTarget;if(L=L.listener,B!==v&&g.isPropagationStopped())break e;Za(g,L,Z),v=B}else for(E=0;E<c.length;E++){if(L=c[E],B=L.instance,Z=L.currentTarget,L=L.listener,B!==v&&g.isPropagationStopped())break e;Za(g,L,Z),v=B}}}if(Tr)throw n=Ji,Tr=!1,Ji=null,n}function Oe(n,r){var u=r[Ss];u===void 0&&(u=r[Ss]=new Set);var c=n+"__bubble";u.has(c)||(Xa(r,n,2,!1),u.add(c))}function ms(n,r,u){var c=0;r&&(c|=4),Xa(u,n,c,r)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Qo(n){if(!n[zr]){n[zr]=!0,i.forEach(function(u){u!=="selectionchange"&&(th.has(u)||ms(u,!1,n),ms(u,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[zr]||(r[zr]=!0,ms("selectionchange",!1,r))}}function Xa(n,r,u,c){switch(Ta(r)){case 1:var g=mp;break;case 4:g=gp;break;default:g=Xi}u=g.bind(null,r,u,n),g=void 0,!bi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),c?g!==void 0?n.addEventListener(r,u,{capture:!0,passive:g}):n.addEventListener(r,u,!0):g!==void 0?n.addEventListener(r,u,{passive:g}):n.addEventListener(r,u,!1)}function gs(n,r,u,c,g){var v=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var L=c.stateNode.containerInfo;if(L===g||L.nodeType===8&&L.parentNode===g)break;if(E===4)for(E=c.return;E!==null;){var B=E.tag;if((B===3||B===4)&&(B=E.stateNode.containerInfo,B===g||B.nodeType===8&&B.parentNode===g))return;E=E.return}for(;L!==null;){if(E=Fn(L),E===null)return;if(B=E.tag,B===5||B===6){c=v=E;continue e}L=L.parentNode}}c=c.return}oa(function(){var Z=v,de=Po(u),pe=[];e:{var ce=Ka.get(n);if(ce!==void 0){var Se=ts,ke=n;switch(n){case"keypress":if(Nr(u)===0)break e;case"keydown":case"keyup":Se=Pp;break;case"focusin":ke="focus",Se=rs;break;case"focusout":ke="blur",Se=rs;break;case"beforeblur":case"afterblur":Se=rs;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=Ea;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=Cp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=Lp;break;case ba:case Ja:case Wa:Se=Sp;break;case Oa:Se=Up;break;case"scroll":Se=yp;break;case"wheel":Se=zp;break;case"copy":case"cut":case"paste":Se=Ep;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=ka}var Ie=(r&4)!==0,nt=!Ie&&n==="scroll",J=Ie?ce!==null?ce+"Capture":null:ce;Ie=[];for(var G=Z,O;G!==null;){O=G;var ve=O.stateNode;if(O.tag===5&&ve!==null&&(O=ve,J!==null&&(ve=Do(G,J),ve!=null&&Ie.push(Xo(G,ve,O)))),nt)break;G=G.return}0<Ie.length&&(ce=new Se(ce,ke,null,u,de),pe.push({event:ce,listeners:Ie}))}}if((r&7)===0){e:{if(ce=n==="mouseover"||n==="pointerover",Se=n==="mouseout"||n==="pointerout",ce&&u!==Ro&&(ke=u.relatedTarget||u.fromElement)&&(Fn(ke)||ke[tn]))break e;if((Se||ce)&&(ce=de.window===de?de:(ce=de.ownerDocument)?ce.defaultView||ce.parentWindow:window,Se?(ke=u.relatedTarget||u.toElement,Se=Z,ke=ke?Fn(ke):null,ke!==null&&(nt=Ln(ke),ke!==nt||ke.tag!==5&&ke.tag!==6)&&(ke=null)):(Se=null,ke=Z),Se!==ke)){if(Ie=Ea,ve="onMouseLeave",J="onMouseEnter",G="mouse",(n==="pointerout"||n==="pointerover")&&(Ie=ka,ve="onPointerLeave",J="onPointerEnter",G="pointer"),nt=Se==null?ce:ro(Se),O=ke==null?ce:ro(ke),ce=new Ie(ve,G+"leave",Se,u,de),ce.target=nt,ce.relatedTarget=O,ve=null,Fn(de)===Z&&(Ie=new Ie(J,G+"enter",ke,u,de),Ie.target=O,Ie.relatedTarget=nt,ve=Ie),nt=ve,Se&&ke)t:{for(Ie=Se,J=ke,G=0,O=Ie;O;O=no(O))G++;for(O=0,ve=J;ve;ve=no(ve))O++;for(;0<G-O;)Ie=no(Ie),G--;for(;0<O-G;)J=no(J),O--;for(;G--;){if(Ie===J||J!==null&&Ie===J.alternate)break t;Ie=no(Ie),J=no(J)}Ie=null}else Ie=null;Se!==null&&ja(pe,ce,Se,Ie,!1),ke!==null&&nt!==null&&ja(pe,nt,ke,Ie,!0)}}e:{if(ce=Z?ro(Z):window,Se=ce.nodeName&&ce.nodeName.toLowerCase(),Se==="select"||Se==="input"&&ce.type==="file")var Ae=Jp;else if(Na(ce))if(La)Ae=Yp;else{Ae=Op;var Pe=Wp}else(Se=ce.nodeName)&&Se.toLowerCase()==="input"&&(ce.type==="checkbox"||ce.type==="radio")&&(Ae=Kp);if(Ae&&(Ae=Ae(n,Z))){Da(pe,Ae,u,de);break e}Pe&&Pe(n,ce,Z),n==="focusout"&&(Pe=ce._wrapperState)&&Pe.controlled&&ce.type==="number"&&H(ce,"number",ce.value)}switch(Pe=Z?ro(Z):window,n){case"focusin":(Na(Pe)||Pe.contentEditable==="true")&&(eo=Pe,fs=Z,Yo=null);break;case"focusout":Yo=fs=eo=null;break;case"mousedown":cs=!0;break;case"contextmenu":case"mouseup":case"dragend":cs=!1,qa(pe,u,de);break;case"selectionchange":if(Xp)break;case"keydown":case"keyup":qa(pe,u,de)}var Ne;if(ss)e:{switch(n){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else jn?Ra(n,u)&&(Le="onCompositionEnd"):n==="keydown"&&u.keyCode===229&&(Le="onCompositionStart");Le&&(Ia&&u.locale!=="ko"&&(jn||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&jn&&(Ne=Sa()):(mn=de,es="value"in mn?mn.value:mn.textContent,jn=!0)),Pe=Br(Z,Le),0<Pe.length&&(Le=new xa(Le,n,null,u,de),pe.push({event:Le,listeners:Pe}),Ne?Le.data=Ne:(Ne=Pa(u),Ne!==null&&(Le.data=Ne)))),(Ne=Gp?Hp(n,u):qp(n,u))&&(Z=Br(Z,"onBeforeInput"),0<Z.length&&(de=new xa("onBeforeInput","beforeinput",null,u,de),pe.push({event:de,listeners:Z}),de.data=Ne))}Qa(pe,r)})}function Xo(n,r,u){return{instance:n,listener:r,currentTarget:u}}function Br(n,r){for(var u=r+"Capture",c=[];n!==null;){var g=n,v=g.stateNode;g.tag===5&&v!==null&&(g=v,v=Do(n,u),v!=null&&c.unshift(Xo(n,v,g)),v=Do(n,r),v!=null&&c.push(Xo(n,v,g))),n=n.return}return c}function no(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function ja(n,r,u,c,g){for(var v=r._reactName,E=[];u!==null&&u!==c;){var L=u,B=L.alternate,Z=L.stateNode;if(B!==null&&B===c)break;L.tag===5&&Z!==null&&(L=Z,g?(B=Do(u,v),B!=null&&E.unshift(Xo(u,B,L))):g||(B=Do(u,v),B!=null&&E.push(Xo(u,B,L)))),u=u.return}E.length!==0&&n.push({event:r,listeners:E})}var nh=/\r\n?/g,oh=/\u0000|\uFFFD/g;function eu(n){return(typeof n=="string"?n:""+n).replace(nh,`
`).replace(oh,"")}function Gr(n,r,u){if(r=eu(r),eu(n)!==r&&u)throw Error(o(425))}function Hr(){}var ys=null,vs=null;function Cs(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var _s=typeof setTimeout=="function"?setTimeout:void 0,rh=typeof clearTimeout=="function"?clearTimeout:void 0,tu=typeof Promise=="function"?Promise:void 0,ih=typeof queueMicrotask=="function"?queueMicrotask:typeof tu<"u"?function(n){return tu.resolve(null).then(n).catch(sh)}:_s;function sh(n){setTimeout(function(){throw n})}function Ts(n,r){var u=r,c=0;do{var g=u.nextSibling;if(n.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(c===0){n.removeChild(g),qo(r);return}c--}else u!=="$"&&u!=="$?"&&u!=="$!"||c++;u=g}while(u);qo(r)}function yn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return n}function nu(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var u=n.data;if(u==="$"||u==="$!"||u==="$?"){if(r===0)return n;r--}else u==="/$"&&r++}n=n.previousSibling}return null}var oo=Math.random().toString(36).slice(2),Yt="__reactFiber$"+oo,jo="__reactProps$"+oo,tn="__reactContainer$"+oo,Ss="__reactEvents$"+oo,lh="__reactListeners$"+oo,ah="__reactHandles$"+oo;function Fn(n){var r=n[Yt];if(r)return r;for(var u=n.parentNode;u;){if(r=u[tn]||u[Yt]){if(u=r.alternate,r.child!==null||u!==null&&u.child!==null)for(n=nu(n);n!==null;){if(u=n[Yt])return u;n=nu(n)}return r}n=u,u=n.parentNode}return null}function er(n){return n=n[Yt]||n[tn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function ro(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(o(33))}function qr(n){return n[jo]||null}var ws=[],io=-1;function vn(n){return{current:n}}function Ke(n){0>io||(n.current=ws[io],ws[io]=null,io--)}function Je(n,r){io++,ws[io]=n.current,n.current=r}var Cn={},dt=vn(Cn),_t=vn(!1),Un=Cn;function so(n,r){var u=n.type.contextTypes;if(!u)return Cn;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var g={},v;for(v in u)g[v]=r[v];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=g),g}function Tt(n){return n=n.childContextTypes,n!=null}function $r(){Ke(_t),Ke(dt)}function ou(n,r,u){if(dt.current!==Cn)throw Error(o(168));Je(dt,r),Je(_t,u)}function ru(n,r,u){var c=n.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return u;c=c.getChildContext();for(var g in c)if(!(g in r))throw Error(o(108,_e(n)||"Unknown",g));return le({},u,c)}function br(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Cn,Un=dt.current,Je(dt,n),Je(_t,_t.current),!0}function iu(n,r,u){var c=n.stateNode;if(!c)throw Error(o(169));u?(n=ru(n,r,Un),c.__reactInternalMemoizedMergedChildContext=n,Ke(_t),Ke(dt),Je(dt,n)):Ke(_t),Je(_t,u)}var nn=null,Jr=!1,Es=!1;function su(n){nn===null?nn=[n]:nn.push(n)}function uh(n){Jr=!0,su(n)}function _n(){if(!Es&&nn!==null){Es=!0;var n=0,r=$e;try{var u=nn;for($e=1;n<u.length;n++){var c=u[n];do c=c(!0);while(c!==null)}nn=null,Jr=!1}catch(g){throw nn!==null&&(nn=nn.slice(n+1)),aa(Wi,_n),g}finally{$e=r,Es=!1}}return null}var lo=[],ao=0,Wr=null,Or=0,Nt=[],Dt=0,Vn=null,on=1,rn="";function zn(n,r){lo[ao++]=Or,lo[ao++]=Wr,Wr=n,Or=r}function lu(n,r,u){Nt[Dt++]=on,Nt[Dt++]=rn,Nt[Dt++]=Vn,Vn=n;var c=on;n=rn;var g=32-Gt(c)-1;c&=~(1<<g),u+=1;var v=32-Gt(r)+g;if(30<v){var E=g-g%5;v=(c&(1<<E)-1).toString(32),c>>=E,g-=E,on=1<<32-Gt(r)+g|u<<g|c,rn=v+n}else on=1<<v|u<<g|c,rn=n}function xs(n){n.return!==null&&(zn(n,1),lu(n,1,0))}function ks(n){for(;n===Wr;)Wr=lo[--ao],lo[ao]=null,Or=lo[--ao],lo[ao]=null;for(;n===Vn;)Vn=Nt[--Dt],Nt[Dt]=null,rn=Nt[--Dt],Nt[Dt]=null,on=Nt[--Dt],Nt[Dt]=null}var At=null,Mt=null,Qe=!1,qt=null;function au(n,r){var u=Vt(5,null,null,0);u.elementType="DELETED",u.stateNode=r,u.return=n,r=n.deletions,r===null?(n.deletions=[u],n.flags|=16):r.push(u)}function uu(n,r){switch(n.tag){case 5:var u=n.type;return r=r.nodeType!==1||u.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(n.stateNode=r,At=n,Mt=yn(r.firstChild),!0):!1;case 6:return r=n.pendingProps===""||r.nodeType!==3?null:r,r!==null?(n.stateNode=r,At=n,Mt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(u=Vn!==null?{id:on,overflow:rn}:null,n.memoizedState={dehydrated:r,treeContext:u,retryLane:1073741824},u=Vt(18,null,null,0),u.stateNode=r,u.return=n,n.child=u,At=n,Mt=null,!0):!1;default:return!1}}function Is(n){return(n.mode&1)!==0&&(n.flags&128)===0}function As(n){if(Qe){var r=Mt;if(r){var u=r;if(!uu(n,r)){if(Is(n))throw Error(o(418));r=yn(u.nextSibling);var c=At;r&&uu(n,r)?au(c,u):(n.flags=n.flags&-4097|2,Qe=!1,At=n)}}else{if(Is(n))throw Error(o(418));n.flags=n.flags&-4097|2,Qe=!1,At=n}}}function fu(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;At=n}function Kr(n){if(n!==At)return!1;if(!Qe)return fu(n),Qe=!0,!1;var r;if((r=n.tag!==3)&&!(r=n.tag!==5)&&(r=n.type,r=r!=="head"&&r!=="body"&&!Cs(n.type,n.memoizedProps)),r&&(r=Mt)){if(Is(n))throw cu(),Error(o(418));for(;r;)au(n,r),r=yn(r.nextSibling)}if(fu(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8){var u=n.data;if(u==="/$"){if(r===0){Mt=yn(n.nextSibling);break e}r--}else u!=="$"&&u!=="$!"&&u!=="$?"||r++}n=n.nextSibling}Mt=null}}else Mt=At?yn(n.stateNode.nextSibling):null;return!0}function cu(){for(var n=Mt;n;)n=yn(n.nextSibling)}function uo(){Mt=At=null,Qe=!1}function Ms(n){qt===null?qt=[n]:qt.push(n)}var fh=z.ReactCurrentBatchConfig;function tr(n,r,u){if(n=u.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(o(309));var c=u.stateNode}if(!c)throw Error(o(147,n));var g=c,v=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===v?r.ref:(r=function(E){var L=g.refs;E===null?delete L[v]:L[v]=E},r._stringRef=v,r)}if(typeof n!="string")throw Error(o(284));if(!u._owner)throw Error(o(290,n))}return n}function Yr(n,r){throw n=Object.prototype.toString.call(r),Error(o(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}function du(n){var r=n._init;return r(n._payload)}function pu(n){function r(J,G){if(n){var O=J.deletions;O===null?(J.deletions=[G],J.flags|=16):O.push(G)}}function u(J,G){if(!n)return null;for(;G!==null;)r(J,G),G=G.sibling;return null}function c(J,G){for(J=new Map;G!==null;)G.key!==null?J.set(G.key,G):J.set(G.index,G),G=G.sibling;return J}function g(J,G){return J=An(J,G),J.index=0,J.sibling=null,J}function v(J,G,O){return J.index=O,n?(O=J.alternate,O!==null?(O=O.index,O<G?(J.flags|=2,G):O):(J.flags|=2,G)):(J.flags|=1048576,G)}function E(J){return n&&J.alternate===null&&(J.flags|=2),J}function L(J,G,O,ve){return G===null||G.tag!==6?(G=_l(O,J.mode,ve),G.return=J,G):(G=g(G,O),G.return=J,G)}function B(J,G,O,ve){var Ae=O.type;return Ae===b?de(J,G,O.props.children,ve,O.key):G!==null&&(G.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===xe&&du(Ae)===G.type)?(ve=g(G,O.props),ve.ref=tr(J,G,O),ve.return=J,ve):(ve=Ci(O.type,O.key,O.props,null,J.mode,ve),ve.ref=tr(J,G,O),ve.return=J,ve)}function Z(J,G,O,ve){return G===null||G.tag!==4||G.stateNode.containerInfo!==O.containerInfo||G.stateNode.implementation!==O.implementation?(G=Tl(O,J.mode,ve),G.return=J,G):(G=g(G,O.children||[]),G.return=J,G)}function de(J,G,O,ve,Ae){return G===null||G.tag!==7?(G=Wn(O,J.mode,ve,Ae),G.return=J,G):(G=g(G,O),G.return=J,G)}function pe(J,G,O){if(typeof G=="string"&&G!==""||typeof G=="number")return G=_l(""+G,J.mode,O),G.return=J,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case V:return O=Ci(G.type,G.key,G.props,null,J.mode,O),O.ref=tr(J,null,G),O.return=J,O;case W:return G=Tl(G,J.mode,O),G.return=J,G;case xe:var ve=G._init;return pe(J,ve(G._payload),O)}if(se(G)||X(G))return G=Wn(G,J.mode,O,null),G.return=J,G;Yr(J,G)}return null}function ce(J,G,O,ve){var Ae=G!==null?G.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return Ae!==null?null:L(J,G,""+O,ve);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case V:return O.key===Ae?B(J,G,O,ve):null;case W:return O.key===Ae?Z(J,G,O,ve):null;case xe:return Ae=O._init,ce(J,G,Ae(O._payload),ve)}if(se(O)||X(O))return Ae!==null?null:de(J,G,O,ve,null);Yr(J,O)}return null}function Se(J,G,O,ve,Ae){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return J=J.get(O)||null,L(G,J,""+ve,Ae);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case V:return J=J.get(ve.key===null?O:ve.key)||null,B(G,J,ve,Ae);case W:return J=J.get(ve.key===null?O:ve.key)||null,Z(G,J,ve,Ae);case xe:var Pe=ve._init;return Se(J,G,O,Pe(ve._payload),Ae)}if(se(ve)||X(ve))return J=J.get(O)||null,de(G,J,ve,Ae,null);Yr(G,ve)}return null}function ke(J,G,O,ve){for(var Ae=null,Pe=null,Ne=G,Le=G=0,at=null;Ne!==null&&Le<O.length;Le++){Ne.index>Le?(at=Ne,Ne=null):at=Ne.sibling;var Ge=ce(J,Ne,O[Le],ve);if(Ge===null){Ne===null&&(Ne=at);break}n&&Ne&&Ge.alternate===null&&r(J,Ne),G=v(Ge,G,Le),Pe===null?Ae=Ge:Pe.sibling=Ge,Pe=Ge,Ne=at}if(Le===O.length)return u(J,Ne),Qe&&zn(J,Le),Ae;if(Ne===null){for(;Le<O.length;Le++)Ne=pe(J,O[Le],ve),Ne!==null&&(G=v(Ne,G,Le),Pe===null?Ae=Ne:Pe.sibling=Ne,Pe=Ne);return Qe&&zn(J,Le),Ae}for(Ne=c(J,Ne);Le<O.length;Le++)at=Se(Ne,J,Le,O[Le],ve),at!==null&&(n&&at.alternate!==null&&Ne.delete(at.key===null?Le:at.key),G=v(at,G,Le),Pe===null?Ae=at:Pe.sibling=at,Pe=at);return n&&Ne.forEach(function(Mn){return r(J,Mn)}),Qe&&zn(J,Le),Ae}function Ie(J,G,O,ve){var Ae=X(O);if(typeof Ae!="function")throw Error(o(150));if(O=Ae.call(O),O==null)throw Error(o(151));for(var Pe=Ae=null,Ne=G,Le=G=0,at=null,Ge=O.next();Ne!==null&&!Ge.done;Le++,Ge=O.next()){Ne.index>Le?(at=Ne,Ne=null):at=Ne.sibling;var Mn=ce(J,Ne,Ge.value,ve);if(Mn===null){Ne===null&&(Ne=at);break}n&&Ne&&Mn.alternate===null&&r(J,Ne),G=v(Mn,G,Le),Pe===null?Ae=Mn:Pe.sibling=Mn,Pe=Mn,Ne=at}if(Ge.done)return u(J,Ne),Qe&&zn(J,Le),Ae;if(Ne===null){for(;!Ge.done;Le++,Ge=O.next())Ge=pe(J,Ge.value,ve),Ge!==null&&(G=v(Ge,G,Le),Pe===null?Ae=Ge:Pe.sibling=Ge,Pe=Ge);return Qe&&zn(J,Le),Ae}for(Ne=c(J,Ne);!Ge.done;Le++,Ge=O.next())Ge=Se(Ne,J,Le,Ge.value,ve),Ge!==null&&(n&&Ge.alternate!==null&&Ne.delete(Ge.key===null?Le:Ge.key),G=v(Ge,G,Le),Pe===null?Ae=Ge:Pe.sibling=Ge,Pe=Ge);return n&&Ne.forEach(function($h){return r(J,$h)}),Qe&&zn(J,Le),Ae}function nt(J,G,O,ve){if(typeof O=="object"&&O!==null&&O.type===b&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case V:e:{for(var Ae=O.key,Pe=G;Pe!==null;){if(Pe.key===Ae){if(Ae=O.type,Ae===b){if(Pe.tag===7){u(J,Pe.sibling),G=g(Pe,O.props.children),G.return=J,J=G;break e}}else if(Pe.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===xe&&du(Ae)===Pe.type){u(J,Pe.sibling),G=g(Pe,O.props),G.ref=tr(J,Pe,O),G.return=J,J=G;break e}u(J,Pe);break}else r(J,Pe);Pe=Pe.sibling}O.type===b?(G=Wn(O.props.children,J.mode,ve,O.key),G.return=J,J=G):(ve=Ci(O.type,O.key,O.props,null,J.mode,ve),ve.ref=tr(J,G,O),ve.return=J,J=ve)}return E(J);case W:e:{for(Pe=O.key;G!==null;){if(G.key===Pe)if(G.tag===4&&G.stateNode.containerInfo===O.containerInfo&&G.stateNode.implementation===O.implementation){u(J,G.sibling),G=g(G,O.children||[]),G.return=J,J=G;break e}else{u(J,G);break}else r(J,G);G=G.sibling}G=Tl(O,J.mode,ve),G.return=J,J=G}return E(J);case xe:return Pe=O._init,nt(J,G,Pe(O._payload),ve)}if(se(O))return ke(J,G,O,ve);if(X(O))return Ie(J,G,O,ve);Yr(J,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,G!==null&&G.tag===6?(u(J,G.sibling),G=g(G,O),G.return=J,J=G):(u(J,G),G=_l(O,J.mode,ve),G.return=J,J=G),E(J)):u(J,G)}return nt}var fo=pu(!0),hu=pu(!1),Zr=vn(null),Qr=null,co=null,Rs=null;function Ps(){Rs=co=Qr=null}function Ns(n){var r=Zr.current;Ke(Zr),n._currentValue=r}function Ds(n,r,u){for(;n!==null;){var c=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),n===u)break;n=n.return}}function po(n,r){Qr=n,Rs=co=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&r)!==0&&(St=!0),n.firstContext=null)}function Lt(n){var r=n._currentValue;if(Rs!==n)if(n={context:n,memoizedValue:r,next:null},co===null){if(Qr===null)throw Error(o(308));co=n,Qr.dependencies={lanes:0,firstContext:n}}else co=co.next=n;return r}var Bn=null;function Ls(n){Bn===null?Bn=[n]:Bn.push(n)}function mu(n,r,u,c){var g=r.interleaved;return g===null?(u.next=u,Ls(r)):(u.next=g.next,g.next=u),r.interleaved=u,sn(n,c)}function sn(n,r){n.lanes|=r;var u=n.alternate;for(u!==null&&(u.lanes|=r),u=n,n=n.return;n!==null;)n.childLanes|=r,u=n.alternate,u!==null&&(u.childLanes|=r),u=n,n=n.return;return u.tag===3?u.stateNode:null}var Tn=!1;function Fs(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gu(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ln(n,r){return{eventTime:n,lane:r,tag:0,payload:null,callback:null,next:null}}function Sn(n,r,u){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Be&2)!==0){var g=c.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),c.pending=r,sn(n,u)}return g=c.interleaved,g===null?(r.next=r,Ls(c)):(r.next=g.next,g.next=r),c.interleaved=r,sn(n,u)}function Xr(n,r,u){if(r=r.updateQueue,r!==null&&(r=r.shared,(u&4194240)!==0)){var c=r.lanes;c&=n.pendingLanes,u|=c,r.lanes=u,Yi(n,u)}}function yu(n,r){var u=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,u===c)){var g=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var E={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?g=v=E:v=v.next=E,u=u.next}while(u!==null);v===null?g=v=r:v=v.next=r}else g=v=r;u={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:c.shared,effects:c.effects},n.updateQueue=u;return}n=u.lastBaseUpdate,n===null?u.firstBaseUpdate=r:n.next=r,u.lastBaseUpdate=r}function jr(n,r,u,c){var g=n.updateQueue;Tn=!1;var v=g.firstBaseUpdate,E=g.lastBaseUpdate,L=g.shared.pending;if(L!==null){g.shared.pending=null;var B=L,Z=B.next;B.next=null,E===null?v=Z:E.next=Z,E=B;var de=n.alternate;de!==null&&(de=de.updateQueue,L=de.lastBaseUpdate,L!==E&&(L===null?de.firstBaseUpdate=Z:L.next=Z,de.lastBaseUpdate=B))}if(v!==null){var pe=g.baseState;E=0,de=Z=B=null,L=v;do{var ce=L.lane,Se=L.eventTime;if((c&ce)===ce){de!==null&&(de=de.next={eventTime:Se,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var ke=n,Ie=L;switch(ce=r,Se=u,Ie.tag){case 1:if(ke=Ie.payload,typeof ke=="function"){pe=ke.call(Se,pe,ce);break e}pe=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Ie.payload,ce=typeof ke=="function"?ke.call(Se,pe,ce):ke,ce==null)break e;pe=le({},pe,ce);break e;case 2:Tn=!0}}L.callback!==null&&L.lane!==0&&(n.flags|=64,ce=g.effects,ce===null?g.effects=[L]:ce.push(L))}else Se={eventTime:Se,lane:ce,tag:L.tag,payload:L.payload,callback:L.callback,next:null},de===null?(Z=de=Se,B=pe):de=de.next=Se,E|=ce;if(L=L.next,L===null){if(L=g.shared.pending,L===null)break;ce=L,L=ce.next,ce.next=null,g.lastBaseUpdate=ce,g.shared.pending=null}}while(!0);if(de===null&&(B=pe),g.baseState=B,g.firstBaseUpdate=Z,g.lastBaseUpdate=de,r=g.shared.interleaved,r!==null){g=r;do E|=g.lane,g=g.next;while(g!==r)}else v===null&&(g.shared.lanes=0);qn|=E,n.lanes=E,n.memoizedState=pe}}function vu(n,r,u){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var c=n[r],g=c.callback;if(g!==null){if(c.callback=null,c=u,typeof g!="function")throw Error(o(191,g));g.call(c)}}}var nr={},Zt=vn(nr),or=vn(nr),rr=vn(nr);function Gn(n){if(n===nr)throw Error(o(174));return n}function Us(n,r){switch(Je(rr,r),Je(or,n),Je(Zt,nr),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:He(null,"");break;default:n=n===8?r.parentNode:r,r=n.namespaceURI||null,n=n.tagName,r=He(r,n)}Ke(Zt),Je(Zt,r)}function ho(){Ke(Zt),Ke(or),Ke(rr)}function Cu(n){Gn(rr.current);var r=Gn(Zt.current),u=He(r,n.type);r!==u&&(Je(or,n),Je(Zt,u))}function Vs(n){or.current===n&&(Ke(Zt),Ke(or))}var Xe=vn(0);function ei(n){for(var r=n;r!==null;){if(r.tag===13){var u=r.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var zs=[];function Bs(){for(var n=0;n<zs.length;n++)zs[n]._workInProgressVersionPrimary=null;zs.length=0}var ti=z.ReactCurrentDispatcher,Gs=z.ReactCurrentBatchConfig,Hn=0,je=null,rt=null,st=null,ni=!1,ir=!1,sr=0,ch=0;function pt(){throw Error(o(321))}function Hs(n,r){if(r===null)return!1;for(var u=0;u<r.length&&u<n.length;u++)if(!Ht(n[u],r[u]))return!1;return!0}function qs(n,r,u,c,g,v){if(Hn=v,je=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ti.current=n===null||n.memoizedState===null?mh:gh,n=u(c,g),ir){v=0;do{if(ir=!1,sr=0,25<=v)throw Error(o(301));v+=1,st=rt=null,r.updateQueue=null,ti.current=yh,n=u(c,g)}while(ir)}if(ti.current=ii,r=rt!==null&&rt.next!==null,Hn=0,st=rt=je=null,ni=!1,r)throw Error(o(300));return n}function $s(){var n=sr!==0;return sr=0,n}function Qt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?je.memoizedState=st=n:st=st.next=n,st}function Ft(){if(rt===null){var n=je.alternate;n=n!==null?n.memoizedState:null}else n=rt.next;var r=st===null?je.memoizedState:st.next;if(r!==null)st=r,rt=n;else{if(n===null)throw Error(o(310));rt=n,n={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},st===null?je.memoizedState=st=n:st=st.next=n}return st}function lr(n,r){return typeof r=="function"?r(n):r}function bs(n){var r=Ft(),u=r.queue;if(u===null)throw Error(o(311));u.lastRenderedReducer=n;var c=rt,g=c.baseQueue,v=u.pending;if(v!==null){if(g!==null){var E=g.next;g.next=v.next,v.next=E}c.baseQueue=g=v,u.pending=null}if(g!==null){v=g.next,c=c.baseState;var L=E=null,B=null,Z=v;do{var de=Z.lane;if((Hn&de)===de)B!==null&&(B=B.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),c=Z.hasEagerState?Z.eagerState:n(c,Z.action);else{var pe={lane:de,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};B===null?(L=B=pe,E=c):B=B.next=pe,je.lanes|=de,qn|=de}Z=Z.next}while(Z!==null&&Z!==v);B===null?E=c:B.next=L,Ht(c,r.memoizedState)||(St=!0),r.memoizedState=c,r.baseState=E,r.baseQueue=B,u.lastRenderedState=c}if(n=u.interleaved,n!==null){g=n;do v=g.lane,je.lanes|=v,qn|=v,g=g.next;while(g!==n)}else g===null&&(u.lanes=0);return[r.memoizedState,u.dispatch]}function Js(n){var r=Ft(),u=r.queue;if(u===null)throw Error(o(311));u.lastRenderedReducer=n;var c=u.dispatch,g=u.pending,v=r.memoizedState;if(g!==null){u.pending=null;var E=g=g.next;do v=n(v,E.action),E=E.next;while(E!==g);Ht(v,r.memoizedState)||(St=!0),r.memoizedState=v,r.baseQueue===null&&(r.baseState=v),u.lastRenderedState=v}return[v,c]}function _u(){}function Tu(n,r){var u=je,c=Ft(),g=r(),v=!Ht(c.memoizedState,g);if(v&&(c.memoizedState=g,St=!0),c=c.queue,Ws(Eu.bind(null,u,c,n),[n]),c.getSnapshot!==r||v||st!==null&&st.memoizedState.tag&1){if(u.flags|=2048,ar(9,wu.bind(null,u,c,g,r),void 0,null),lt===null)throw Error(o(349));(Hn&30)!==0||Su(u,r,g)}return g}function Su(n,r,u){n.flags|=16384,n={getSnapshot:r,value:u},r=je.updateQueue,r===null?(r={lastEffect:null,stores:null},je.updateQueue=r,r.stores=[n]):(u=r.stores,u===null?r.stores=[n]:u.push(n))}function wu(n,r,u,c){r.value=u,r.getSnapshot=c,xu(r)&&ku(n)}function Eu(n,r,u){return u(function(){xu(r)&&ku(n)})}function xu(n){var r=n.getSnapshot;n=n.value;try{var u=r();return!Ht(n,u)}catch{return!0}}function ku(n){var r=sn(n,1);r!==null&&Wt(r,n,1,-1)}function Iu(n){var r=Qt();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:n},r.queue=n,n=n.dispatch=hh.bind(null,je,n),[r.memoizedState,n]}function ar(n,r,u,c){return n={tag:n,create:r,destroy:u,deps:c,next:null},r=je.updateQueue,r===null?(r={lastEffect:null,stores:null},je.updateQueue=r,r.lastEffect=n.next=n):(u=r.lastEffect,u===null?r.lastEffect=n.next=n:(c=u.next,u.next=n,n.next=c,r.lastEffect=n)),n}function Au(){return Ft().memoizedState}function oi(n,r,u,c){var g=Qt();je.flags|=n,g.memoizedState=ar(1|r,u,void 0,c===void 0?null:c)}function ri(n,r,u,c){var g=Ft();c=c===void 0?null:c;var v=void 0;if(rt!==null){var E=rt.memoizedState;if(v=E.destroy,c!==null&&Hs(c,E.deps)){g.memoizedState=ar(r,u,v,c);return}}je.flags|=n,g.memoizedState=ar(1|r,u,v,c)}function Mu(n,r){return oi(8390656,8,n,r)}function Ws(n,r){return ri(2048,8,n,r)}function Ru(n,r){return ri(4,2,n,r)}function Pu(n,r){return ri(4,4,n,r)}function Nu(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Du(n,r,u){return u=u!=null?u.concat([n]):null,ri(4,4,Nu.bind(null,r,n),u)}function Os(){}function Lu(n,r){var u=Ft();r=r===void 0?null:r;var c=u.memoizedState;return c!==null&&r!==null&&Hs(r,c[1])?c[0]:(u.memoizedState=[n,r],n)}function Fu(n,r){var u=Ft();r=r===void 0?null:r;var c=u.memoizedState;return c!==null&&r!==null&&Hs(r,c[1])?c[0]:(n=n(),u.memoizedState=[n,r],n)}function Uu(n,r,u){return(Hn&21)===0?(n.baseState&&(n.baseState=!1,St=!0),n.memoizedState=u):(Ht(u,r)||(u=da(),je.lanes|=u,qn|=u,n.baseState=!0),r)}function dh(n,r){var u=$e;$e=u!==0&&4>u?u:4,n(!0);var c=Gs.transition;Gs.transition={};try{n(!1),r()}finally{$e=u,Gs.transition=c}}function Vu(){return Ft().memoizedState}function ph(n,r,u){var c=kn(n);if(u={lane:c,action:u,hasEagerState:!1,eagerState:null,next:null},zu(n))Bu(r,u);else if(u=mu(n,r,u,c),u!==null){var g=Ct();Wt(u,n,c,g),Gu(u,r,c)}}function hh(n,r,u){var c=kn(n),g={lane:c,action:u,hasEagerState:!1,eagerState:null,next:null};if(zu(n))Bu(r,g);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=r.lastRenderedReducer,v!==null))try{var E=r.lastRenderedState,L=v(E,u);if(g.hasEagerState=!0,g.eagerState=L,Ht(L,E)){var B=r.interleaved;B===null?(g.next=g,Ls(r)):(g.next=B.next,B.next=g),r.interleaved=g;return}}catch{}finally{}u=mu(n,r,g,c),u!==null&&(g=Ct(),Wt(u,n,c,g),Gu(u,r,c))}}function zu(n){var r=n.alternate;return n===je||r!==null&&r===je}function Bu(n,r){ir=ni=!0;var u=n.pending;u===null?r.next=r:(r.next=u.next,u.next=r),n.pending=r}function Gu(n,r,u){if((u&4194240)!==0){var c=r.lanes;c&=n.pendingLanes,u|=c,r.lanes=u,Yi(n,u)}}var ii={readContext:Lt,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},mh={readContext:Lt,useCallback:function(n,r){return Qt().memoizedState=[n,r===void 0?null:r],n},useContext:Lt,useEffect:Mu,useImperativeHandle:function(n,r,u){return u=u!=null?u.concat([n]):null,oi(4194308,4,Nu.bind(null,r,n),u)},useLayoutEffect:function(n,r){return oi(4194308,4,n,r)},useInsertionEffect:function(n,r){return oi(4,2,n,r)},useMemo:function(n,r){var u=Qt();return r=r===void 0?null:r,n=n(),u.memoizedState=[n,r],n},useReducer:function(n,r,u){var c=Qt();return r=u!==void 0?u(r):r,c.memoizedState=c.baseState=r,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},c.queue=n,n=n.dispatch=ph.bind(null,je,n),[c.memoizedState,n]},useRef:function(n){var r=Qt();return n={current:n},r.memoizedState=n},useState:Iu,useDebugValue:Os,useDeferredValue:function(n){return Qt().memoizedState=n},useTransition:function(){var n=Iu(!1),r=n[0];return n=dh.bind(null,n[1]),Qt().memoizedState=n,[r,n]},useMutableSource:function(){},useSyncExternalStore:function(n,r,u){var c=je,g=Qt();if(Qe){if(u===void 0)throw Error(o(407));u=u()}else{if(u=r(),lt===null)throw Error(o(349));(Hn&30)!==0||Su(c,r,u)}g.memoizedState=u;var v={value:u,getSnapshot:r};return g.queue=v,Mu(Eu.bind(null,c,v,n),[n]),c.flags|=2048,ar(9,wu.bind(null,c,v,u,r),void 0,null),u},useId:function(){var n=Qt(),r=lt.identifierPrefix;if(Qe){var u=rn,c=on;u=(c&~(1<<32-Gt(c)-1)).toString(32)+u,r=":"+r+"R"+u,u=sr++,0<u&&(r+="H"+u.toString(32)),r+=":"}else u=ch++,r=":"+r+"r"+u.toString(32)+":";return n.memoizedState=r},unstable_isNewReconciler:!1},gh={readContext:Lt,useCallback:Lu,useContext:Lt,useEffect:Ws,useImperativeHandle:Du,useInsertionEffect:Ru,useLayoutEffect:Pu,useMemo:Fu,useReducer:bs,useRef:Au,useState:function(){return bs(lr)},useDebugValue:Os,useDeferredValue:function(n){var r=Ft();return Uu(r,rt.memoizedState,n)},useTransition:function(){var n=bs(lr)[0],r=Ft().memoizedState;return[n,r]},useMutableSource:_u,useSyncExternalStore:Tu,useId:Vu,unstable_isNewReconciler:!1},yh={readContext:Lt,useCallback:Lu,useContext:Lt,useEffect:Ws,useImperativeHandle:Du,useInsertionEffect:Ru,useLayoutEffect:Pu,useMemo:Fu,useReducer:Js,useRef:Au,useState:function(){return Js(lr)},useDebugValue:Os,useDeferredValue:function(n){var r=Ft();return rt===null?r.memoizedState=n:Uu(r,rt.memoizedState,n)},useTransition:function(){var n=Js(lr)[0],r=Ft().memoizedState;return[n,r]},useMutableSource:_u,useSyncExternalStore:Tu,useId:Vu,unstable_isNewReconciler:!1};function $t(n,r){if(n&&n.defaultProps){r=le({},r),n=n.defaultProps;for(var u in n)r[u]===void 0&&(r[u]=n[u]);return r}return r}function Ks(n,r,u,c){r=n.memoizedState,u=u(c,r),u=u==null?r:le({},r,u),n.memoizedState=u,n.lanes===0&&(n.updateQueue.baseState=u)}var si={isMounted:function(n){return(n=n._reactInternals)?Ln(n)===n:!1},enqueueSetState:function(n,r,u){n=n._reactInternals;var c=Ct(),g=kn(n),v=ln(c,g);v.payload=r,u!=null&&(v.callback=u),r=Sn(n,v,g),r!==null&&(Wt(r,n,g,c),Xr(r,n,g))},enqueueReplaceState:function(n,r,u){n=n._reactInternals;var c=Ct(),g=kn(n),v=ln(c,g);v.tag=1,v.payload=r,u!=null&&(v.callback=u),r=Sn(n,v,g),r!==null&&(Wt(r,n,g,c),Xr(r,n,g))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var u=Ct(),c=kn(n),g=ln(u,c);g.tag=2,r!=null&&(g.callback=r),r=Sn(n,g,c),r!==null&&(Wt(r,n,c,u),Xr(r,n,c))}};function Hu(n,r,u,c,g,v,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,v,E):r.prototype&&r.prototype.isPureReactComponent?!Ko(u,c)||!Ko(g,v):!0}function qu(n,r,u){var c=!1,g=Cn,v=r.contextType;return typeof v=="object"&&v!==null?v=Lt(v):(g=Tt(r)?Un:dt.current,c=r.contextTypes,v=(c=c!=null)?so(n,g):Cn),r=new r(u,v),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=si,n.stateNode=r,r._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=g,n.__reactInternalMemoizedMaskedChildContext=v),r}function $u(n,r,u,c){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(u,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(u,c),r.state!==n&&si.enqueueReplaceState(r,r.state,null)}function Ys(n,r,u,c){var g=n.stateNode;g.props=u,g.state=n.memoizedState,g.refs={},Fs(n);var v=r.contextType;typeof v=="object"&&v!==null?g.context=Lt(v):(v=Tt(r)?Un:dt.current,g.context=so(n,v)),g.state=n.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(Ks(n,r,v,u),g.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(r=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),r!==g.state&&si.enqueueReplaceState(g,g.state,null),jr(n,u,g,c),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308)}function mo(n,r){try{var u="",c=r;do u+=$(c),c=c.return;while(c);var g=u}catch(v){g=`
Error generating stack: `+v.message+`
`+v.stack}return{value:n,source:r,stack:g,digest:null}}function Zs(n,r,u){return{value:n,source:null,stack:u??null,digest:r??null}}function Qs(n,r){try{console.error(r.value)}catch(u){setTimeout(function(){throw u})}}var vh=typeof WeakMap=="function"?WeakMap:Map;function bu(n,r,u){u=ln(-1,u),u.tag=3,u.payload={element:null};var c=r.value;return u.callback=function(){pi||(pi=!0,dl=c),Qs(n,r)},u}function Ju(n,r,u){u=ln(-1,u),u.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var g=r.value;u.payload=function(){return c(g)},u.callback=function(){Qs(n,r)}}var v=n.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){Qs(n,r),typeof c!="function"&&(En===null?En=new Set([this]):En.add(this));var E=r.stack;this.componentDidCatch(r.value,{componentStack:E!==null?E:""})}),u}function Wu(n,r,u){var c=n.pingCache;if(c===null){c=n.pingCache=new vh;var g=new Set;c.set(r,g)}else g=c.get(r),g===void 0&&(g=new Set,c.set(r,g));g.has(u)||(g.add(u),n=Nh.bind(null,n,r,u),r.then(n,n))}function Ou(n){do{var r;if((r=n.tag===13)&&(r=n.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return n;n=n.return}while(n!==null);return null}function Ku(n,r,u,c,g){return(n.mode&1)===0?(n===r?n.flags|=65536:(n.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(r=ln(-1,1),r.tag=2,Sn(u,r,1))),u.lanes|=1),n):(n.flags|=65536,n.lanes=g,n)}var Ch=z.ReactCurrentOwner,St=!1;function vt(n,r,u,c){r.child=n===null?hu(r,null,u,c):fo(r,n.child,u,c)}function Yu(n,r,u,c,g){u=u.render;var v=r.ref;return po(r,g),c=qs(n,r,u,c,v,g),u=$s(),n!==null&&!St?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~g,an(n,r,g)):(Qe&&u&&xs(r),r.flags|=1,vt(n,r,c,g),r.child)}function Zu(n,r,u,c,g){if(n===null){var v=u.type;return typeof v=="function"&&!Cl(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(r.tag=15,r.type=v,Qu(n,r,v,c,g)):(n=Ci(u.type,null,c,r,r.mode,g),n.ref=r.ref,n.return=r,r.child=n)}if(v=n.child,(n.lanes&g)===0){var E=v.memoizedProps;if(u=u.compare,u=u!==null?u:Ko,u(E,c)&&n.ref===r.ref)return an(n,r,g)}return r.flags|=1,n=An(v,c),n.ref=r.ref,n.return=r,r.child=n}function Qu(n,r,u,c,g){if(n!==null){var v=n.memoizedProps;if(Ko(v,c)&&n.ref===r.ref)if(St=!1,r.pendingProps=c=v,(n.lanes&g)!==0)(n.flags&131072)!==0&&(St=!0);else return r.lanes=n.lanes,an(n,r,g)}return Xs(n,r,u,c,g)}function Xu(n,r,u){var c=r.pendingProps,g=c.children,v=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(yo,Rt),Rt|=u;else{if((u&1073741824)===0)return n=v!==null?v.baseLanes|u:u,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:n,cachePool:null,transitions:null},r.updateQueue=null,Je(yo,Rt),Rt|=n,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=v!==null?v.baseLanes:u,Je(yo,Rt),Rt|=c}else v!==null?(c=v.baseLanes|u,r.memoizedState=null):c=u,Je(yo,Rt),Rt|=c;return vt(n,r,g,u),r.child}function ju(n,r){var u=r.ref;(n===null&&u!==null||n!==null&&n.ref!==u)&&(r.flags|=512,r.flags|=2097152)}function Xs(n,r,u,c,g){var v=Tt(u)?Un:dt.current;return v=so(r,v),po(r,g),u=qs(n,r,u,c,v,g),c=$s(),n!==null&&!St?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~g,an(n,r,g)):(Qe&&c&&xs(r),r.flags|=1,vt(n,r,u,g),r.child)}function ef(n,r,u,c,g){if(Tt(u)){var v=!0;br(r)}else v=!1;if(po(r,g),r.stateNode===null)ai(n,r),qu(r,u,c),Ys(r,u,c,g),c=!0;else if(n===null){var E=r.stateNode,L=r.memoizedProps;E.props=L;var B=E.context,Z=u.contextType;typeof Z=="object"&&Z!==null?Z=Lt(Z):(Z=Tt(u)?Un:dt.current,Z=so(r,Z));var de=u.getDerivedStateFromProps,pe=typeof de=="function"||typeof E.getSnapshotBeforeUpdate=="function";pe||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(L!==c||B!==Z)&&$u(r,E,c,Z),Tn=!1;var ce=r.memoizedState;E.state=ce,jr(r,c,E,g),B=r.memoizedState,L!==c||ce!==B||_t.current||Tn?(typeof de=="function"&&(Ks(r,u,de,c),B=r.memoizedState),(L=Tn||Hu(r,u,L,c,ce,B,Z))?(pe||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(r.flags|=4194308)):(typeof E.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=B),E.props=c,E.state=B,E.context=Z,c=L):(typeof E.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{E=r.stateNode,gu(n,r),L=r.memoizedProps,Z=r.type===r.elementType?L:$t(r.type,L),E.props=Z,pe=r.pendingProps,ce=E.context,B=u.contextType,typeof B=="object"&&B!==null?B=Lt(B):(B=Tt(u)?Un:dt.current,B=so(r,B));var Se=u.getDerivedStateFromProps;(de=typeof Se=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(L!==pe||ce!==B)&&$u(r,E,c,B),Tn=!1,ce=r.memoizedState,E.state=ce,jr(r,c,E,g);var ke=r.memoizedState;L!==pe||ce!==ke||_t.current||Tn?(typeof Se=="function"&&(Ks(r,u,Se,c),ke=r.memoizedState),(Z=Tn||Hu(r,u,Z,c,ce,ke,B)||!1)?(de||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(c,ke,B),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(c,ke,B)),typeof E.componentDidUpdate=="function"&&(r.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof E.componentDidUpdate!="function"||L===n.memoizedProps&&ce===n.memoizedState||(r.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||L===n.memoizedProps&&ce===n.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=ke),E.props=c,E.state=ke,E.context=B,c=Z):(typeof E.componentDidUpdate!="function"||L===n.memoizedProps&&ce===n.memoizedState||(r.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||L===n.memoizedProps&&ce===n.memoizedState||(r.flags|=1024),c=!1)}return js(n,r,u,c,v,g)}function js(n,r,u,c,g,v){ju(n,r);var E=(r.flags&128)!==0;if(!c&&!E)return g&&iu(r,u,!1),an(n,r,v);c=r.stateNode,Ch.current=r;var L=E&&typeof u.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,n!==null&&E?(r.child=fo(r,n.child,null,v),r.child=fo(r,null,L,v)):vt(n,r,L,v),r.memoizedState=c.state,g&&iu(r,u,!0),r.child}function tf(n){var r=n.stateNode;r.pendingContext?ou(n,r.pendingContext,r.pendingContext!==r.context):r.context&&ou(n,r.context,!1),Us(n,r.containerInfo)}function nf(n,r,u,c,g){return uo(),Ms(g),r.flags|=256,vt(n,r,u,c),r.child}var el={dehydrated:null,treeContext:null,retryLane:0};function tl(n){return{baseLanes:n,cachePool:null,transitions:null}}function of(n,r,u){var c=r.pendingProps,g=Xe.current,v=!1,E=(r.flags&128)!==0,L;if((L=E)||(L=n!==null&&n.memoizedState===null?!1:(g&2)!==0),L?(v=!0,r.flags&=-129):(n===null||n.memoizedState!==null)&&(g|=1),Je(Xe,g&1),n===null)return As(r),n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((r.mode&1)===0?r.lanes=1:n.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(E=c.children,n=c.fallback,v?(c=r.mode,v=r.child,E={mode:"hidden",children:E},(c&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=E):v=_i(E,c,0,null),n=Wn(n,c,u,null),v.return=r,n.return=r,v.sibling=n,r.child=v,r.child.memoizedState=tl(u),r.memoizedState=el,n):nl(r,E));if(g=n.memoizedState,g!==null&&(L=g.dehydrated,L!==null))return _h(n,r,E,c,L,g,u);if(v){v=c.fallback,E=r.mode,g=n.child,L=g.sibling;var B={mode:"hidden",children:c.children};return(E&1)===0&&r.child!==g?(c=r.child,c.childLanes=0,c.pendingProps=B,r.deletions=null):(c=An(g,B),c.subtreeFlags=g.subtreeFlags&14680064),L!==null?v=An(L,v):(v=Wn(v,E,u,null),v.flags|=2),v.return=r,c.return=r,c.sibling=v,r.child=c,c=v,v=r.child,E=n.child.memoizedState,E=E===null?tl(u):{baseLanes:E.baseLanes|u,cachePool:null,transitions:E.transitions},v.memoizedState=E,v.childLanes=n.childLanes&~u,r.memoizedState=el,c}return v=n.child,n=v.sibling,c=An(v,{mode:"visible",children:c.children}),(r.mode&1)===0&&(c.lanes=u),c.return=r,c.sibling=null,n!==null&&(u=r.deletions,u===null?(r.deletions=[n],r.flags|=16):u.push(n)),r.child=c,r.memoizedState=null,c}function nl(n,r){return r=_i({mode:"visible",children:r},n.mode,0,null),r.return=n,n.child=r}function li(n,r,u,c){return c!==null&&Ms(c),fo(r,n.child,null,u),n=nl(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function _h(n,r,u,c,g,v,E){if(u)return r.flags&256?(r.flags&=-257,c=Zs(Error(o(422))),li(n,r,E,c)):r.memoizedState!==null?(r.child=n.child,r.flags|=128,null):(v=c.fallback,g=r.mode,c=_i({mode:"visible",children:c.children},g,0,null),v=Wn(v,g,E,null),v.flags|=2,c.return=r,v.return=r,c.sibling=v,r.child=c,(r.mode&1)!==0&&fo(r,n.child,null,E),r.child.memoizedState=tl(E),r.memoizedState=el,v);if((r.mode&1)===0)return li(n,r,E,null);if(g.data==="$!"){if(c=g.nextSibling&&g.nextSibling.dataset,c)var L=c.dgst;return c=L,v=Error(o(419)),c=Zs(v,c,void 0),li(n,r,E,c)}if(L=(E&n.childLanes)!==0,St||L){if(c=lt,c!==null){switch(E&-E){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(c.suspendedLanes|E))!==0?0:g,g!==0&&g!==v.retryLane&&(v.retryLane=g,sn(n,g),Wt(c,n,g,-1))}return vl(),c=Zs(Error(o(421))),li(n,r,E,c)}return g.data==="$?"?(r.flags|=128,r.child=n.child,r=Dh.bind(null,n),g._reactRetry=r,null):(n=v.treeContext,Mt=yn(g.nextSibling),At=r,Qe=!0,qt=null,n!==null&&(Nt[Dt++]=on,Nt[Dt++]=rn,Nt[Dt++]=Vn,on=n.id,rn=n.overflow,Vn=r),r=nl(r,c.children),r.flags|=4096,r)}function rf(n,r,u){n.lanes|=r;var c=n.alternate;c!==null&&(c.lanes|=r),Ds(n.return,r,u)}function ol(n,r,u,c,g){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:u,tailMode:g}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=c,v.tail=u,v.tailMode=g)}function sf(n,r,u){var c=r.pendingProps,g=c.revealOrder,v=c.tail;if(vt(n,r,c.children,u),c=Xe.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&rf(n,u,r);else if(n.tag===19)rf(n,u,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Je(Xe,c),(r.mode&1)===0)r.memoizedState=null;else switch(g){case"forwards":for(u=r.child,g=null;u!==null;)n=u.alternate,n!==null&&ei(n)===null&&(g=u),u=u.sibling;u=g,u===null?(g=r.child,r.child=null):(g=u.sibling,u.sibling=null),ol(r,!1,g,u,v);break;case"backwards":for(u=null,g=r.child,r.child=null;g!==null;){if(n=g.alternate,n!==null&&ei(n)===null){r.child=g;break}n=g.sibling,g.sibling=u,u=g,g=n}ol(r,!0,u,null,v);break;case"together":ol(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ai(n,r){(r.mode&1)===0&&n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2)}function an(n,r,u){if(n!==null&&(r.dependencies=n.dependencies),qn|=r.lanes,(u&r.childLanes)===0)return null;if(n!==null&&r.child!==n.child)throw Error(o(153));if(r.child!==null){for(n=r.child,u=An(n,n.pendingProps),r.child=u,u.return=r;n.sibling!==null;)n=n.sibling,u=u.sibling=An(n,n.pendingProps),u.return=r;u.sibling=null}return r.child}function Th(n,r,u){switch(r.tag){case 3:tf(r),uo();break;case 5:Cu(r);break;case 1:Tt(r.type)&&br(r);break;case 4:Us(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,g=r.memoizedProps.value;Je(Zr,c._currentValue),c._currentValue=g;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(Je(Xe,Xe.current&1),r.flags|=128,null):(u&r.child.childLanes)!==0?of(n,r,u):(Je(Xe,Xe.current&1),n=an(n,r,u),n!==null?n.sibling:null);Je(Xe,Xe.current&1);break;case 19:if(c=(u&r.childLanes)!==0,(n.flags&128)!==0){if(c)return sf(n,r,u);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Je(Xe,Xe.current),c)break;return null;case 22:case 23:return r.lanes=0,Xu(n,r,u)}return an(n,r,u)}var lf,rl,af,uf;lf=function(n,r){for(var u=r.child;u!==null;){if(u.tag===5||u.tag===6)n.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===r)break;for(;u.sibling===null;){if(u.return===null||u.return===r)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},rl=function(){},af=function(n,r,u,c){var g=n.memoizedProps;if(g!==c){n=r.stateNode,Gn(Zt.current);var v=null;switch(u){case"input":g=S(n,g),c=S(n,c),v=[];break;case"select":g=le({},g,{value:void 0}),c=le({},c,{value:void 0}),v=[];break;case"textarea":g=K(n,g),c=K(n,c),v=[];break;default:typeof g.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Hr)}kt(u,c);var E;u=null;for(Z in g)if(!c.hasOwnProperty(Z)&&g.hasOwnProperty(Z)&&g[Z]!=null)if(Z==="style"){var L=g[Z];for(E in L)L.hasOwnProperty(E)&&(u||(u={}),u[E]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(a.hasOwnProperty(Z)?v||(v=[]):(v=v||[]).push(Z,null));for(Z in c){var B=c[Z];if(L=g?.[Z],c.hasOwnProperty(Z)&&B!==L&&(B!=null||L!=null))if(Z==="style")if(L){for(E in L)!L.hasOwnProperty(E)||B&&B.hasOwnProperty(E)||(u||(u={}),u[E]="");for(E in B)B.hasOwnProperty(E)&&L[E]!==B[E]&&(u||(u={}),u[E]=B[E])}else u||(v||(v=[]),v.push(Z,u)),u=B;else Z==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,L=L?L.__html:void 0,B!=null&&L!==B&&(v=v||[]).push(Z,B)):Z==="children"?typeof B!="string"&&typeof B!="number"||(v=v||[]).push(Z,""+B):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(a.hasOwnProperty(Z)?(B!=null&&Z==="onScroll"&&Oe("scroll",n),v||L===B||(v=[])):(v=v||[]).push(Z,B))}u&&(v=v||[]).push("style",u);var Z=v;(r.updateQueue=Z)&&(r.flags|=4)}},uf=function(n,r,u,c){u!==c&&(r.flags|=4)};function ur(n,r){if(!Qe)switch(n.tailMode){case"hidden":r=n.tail;for(var u=null;r!==null;)r.alternate!==null&&(u=r),r=r.sibling;u===null?n.tail=null:u.sibling=null;break;case"collapsed":u=n.tail;for(var c=null;u!==null;)u.alternate!==null&&(c=u),u=u.sibling;c===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function ht(n){var r=n.alternate!==null&&n.alternate.child===n.child,u=0,c=0;if(r)for(var g=n.child;g!==null;)u|=g.lanes|g.childLanes,c|=g.subtreeFlags&14680064,c|=g.flags&14680064,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)u|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=c,n.childLanes=u,r}function Sh(n,r,u){var c=r.pendingProps;switch(ks(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(r),null;case 1:return Tt(r.type)&&$r(),ht(r),null;case 3:return c=r.stateNode,ho(),Ke(_t),Ke(dt),Bs(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Kr(r)?r.flags|=4:n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,qt!==null&&(ml(qt),qt=null))),rl(n,r),ht(r),null;case 5:Vs(r);var g=Gn(rr.current);if(u=r.type,n!==null&&r.stateNode!=null)af(n,r,u,c,g),n.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(o(166));return ht(r),null}if(n=Gn(Zt.current),Kr(r)){c=r.stateNode,u=r.type;var v=r.memoizedProps;switch(c[Yt]=r,c[jo]=v,n=(r.mode&1)!==0,u){case"dialog":Oe("cancel",c),Oe("close",c);break;case"iframe":case"object":case"embed":Oe("load",c);break;case"video":case"audio":for(g=0;g<Zo.length;g++)Oe(Zo[g],c);break;case"source":Oe("error",c);break;case"img":case"image":case"link":Oe("error",c),Oe("load",c);break;case"details":Oe("toggle",c);break;case"input":oe(c,v),Oe("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!v.multiple},Oe("invalid",c);break;case"textarea":ye(c,v),Oe("invalid",c)}kt(u,v),g=null;for(var E in v)if(v.hasOwnProperty(E)){var L=v[E];E==="children"?typeof L=="string"?c.textContent!==L&&(v.suppressHydrationWarning!==!0&&Gr(c.textContent,L,n),g=["children",L]):typeof L=="number"&&c.textContent!==""+L&&(v.suppressHydrationWarning!==!0&&Gr(c.textContent,L,n),g=["children",""+L]):a.hasOwnProperty(E)&&L!=null&&E==="onScroll"&&Oe("scroll",c)}switch(u){case"input":Ve(c),N(c,v,!0);break;case"textarea":Ve(c),Ce(c);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(c.onclick=Hr)}c=g,r.updateQueue=c,c!==null&&(r.flags|=4)}else{E=g.nodeType===9?g:g.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Re(u)),n==="http://www.w3.org/1999/xhtml"?u==="script"?(n=E.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=E.createElement(u,{is:c.is}):(n=E.createElement(u),u==="select"&&(E=n,c.multiple?E.multiple=!0:c.size&&(E.size=c.size))):n=E.createElementNS(n,u),n[Yt]=r,n[jo]=c,lf(n,r,!1,!1),r.stateNode=n;e:{switch(E=Zn(u,c),u){case"dialog":Oe("cancel",n),Oe("close",n),g=c;break;case"iframe":case"object":case"embed":Oe("load",n),g=c;break;case"video":case"audio":for(g=0;g<Zo.length;g++)Oe(Zo[g],n);g=c;break;case"source":Oe("error",n),g=c;break;case"img":case"image":case"link":Oe("error",n),Oe("load",n),g=c;break;case"details":Oe("toggle",n),g=c;break;case"input":oe(n,c),g=S(n,c),Oe("invalid",n);break;case"option":g=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},g=le({},c,{value:void 0}),Oe("invalid",n);break;case"textarea":ye(n,c),g=K(n,c),Oe("invalid",n);break;default:g=c}kt(u,g),L=g;for(v in L)if(L.hasOwnProperty(v)){var B=L[v];v==="style"?Nn(n,B):v==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&yt(n,B)):v==="children"?typeof B=="string"?(u!=="textarea"||B!=="")&&Bt(n,B):typeof B=="number"&&Bt(n,""+B):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(a.hasOwnProperty(v)?B!=null&&v==="onScroll"&&Oe("scroll",n):B!=null&&P(n,v,B,E))}switch(u){case"input":Ve(n),N(n,c,!1);break;case"textarea":Ve(n),Ce(n);break;case"option":c.value!=null&&n.setAttribute("value",""+ue(c.value));break;case"select":n.multiple=!!c.multiple,v=c.value,v!=null?fe(n,!!c.multiple,v,!1):c.defaultValue!=null&&fe(n,!!c.multiple,c.defaultValue,!0);break;default:typeof g.onClick=="function"&&(n.onclick=Hr)}switch(u){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return ht(r),null;case 6:if(n&&r.stateNode!=null)uf(n,r,n.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(o(166));if(u=Gn(rr.current),Gn(Zt.current),Kr(r)){if(c=r.stateNode,u=r.memoizedProps,c[Yt]=r,(v=c.nodeValue!==u)&&(n=At,n!==null))switch(n.tag){case 3:Gr(c.nodeValue,u,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Gr(c.nodeValue,u,(n.mode&1)!==0)}v&&(r.flags|=4)}else c=(u.nodeType===9?u:u.ownerDocument).createTextNode(c),c[Yt]=r,r.stateNode=c}return ht(r),null;case 13:if(Ke(Xe),c=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Qe&&Mt!==null&&(r.mode&1)!==0&&(r.flags&128)===0)cu(),uo(),r.flags|=98560,v=!1;else if(v=Kr(r),c!==null&&c.dehydrated!==null){if(n===null){if(!v)throw Error(o(318));if(v=r.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(o(317));v[Yt]=r}else uo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),v=!1}else qt!==null&&(ml(qt),qt=null),v=!0;if(!v)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=u,r):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(r.child.flags|=8192,(r.mode&1)!==0&&(n===null||(Xe.current&1)!==0?it===0&&(it=3):vl())),r.updateQueue!==null&&(r.flags|=4),ht(r),null);case 4:return ho(),rl(n,r),n===null&&Qo(r.stateNode.containerInfo),ht(r),null;case 10:return Ns(r.type._context),ht(r),null;case 17:return Tt(r.type)&&$r(),ht(r),null;case 19:if(Ke(Xe),v=r.memoizedState,v===null)return ht(r),null;if(c=(r.flags&128)!==0,E=v.rendering,E===null)if(c)ur(v,!1);else{if(it!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(E=ei(n),E!==null){for(r.flags|=128,ur(v,!1),c=E.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=u,u=r.child;u!==null;)v=u,n=c,v.flags&=14680066,E=v.alternate,E===null?(v.childLanes=0,v.lanes=n,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=E.childLanes,v.lanes=E.lanes,v.child=E.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=E.memoizedProps,v.memoizedState=E.memoizedState,v.updateQueue=E.updateQueue,v.type=E.type,n=E.dependencies,v.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),u=u.sibling;return Je(Xe,Xe.current&1|2),r.child}n=n.sibling}v.tail!==null&&tt()>vo&&(r.flags|=128,c=!0,ur(v,!1),r.lanes=4194304)}else{if(!c)if(n=ei(E),n!==null){if(r.flags|=128,c=!0,u=n.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),ur(v,!0),v.tail===null&&v.tailMode==="hidden"&&!E.alternate&&!Qe)return ht(r),null}else 2*tt()-v.renderingStartTime>vo&&u!==1073741824&&(r.flags|=128,c=!0,ur(v,!1),r.lanes=4194304);v.isBackwards?(E.sibling=r.child,r.child=E):(u=v.last,u!==null?u.sibling=E:r.child=E,v.last=E)}return v.tail!==null?(r=v.tail,v.rendering=r,v.tail=r.sibling,v.renderingStartTime=tt(),r.sibling=null,u=Xe.current,Je(Xe,c?u&1|2:u&1),r):(ht(r),null);case 22:case 23:return yl(),c=r.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(r.flags|=8192),c&&(r.mode&1)!==0?(Rt&1073741824)!==0&&(ht(r),r.subtreeFlags&6&&(r.flags|=8192)):ht(r),null;case 24:return null;case 25:return null}throw Error(o(156,r.tag))}function wh(n,r){switch(ks(r),r.tag){case 1:return Tt(r.type)&&$r(),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return ho(),Ke(_t),Ke(dt),Bs(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 5:return Vs(r),null;case 13:if(Ke(Xe),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(o(340));uo()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Ke(Xe),null;case 4:return ho(),null;case 10:return Ns(r.type._context),null;case 22:case 23:return yl(),null;case 24:return null;default:return null}}var ui=!1,mt=!1,Eh=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function go(n,r){var u=n.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(c){et(n,r,c)}else u.current=null}function il(n,r,u){try{u()}catch(c){et(n,r,c)}}var ff=!1;function xh(n,r){if(ys=Mr,n=Ha(),us(n)){if("selectionStart"in n)var u={start:n.selectionStart,end:n.selectionEnd};else e:{u=(u=n.ownerDocument)&&u.defaultView||window;var c=u.getSelection&&u.getSelection();if(c&&c.rangeCount!==0){u=c.anchorNode;var g=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var E=0,L=-1,B=-1,Z=0,de=0,pe=n,ce=null;t:for(;;){for(var Se;pe!==u||g!==0&&pe.nodeType!==3||(L=E+g),pe!==v||c!==0&&pe.nodeType!==3||(B=E+c),pe.nodeType===3&&(E+=pe.nodeValue.length),(Se=pe.firstChild)!==null;)ce=pe,pe=Se;for(;;){if(pe===n)break t;if(ce===u&&++Z===g&&(L=E),ce===v&&++de===c&&(B=E),(Se=pe.nextSibling)!==null)break;pe=ce,ce=pe.parentNode}pe=Se}u=L===-1||B===-1?null:{start:L,end:B}}else u=null}u=u||{start:0,end:0}}else u=null;for(vs={focusedElem:n,selectionRange:u},Mr=!1,Ee=r;Ee!==null;)if(r=Ee,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Ee=n;else for(;Ee!==null;){r=Ee;try{var ke=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ke!==null){var Ie=ke.memoizedProps,nt=ke.memoizedState,J=r.stateNode,G=J.getSnapshotBeforeUpdate(r.elementType===r.type?Ie:$t(r.type,Ie),nt);J.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var O=r.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ve){et(r,r.return,ve)}if(n=r.sibling,n!==null){n.return=r.return,Ee=n;break}Ee=r.return}return ke=ff,ff=!1,ke}function fr(n,r,u){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var g=c=c.next;do{if((g.tag&n)===n){var v=g.destroy;g.destroy=void 0,v!==void 0&&il(r,u,v)}g=g.next}while(g!==c)}}function fi(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var u=r=r.next;do{if((u.tag&n)===n){var c=u.create;u.destroy=c()}u=u.next}while(u!==r)}}function sl(n){var r=n.ref;if(r!==null){var u=n.stateNode;switch(n.tag){case 5:n=u;break;default:n=u}typeof r=="function"?r(n):r.current=n}}function cf(n){var r=n.alternate;r!==null&&(n.alternate=null,cf(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&(delete r[Yt],delete r[jo],delete r[Ss],delete r[lh],delete r[ah])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function df(n){return n.tag===5||n.tag===3||n.tag===4}function pf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||df(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ll(n,r,u){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?u.nodeType===8?u.parentNode.insertBefore(n,r):u.insertBefore(n,r):(u.nodeType===8?(r=u.parentNode,r.insertBefore(n,u)):(r=u,r.appendChild(n)),u=u._reactRootContainer,u!=null||r.onclick!==null||(r.onclick=Hr));else if(c!==4&&(n=n.child,n!==null))for(ll(n,r,u),n=n.sibling;n!==null;)ll(n,r,u),n=n.sibling}function al(n,r,u){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?u.insertBefore(n,r):u.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(al(n,r,u),n=n.sibling;n!==null;)al(n,r,u),n=n.sibling}var ut=null,bt=!1;function wn(n,r,u){for(u=u.child;u!==null;)hf(n,r,u),u=u.sibling}function hf(n,r,u){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(wr,u)}catch{}switch(u.tag){case 5:mt||go(u,r);case 6:var c=ut,g=bt;ut=null,wn(n,r,u),ut=c,bt=g,ut!==null&&(bt?(n=ut,u=u.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)):ut.removeChild(u.stateNode));break;case 18:ut!==null&&(bt?(n=ut,u=u.stateNode,n.nodeType===8?Ts(n.parentNode,u):n.nodeType===1&&Ts(n,u),qo(n)):Ts(ut,u.stateNode));break;case 4:c=ut,g=bt,ut=u.stateNode.containerInfo,bt=!0,wn(n,r,u),ut=c,bt=g;break;case 0:case 11:case 14:case 15:if(!mt&&(c=u.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){g=c=c.next;do{var v=g,E=v.destroy;v=v.tag,E!==void 0&&((v&2)!==0||(v&4)!==0)&&il(u,r,E),g=g.next}while(g!==c)}wn(n,r,u);break;case 1:if(!mt&&(go(u,r),c=u.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=u.memoizedProps,c.state=u.memoizedState,c.componentWillUnmount()}catch(L){et(u,r,L)}wn(n,r,u);break;case 21:wn(n,r,u);break;case 22:u.mode&1?(mt=(c=mt)||u.memoizedState!==null,wn(n,r,u),mt=c):wn(n,r,u);break;default:wn(n,r,u)}}function mf(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var u=n.stateNode;u===null&&(u=n.stateNode=new Eh),r.forEach(function(c){var g=Lh.bind(null,n,c);u.has(c)||(u.add(c),c.then(g,g))})}}function Jt(n,r){var u=r.deletions;if(u!==null)for(var c=0;c<u.length;c++){var g=u[c];try{var v=n,E=r,L=E;e:for(;L!==null;){switch(L.tag){case 5:ut=L.stateNode,bt=!1;break e;case 3:ut=L.stateNode.containerInfo,bt=!0;break e;case 4:ut=L.stateNode.containerInfo,bt=!0;break e}L=L.return}if(ut===null)throw Error(o(160));hf(v,E,g),ut=null,bt=!1;var B=g.alternate;B!==null&&(B.return=null),g.return=null}catch(Z){et(g,r,Z)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)gf(r,n),r=r.sibling}function gf(n,r){var u=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Jt(r,n),Xt(n),c&4){try{fr(3,n,n.return),fi(3,n)}catch(Ie){et(n,n.return,Ie)}try{fr(5,n,n.return)}catch(Ie){et(n,n.return,Ie)}}break;case 1:Jt(r,n),Xt(n),c&512&&u!==null&&go(u,u.return);break;case 5:if(Jt(r,n),Xt(n),c&512&&u!==null&&go(u,u.return),n.flags&32){var g=n.stateNode;try{Bt(g,"")}catch(Ie){et(n,n.return,Ie)}}if(c&4&&(g=n.stateNode,g!=null)){var v=n.memoizedProps,E=u!==null?u.memoizedProps:v,L=n.type,B=n.updateQueue;if(n.updateQueue=null,B!==null)try{L==="input"&&v.type==="radio"&&v.name!=null&&Q(g,v),Zn(L,E);var Z=Zn(L,v);for(E=0;E<B.length;E+=2){var de=B[E],pe=B[E+1];de==="style"?Nn(g,pe):de==="dangerouslySetInnerHTML"?yt(g,pe):de==="children"?Bt(g,pe):P(g,de,pe,Z)}switch(L){case"input":D(g,v);break;case"textarea":we(g,v);break;case"select":var ce=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!v.multiple;var Se=v.value;Se!=null?fe(g,!!v.multiple,Se,!1):ce!==!!v.multiple&&(v.defaultValue!=null?fe(g,!!v.multiple,v.defaultValue,!0):fe(g,!!v.multiple,v.multiple?[]:"",!1))}g[jo]=v}catch(Ie){et(n,n.return,Ie)}}break;case 6:if(Jt(r,n),Xt(n),c&4){if(n.stateNode===null)throw Error(o(162));g=n.stateNode,v=n.memoizedProps;try{g.nodeValue=v}catch(Ie){et(n,n.return,Ie)}}break;case 3:if(Jt(r,n),Xt(n),c&4&&u!==null&&u.memoizedState.isDehydrated)try{qo(r.containerInfo)}catch(Ie){et(n,n.return,Ie)}break;case 4:Jt(r,n),Xt(n);break;case 13:Jt(r,n),Xt(n),g=n.child,g.flags&8192&&(v=g.memoizedState!==null,g.stateNode.isHidden=v,!v||g.alternate!==null&&g.alternate.memoizedState!==null||(cl=tt())),c&4&&mf(n);break;case 22:if(de=u!==null&&u.memoizedState!==null,n.mode&1?(mt=(Z=mt)||de,Jt(r,n),mt=Z):Jt(r,n),Xt(n),c&8192){if(Z=n.memoizedState!==null,(n.stateNode.isHidden=Z)&&!de&&(n.mode&1)!==0)for(Ee=n,de=n.child;de!==null;){for(pe=Ee=de;Ee!==null;){switch(ce=Ee,Se=ce.child,ce.tag){case 0:case 11:case 14:case 15:fr(4,ce,ce.return);break;case 1:go(ce,ce.return);var ke=ce.stateNode;if(typeof ke.componentWillUnmount=="function"){c=ce,u=ce.return;try{r=c,ke.props=r.memoizedProps,ke.state=r.memoizedState,ke.componentWillUnmount()}catch(Ie){et(c,u,Ie)}}break;case 5:go(ce,ce.return);break;case 22:if(ce.memoizedState!==null){Cf(pe);continue}}Se!==null?(Se.return=ce,Ee=Se):Cf(pe)}de=de.sibling}e:for(de=null,pe=n;;){if(pe.tag===5){if(de===null){de=pe;try{g=pe.stateNode,Z?(v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(L=pe.stateNode,B=pe.memoizedProps.style,E=B!=null&&B.hasOwnProperty("display")?B.display:null,L.style.display=Ze("display",E))}catch(Ie){et(n,n.return,Ie)}}}else if(pe.tag===6){if(de===null)try{pe.stateNode.nodeValue=Z?"":pe.memoizedProps}catch(Ie){et(n,n.return,Ie)}}else if((pe.tag!==22&&pe.tag!==23||pe.memoizedState===null||pe===n)&&pe.child!==null){pe.child.return=pe,pe=pe.child;continue}if(pe===n)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===n)break e;de===pe&&(de=null),pe=pe.return}de===pe&&(de=null),pe.sibling.return=pe.return,pe=pe.sibling}}break;case 19:Jt(r,n),Xt(n),c&4&&mf(n);break;case 21:break;default:Jt(r,n),Xt(n)}}function Xt(n){var r=n.flags;if(r&2){try{e:{for(var u=n.return;u!==null;){if(df(u)){var c=u;break e}u=u.return}throw Error(o(160))}switch(c.tag){case 5:var g=c.stateNode;c.flags&32&&(Bt(g,""),c.flags&=-33);var v=pf(n);al(n,v,g);break;case 3:case 4:var E=c.stateNode.containerInfo,L=pf(n);ll(n,L,E);break;default:throw Error(o(161))}}catch(B){et(n,n.return,B)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function kh(n,r,u){Ee=n,yf(n)}function yf(n,r,u){for(var c=(n.mode&1)!==0;Ee!==null;){var g=Ee,v=g.child;if(g.tag===22&&c){var E=g.memoizedState!==null||ui;if(!E){var L=g.alternate,B=L!==null&&L.memoizedState!==null||mt;L=ui;var Z=mt;if(ui=E,(mt=B)&&!Z)for(Ee=g;Ee!==null;)E=Ee,B=E.child,E.tag===22&&E.memoizedState!==null?_f(g):B!==null?(B.return=E,Ee=B):_f(g);for(;v!==null;)Ee=v,yf(v),v=v.sibling;Ee=g,ui=L,mt=Z}vf(n)}else(g.subtreeFlags&8772)!==0&&v!==null?(v.return=g,Ee=v):vf(n)}}function vf(n){for(;Ee!==null;){var r=Ee;if((r.flags&8772)!==0){var u=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:mt||fi(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!mt)if(u===null)c.componentDidMount();else{var g=r.elementType===r.type?u.memoizedProps:$t(r.type,u.memoizedProps);c.componentDidUpdate(g,u.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var v=r.updateQueue;v!==null&&vu(r,v,c);break;case 3:var E=r.updateQueue;if(E!==null){if(u=null,r.child!==null)switch(r.child.tag){case 5:u=r.child.stateNode;break;case 1:u=r.child.stateNode}vu(r,E,u)}break;case 5:var L=r.stateNode;if(u===null&&r.flags&4){u=L;var B=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&u.focus();break;case"img":B.src&&(u.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var Z=r.alternate;if(Z!==null){var de=Z.memoizedState;if(de!==null){var pe=de.dehydrated;pe!==null&&qo(pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}mt||r.flags&512&&sl(r)}catch(ce){et(r,r.return,ce)}}if(r===n){Ee=null;break}if(u=r.sibling,u!==null){u.return=r.return,Ee=u;break}Ee=r.return}}function Cf(n){for(;Ee!==null;){var r=Ee;if(r===n){Ee=null;break}var u=r.sibling;if(u!==null){u.return=r.return,Ee=u;break}Ee=r.return}}function _f(n){for(;Ee!==null;){var r=Ee;try{switch(r.tag){case 0:case 11:case 15:var u=r.return;try{fi(4,r)}catch(B){et(r,u,B)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var g=r.return;try{c.componentDidMount()}catch(B){et(r,g,B)}}var v=r.return;try{sl(r)}catch(B){et(r,v,B)}break;case 5:var E=r.return;try{sl(r)}catch(B){et(r,E,B)}}}catch(B){et(r,r.return,B)}if(r===n){Ee=null;break}var L=r.sibling;if(L!==null){L.return=r.return,Ee=L;break}Ee=r.return}}var Ih=Math.ceil,ci=z.ReactCurrentDispatcher,ul=z.ReactCurrentOwner,Ut=z.ReactCurrentBatchConfig,Be=0,lt=null,ot=null,ft=0,Rt=0,yo=vn(0),it=0,cr=null,qn=0,di=0,fl=0,dr=null,wt=null,cl=0,vo=1/0,un=null,pi=!1,dl=null,En=null,hi=!1,xn=null,mi=0,pr=0,pl=null,gi=-1,yi=0;function Ct(){return(Be&6)!==0?tt():gi!==-1?gi:gi=tt()}function kn(n){return(n.mode&1)===0?1:(Be&2)!==0&&ft!==0?ft&-ft:fh.transition!==null?(yi===0&&(yi=da()),yi):(n=$e,n!==0||(n=window.event,n=n===void 0?16:Ta(n.type)),n)}function Wt(n,r,u,c){if(50<pr)throw pr=0,pl=null,Error(o(185));Vo(n,u,c),((Be&2)===0||n!==lt)&&(n===lt&&((Be&2)===0&&(di|=u),it===4&&In(n,ft)),Et(n,c),u===1&&Be===0&&(r.mode&1)===0&&(vo=tt()+500,Jr&&_n()))}function Et(n,r){var u=n.callbackNode;fp(n,r);var c=kr(n,n===lt?ft:0);if(c===0)u!==null&&ua(u),n.callbackNode=null,n.callbackPriority=0;else if(r=c&-c,n.callbackPriority!==r){if(u!=null&&ua(u),r===1)n.tag===0?uh(Sf.bind(null,n)):su(Sf.bind(null,n)),ih(function(){(Be&6)===0&&_n()}),u=null;else{switch(pa(c)){case 1:u=Wi;break;case 4:u=fa;break;case 16:u=Sr;break;case 536870912:u=ca;break;default:u=Sr}u=Rf(u,Tf.bind(null,n))}n.callbackPriority=r,n.callbackNode=u}}function Tf(n,r){if(gi=-1,yi=0,(Be&6)!==0)throw Error(o(327));var u=n.callbackNode;if(Co()&&n.callbackNode!==u)return null;var c=kr(n,n===lt?ft:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||r)r=vi(n,c);else{r=c;var g=Be;Be|=2;var v=Ef();(lt!==n||ft!==r)&&(un=null,vo=tt()+500,bn(n,r));do try{Rh();break}catch(L){wf(n,L)}while(!0);Ps(),ci.current=v,Be=g,ot!==null?r=0:(lt=null,ft=0,r=it)}if(r!==0){if(r===2&&(g=Oi(n),g!==0&&(c=g,r=hl(n,g))),r===1)throw u=cr,bn(n,0),In(n,c),Et(n,tt()),u;if(r===6)In(n,c);else{if(g=n.current.alternate,(c&30)===0&&!Ah(g)&&(r=vi(n,c),r===2&&(v=Oi(n),v!==0&&(c=v,r=hl(n,v))),r===1))throw u=cr,bn(n,0),In(n,c),Et(n,tt()),u;switch(n.finishedWork=g,n.finishedLanes=c,r){case 0:case 1:throw Error(o(345));case 2:Jn(n,wt,un);break;case 3:if(In(n,c),(c&130023424)===c&&(r=cl+500-tt(),10<r)){if(kr(n,0)!==0)break;if(g=n.suspendedLanes,(g&c)!==c){Ct(),n.pingedLanes|=n.suspendedLanes&g;break}n.timeoutHandle=_s(Jn.bind(null,n,wt,un),r);break}Jn(n,wt,un);break;case 4:if(In(n,c),(c&4194240)===c)break;for(r=n.eventTimes,g=-1;0<c;){var E=31-Gt(c);v=1<<E,E=r[E],E>g&&(g=E),c&=~v}if(c=g,c=tt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Ih(c/1960))-c,10<c){n.timeoutHandle=_s(Jn.bind(null,n,wt,un),c);break}Jn(n,wt,un);break;case 5:Jn(n,wt,un);break;default:throw Error(o(329))}}}return Et(n,tt()),n.callbackNode===u?Tf.bind(null,n):null}function hl(n,r){var u=dr;return n.current.memoizedState.isDehydrated&&(bn(n,r).flags|=256),n=vi(n,r),n!==2&&(r=wt,wt=u,r!==null&&ml(r)),n}function ml(n){wt===null?wt=n:wt.push.apply(wt,n)}function Ah(n){for(var r=n;;){if(r.flags&16384){var u=r.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var c=0;c<u.length;c++){var g=u[c],v=g.getSnapshot;g=g.value;try{if(!Ht(v(),g))return!1}catch{return!1}}}if(u=r.child,r.subtreeFlags&16384&&u!==null)u.return=r,r=u;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function In(n,r){for(r&=~fl,r&=~di,n.suspendedLanes|=r,n.pingedLanes&=~r,n=n.expirationTimes;0<r;){var u=31-Gt(r),c=1<<u;n[u]=-1,r&=~c}}function Sf(n){if((Be&6)!==0)throw Error(o(327));Co();var r=kr(n,0);if((r&1)===0)return Et(n,tt()),null;var u=vi(n,r);if(n.tag!==0&&u===2){var c=Oi(n);c!==0&&(r=c,u=hl(n,c))}if(u===1)throw u=cr,bn(n,0),In(n,r),Et(n,tt()),u;if(u===6)throw Error(o(345));return n.finishedWork=n.current.alternate,n.finishedLanes=r,Jn(n,wt,un),Et(n,tt()),null}function gl(n,r){var u=Be;Be|=1;try{return n(r)}finally{Be=u,Be===0&&(vo=tt()+500,Jr&&_n())}}function $n(n){xn!==null&&xn.tag===0&&(Be&6)===0&&Co();var r=Be;Be|=1;var u=Ut.transition,c=$e;try{if(Ut.transition=null,$e=1,n)return n()}finally{$e=c,Ut.transition=u,Be=r,(Be&6)===0&&_n()}}function yl(){Rt=yo.current,Ke(yo)}function bn(n,r){n.finishedWork=null,n.finishedLanes=0;var u=n.timeoutHandle;if(u!==-1&&(n.timeoutHandle=-1,rh(u)),ot!==null)for(u=ot.return;u!==null;){var c=u;switch(ks(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&$r();break;case 3:ho(),Ke(_t),Ke(dt),Bs();break;case 5:Vs(c);break;case 4:ho();break;case 13:Ke(Xe);break;case 19:Ke(Xe);break;case 10:Ns(c.type._context);break;case 22:case 23:yl()}u=u.return}if(lt=n,ot=n=An(n.current,null),ft=Rt=r,it=0,cr=null,fl=di=qn=0,wt=dr=null,Bn!==null){for(r=0;r<Bn.length;r++)if(u=Bn[r],c=u.interleaved,c!==null){u.interleaved=null;var g=c.next,v=u.pending;if(v!==null){var E=v.next;v.next=g,c.next=E}u.pending=c}Bn=null}return n}function wf(n,r){do{var u=ot;try{if(Ps(),ti.current=ii,ni){for(var c=je.memoizedState;c!==null;){var g=c.queue;g!==null&&(g.pending=null),c=c.next}ni=!1}if(Hn=0,st=rt=je=null,ir=!1,sr=0,ul.current=null,u===null||u.return===null){it=1,cr=r,ot=null;break}e:{var v=n,E=u.return,L=u,B=r;if(r=ft,L.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var Z=B,de=L,pe=de.tag;if((de.mode&1)===0&&(pe===0||pe===11||pe===15)){var ce=de.alternate;ce?(de.updateQueue=ce.updateQueue,de.memoizedState=ce.memoizedState,de.lanes=ce.lanes):(de.updateQueue=null,de.memoizedState=null)}var Se=Ou(E);if(Se!==null){Se.flags&=-257,Ku(Se,E,L,v,r),Se.mode&1&&Wu(v,Z,r),r=Se,B=Z;var ke=r.updateQueue;if(ke===null){var Ie=new Set;Ie.add(B),r.updateQueue=Ie}else ke.add(B);break e}else{if((r&1)===0){Wu(v,Z,r),vl();break e}B=Error(o(426))}}else if(Qe&&L.mode&1){var nt=Ou(E);if(nt!==null){(nt.flags&65536)===0&&(nt.flags|=256),Ku(nt,E,L,v,r),Ms(mo(B,L));break e}}v=B=mo(B,L),it!==4&&(it=2),dr===null?dr=[v]:dr.push(v),v=E;do{switch(v.tag){case 3:v.flags|=65536,r&=-r,v.lanes|=r;var J=bu(v,B,r);yu(v,J);break e;case 1:L=B;var G=v.type,O=v.stateNode;if((v.flags&128)===0&&(typeof G.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(En===null||!En.has(O)))){v.flags|=65536,r&=-r,v.lanes|=r;var ve=Ju(v,L,r);yu(v,ve);break e}}v=v.return}while(v!==null)}kf(u)}catch(Ae){r=Ae,ot===u&&u!==null&&(ot=u=u.return);continue}break}while(!0)}function Ef(){var n=ci.current;return ci.current=ii,n===null?ii:n}function vl(){(it===0||it===3||it===2)&&(it=4),lt===null||(qn&268435455)===0&&(di&268435455)===0||In(lt,ft)}function vi(n,r){var u=Be;Be|=2;var c=Ef();(lt!==n||ft!==r)&&(un=null,bn(n,r));do try{Mh();break}catch(g){wf(n,g)}while(!0);if(Ps(),Be=u,ci.current=c,ot!==null)throw Error(o(261));return lt=null,ft=0,it}function Mh(){for(;ot!==null;)xf(ot)}function Rh(){for(;ot!==null&&!tp();)xf(ot)}function xf(n){var r=Mf(n.alternate,n,Rt);n.memoizedProps=n.pendingProps,r===null?kf(n):ot=r,ul.current=null}function kf(n){var r=n;do{var u=r.alternate;if(n=r.return,(r.flags&32768)===0){if(u=Sh(u,r,Rt),u!==null){ot=u;return}}else{if(u=wh(u,r),u!==null){u.flags&=32767,ot=u;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{it=6,ot=null;return}}if(r=r.sibling,r!==null){ot=r;return}ot=r=n}while(r!==null);it===0&&(it=5)}function Jn(n,r,u){var c=$e,g=Ut.transition;try{Ut.transition=null,$e=1,Ph(n,r,u,c)}finally{Ut.transition=g,$e=c}return null}function Ph(n,r,u,c){do Co();while(xn!==null);if((Be&6)!==0)throw Error(o(327));u=n.finishedWork;var g=n.finishedLanes;if(u===null)return null;if(n.finishedWork=null,n.finishedLanes=0,u===n.current)throw Error(o(177));n.callbackNode=null,n.callbackPriority=0;var v=u.lanes|u.childLanes;if(cp(n,v),n===lt&&(ot=lt=null,ft=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||hi||(hi=!0,Rf(Sr,function(){return Co(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=Ut.transition,Ut.transition=null;var E=$e;$e=1;var L=Be;Be|=4,ul.current=null,xh(n,u),gf(u,n),Qp(vs),Mr=!!ys,vs=ys=null,n.current=u,kh(u),np(),Be=L,$e=E,Ut.transition=v}else n.current=u;if(hi&&(hi=!1,xn=n,mi=g),v=n.pendingLanes,v===0&&(En=null),ip(u.stateNode),Et(n,tt()),r!==null)for(c=n.onRecoverableError,u=0;u<r.length;u++)g=r[u],c(g.value,{componentStack:g.stack,digest:g.digest});if(pi)throw pi=!1,n=dl,dl=null,n;return(mi&1)!==0&&n.tag!==0&&Co(),v=n.pendingLanes,(v&1)!==0?n===pl?pr++:(pr=0,pl=n):pr=0,_n(),null}function Co(){if(xn!==null){var n=pa(mi),r=Ut.transition,u=$e;try{if(Ut.transition=null,$e=16>n?16:n,xn===null)var c=!1;else{if(n=xn,xn=null,mi=0,(Be&6)!==0)throw Error(o(331));var g=Be;for(Be|=4,Ee=n.current;Ee!==null;){var v=Ee,E=v.child;if((Ee.flags&16)!==0){var L=v.deletions;if(L!==null){for(var B=0;B<L.length;B++){var Z=L[B];for(Ee=Z;Ee!==null;){var de=Ee;switch(de.tag){case 0:case 11:case 15:fr(8,de,v)}var pe=de.child;if(pe!==null)pe.return=de,Ee=pe;else for(;Ee!==null;){de=Ee;var ce=de.sibling,Se=de.return;if(cf(de),de===Z){Ee=null;break}if(ce!==null){ce.return=Se,Ee=ce;break}Ee=Se}}}var ke=v.alternate;if(ke!==null){var Ie=ke.child;if(Ie!==null){ke.child=null;do{var nt=Ie.sibling;Ie.sibling=null,Ie=nt}while(Ie!==null)}}Ee=v}}if((v.subtreeFlags&2064)!==0&&E!==null)E.return=v,Ee=E;else e:for(;Ee!==null;){if(v=Ee,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:fr(9,v,v.return)}var J=v.sibling;if(J!==null){J.return=v.return,Ee=J;break e}Ee=v.return}}var G=n.current;for(Ee=G;Ee!==null;){E=Ee;var O=E.child;if((E.subtreeFlags&2064)!==0&&O!==null)O.return=E,Ee=O;else e:for(E=G;Ee!==null;){if(L=Ee,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:fi(9,L)}}catch(Ae){et(L,L.return,Ae)}if(L===E){Ee=null;break e}var ve=L.sibling;if(ve!==null){ve.return=L.return,Ee=ve;break e}Ee=L.return}}if(Be=g,_n(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(wr,n)}catch{}c=!0}return c}finally{$e=u,Ut.transition=r}}return!1}function If(n,r,u){r=mo(u,r),r=bu(n,r,1),n=Sn(n,r,1),r=Ct(),n!==null&&(Vo(n,1,r),Et(n,r))}function et(n,r,u){if(n.tag===3)If(n,n,u);else for(;r!==null;){if(r.tag===3){If(r,n,u);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(En===null||!En.has(c))){n=mo(u,n),n=Ju(r,n,1),r=Sn(r,n,1),n=Ct(),r!==null&&(Vo(r,1,n),Et(r,n));break}}r=r.return}}function Nh(n,r,u){var c=n.pingCache;c!==null&&c.delete(r),r=Ct(),n.pingedLanes|=n.suspendedLanes&u,lt===n&&(ft&u)===u&&(it===4||it===3&&(ft&130023424)===ft&&500>tt()-cl?bn(n,0):fl|=u),Et(n,r)}function Af(n,r){r===0&&((n.mode&1)===0?r=1:(r=xr,xr<<=1,(xr&130023424)===0&&(xr=4194304)));var u=Ct();n=sn(n,r),n!==null&&(Vo(n,r,u),Et(n,u))}function Dh(n){var r=n.memoizedState,u=0;r!==null&&(u=r.retryLane),Af(n,u)}function Lh(n,r){var u=0;switch(n.tag){case 13:var c=n.stateNode,g=n.memoizedState;g!==null&&(u=g.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(o(314))}c!==null&&c.delete(r),Af(n,u)}var Mf;Mf=function(n,r,u){if(n!==null)if(n.memoizedProps!==r.pendingProps||_t.current)St=!0;else{if((n.lanes&u)===0&&(r.flags&128)===0)return St=!1,Th(n,r,u);St=(n.flags&131072)!==0}else St=!1,Qe&&(r.flags&1048576)!==0&&lu(r,Or,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;ai(n,r),n=r.pendingProps;var g=so(r,dt.current);po(r,u),g=qs(null,r,c,n,g,u);var v=$s();return r.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Tt(c)?(v=!0,br(r)):v=!1,r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Fs(r),g.updater=si,r.stateNode=g,g._reactInternals=r,Ys(r,c,n,u),r=js(null,r,c,!0,v,u)):(r.tag=0,Qe&&v&&xs(r),vt(null,r,g,u),r=r.child),r;case 16:c=r.elementType;e:{switch(ai(n,r),n=r.pendingProps,g=c._init,c=g(c._payload),r.type=c,g=r.tag=Uh(c),n=$t(c,n),g){case 0:r=Xs(null,r,c,n,u);break e;case 1:r=ef(null,r,c,n,u);break e;case 11:r=Yu(null,r,c,n,u);break e;case 14:r=Zu(null,r,c,$t(c.type,n),u);break e}throw Error(o(306,c,""))}return r;case 0:return c=r.type,g=r.pendingProps,g=r.elementType===c?g:$t(c,g),Xs(n,r,c,g,u);case 1:return c=r.type,g=r.pendingProps,g=r.elementType===c?g:$t(c,g),ef(n,r,c,g,u);case 3:e:{if(tf(r),n===null)throw Error(o(387));c=r.pendingProps,v=r.memoizedState,g=v.element,gu(n,r),jr(r,c,null,u);var E=r.memoizedState;if(c=E.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},r.updateQueue.baseState=v,r.memoizedState=v,r.flags&256){g=mo(Error(o(423)),r),r=nf(n,r,c,u,g);break e}else if(c!==g){g=mo(Error(o(424)),r),r=nf(n,r,c,u,g);break e}else for(Mt=yn(r.stateNode.containerInfo.firstChild),At=r,Qe=!0,qt=null,u=hu(r,null,c,u),r.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(uo(),c===g){r=an(n,r,u);break e}vt(n,r,c,u)}r=r.child}return r;case 5:return Cu(r),n===null&&As(r),c=r.type,g=r.pendingProps,v=n!==null?n.memoizedProps:null,E=g.children,Cs(c,g)?E=null:v!==null&&Cs(c,v)&&(r.flags|=32),ju(n,r),vt(n,r,E,u),r.child;case 6:return n===null&&As(r),null;case 13:return of(n,r,u);case 4:return Us(r,r.stateNode.containerInfo),c=r.pendingProps,n===null?r.child=fo(r,null,c,u):vt(n,r,c,u),r.child;case 11:return c=r.type,g=r.pendingProps,g=r.elementType===c?g:$t(c,g),Yu(n,r,c,g,u);case 7:return vt(n,r,r.pendingProps,u),r.child;case 8:return vt(n,r,r.pendingProps.children,u),r.child;case 12:return vt(n,r,r.pendingProps.children,u),r.child;case 10:e:{if(c=r.type._context,g=r.pendingProps,v=r.memoizedProps,E=g.value,Je(Zr,c._currentValue),c._currentValue=E,v!==null)if(Ht(v.value,E)){if(v.children===g.children&&!_t.current){r=an(n,r,u);break e}}else for(v=r.child,v!==null&&(v.return=r);v!==null;){var L=v.dependencies;if(L!==null){E=v.child;for(var B=L.firstContext;B!==null;){if(B.context===c){if(v.tag===1){B=ln(-1,u&-u),B.tag=2;var Z=v.updateQueue;if(Z!==null){Z=Z.shared;var de=Z.pending;de===null?B.next=B:(B.next=de.next,de.next=B),Z.pending=B}}v.lanes|=u,B=v.alternate,B!==null&&(B.lanes|=u),Ds(v.return,u,r),L.lanes|=u;break}B=B.next}}else if(v.tag===10)E=v.type===r.type?null:v.child;else if(v.tag===18){if(E=v.return,E===null)throw Error(o(341));E.lanes|=u,L=E.alternate,L!==null&&(L.lanes|=u),Ds(E,u,r),E=v.sibling}else E=v.child;if(E!==null)E.return=v;else for(E=v;E!==null;){if(E===r){E=null;break}if(v=E.sibling,v!==null){v.return=E.return,E=v;break}E=E.return}v=E}vt(n,r,g.children,u),r=r.child}return r;case 9:return g=r.type,c=r.pendingProps.children,po(r,u),g=Lt(g),c=c(g),r.flags|=1,vt(n,r,c,u),r.child;case 14:return c=r.type,g=$t(c,r.pendingProps),g=$t(c.type,g),Zu(n,r,c,g,u);case 15:return Qu(n,r,r.type,r.pendingProps,u);case 17:return c=r.type,g=r.pendingProps,g=r.elementType===c?g:$t(c,g),ai(n,r),r.tag=1,Tt(c)?(n=!0,br(r)):n=!1,po(r,u),qu(r,c,g),Ys(r,c,g,u),js(null,r,c,!0,n,u);case 19:return sf(n,r,u);case 22:return Xu(n,r,u)}throw Error(o(156,r.tag))};function Rf(n,r){return aa(n,r)}function Fh(n,r,u,c){this.tag=n,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(n,r,u,c){return new Fh(n,r,u,c)}function Cl(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Uh(n){if(typeof n=="function")return Cl(n)?1:0;if(n!=null){if(n=n.$$typeof,n===U)return 11;if(n===ee)return 14}return 2}function An(n,r){var u=n.alternate;return u===null?(u=Vt(n.tag,r,n.key,n.mode),u.elementType=n.elementType,u.type=n.type,u.stateNode=n.stateNode,u.alternate=n,n.alternate=u):(u.pendingProps=r,u.type=n.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=n.flags&14680064,u.childLanes=n.childLanes,u.lanes=n.lanes,u.child=n.child,u.memoizedProps=n.memoizedProps,u.memoizedState=n.memoizedState,u.updateQueue=n.updateQueue,r=n.dependencies,u.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},u.sibling=n.sibling,u.index=n.index,u.ref=n.ref,u}function Ci(n,r,u,c,g,v){var E=2;if(c=n,typeof n=="function")Cl(n)&&(E=1);else if(typeof n=="string")E=5;else e:switch(n){case b:return Wn(u.children,g,v,r);case te:E=8,g|=8;break;case q:return n=Vt(12,u,r,g|2),n.elementType=q,n.lanes=v,n;case j:return n=Vt(13,u,r,g),n.elementType=j,n.lanes=v,n;case x:return n=Vt(19,u,r,g),n.elementType=x,n.lanes=v,n;case re:return _i(u,g,v,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ne:E=10;break e;case ge:E=9;break e;case U:E=11;break e;case ee:E=14;break e;case xe:E=16,c=null;break e}throw Error(o(130,n==null?n:typeof n,""))}return r=Vt(E,u,r,g),r.elementType=n,r.type=c,r.lanes=v,r}function Wn(n,r,u,c){return n=Vt(7,n,c,r),n.lanes=u,n}function _i(n,r,u,c){return n=Vt(22,n,c,r),n.elementType=re,n.lanes=u,n.stateNode={isHidden:!1},n}function _l(n,r,u){return n=Vt(6,n,null,r),n.lanes=u,n}function Tl(n,r,u){return r=Vt(4,n.children!==null?n.children:[],n.key,r),r.lanes=u,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function Vh(n,r,u,c,g){this.tag=r,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ki(0),this.expirationTimes=Ki(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ki(0),this.identifierPrefix=c,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Sl(n,r,u,c,g,v,E,L,B){return n=new Vh(n,r,u,L,B),r===1?(r=1,v===!0&&(r|=8)):r=0,v=Vt(3,null,null,r),n.current=v,v.stateNode=n,v.memoizedState={element:c,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fs(v),n}function zh(n,r,u){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:c==null?null:""+c,children:n,containerInfo:r,implementation:u}}function Pf(n){if(!n)return Cn;n=n._reactInternals;e:{if(Ln(n)!==n||n.tag!==1)throw Error(o(170));var r=n;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Tt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(o(171))}if(n.tag===1){var u=n.type;if(Tt(u))return ru(n,u,r)}return r}function Nf(n,r,u,c,g,v,E,L,B){return n=Sl(u,c,!0,n,g,v,E,L,B),n.context=Pf(null),u=n.current,c=Ct(),g=kn(u),v=ln(c,g),v.callback=r??null,Sn(u,v,g),n.current.lanes=g,Vo(n,g,c),Et(n,c),n}function Ti(n,r,u,c){var g=r.current,v=Ct(),E=kn(g);return u=Pf(u),r.context===null?r.context=u:r.pendingContext=u,r=ln(v,E),r.payload={element:n},c=c===void 0?null:c,c!==null&&(r.callback=c),n=Sn(g,r,E),n!==null&&(Wt(n,g,E,v),Xr(n,g,E)),E}function Si(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Df(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var u=n.retryLane;n.retryLane=u!==0&&u<r?u:r}}function wl(n,r){Df(n,r),(n=n.alternate)&&Df(n,r)}function Bh(){return null}var Lf=typeof reportError=="function"?reportError:function(n){console.error(n)};function El(n){this._internalRoot=n}wi.prototype.render=El.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(o(409));Ti(n,r,null,null)},wi.prototype.unmount=El.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;$n(function(){Ti(null,n,null,null)}),r[tn]=null}};function wi(n){this._internalRoot=n}wi.prototype.unstable_scheduleHydration=function(n){if(n){var r=ga();n={blockedOn:null,target:n,priority:r};for(var u=0;u<hn.length&&r!==0&&r<hn[u].priority;u++);hn.splice(u,0,n),u===0&&Ca(n)}};function xl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Ei(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Ff(){}function Gh(n,r,u,c,g){if(g){if(typeof c=="function"){var v=c;c=function(){var Z=Si(E);v.call(Z)}}var E=Nf(r,c,n,0,null,!1,!1,"",Ff);return n._reactRootContainer=E,n[tn]=E.current,Qo(n.nodeType===8?n.parentNode:n),$n(),E}for(;g=n.lastChild;)n.removeChild(g);if(typeof c=="function"){var L=c;c=function(){var Z=Si(B);L.call(Z)}}var B=Sl(n,0,!1,null,null,!1,!1,"",Ff);return n._reactRootContainer=B,n[tn]=B.current,Qo(n.nodeType===8?n.parentNode:n),$n(function(){Ti(r,B,u,c)}),B}function xi(n,r,u,c,g){var v=u._reactRootContainer;if(v){var E=v;if(typeof g=="function"){var L=g;g=function(){var B=Si(E);L.call(B)}}Ti(r,E,n,g)}else E=Gh(u,r,n,g,c);return Si(E)}ha=function(n){switch(n.tag){case 3:var r=n.stateNode;if(r.current.memoizedState.isDehydrated){var u=Uo(r.pendingLanes);u!==0&&(Yi(r,u|1),Et(r,tt()),(Be&6)===0&&(vo=tt()+500,_n()))}break;case 13:$n(function(){var c=sn(n,1);if(c!==null){var g=Ct();Wt(c,n,1,g)}}),wl(n,1)}},Zi=function(n){if(n.tag===13){var r=sn(n,134217728);if(r!==null){var u=Ct();Wt(r,n,134217728,u)}wl(n,134217728)}},ma=function(n){if(n.tag===13){var r=kn(n),u=sn(n,r);if(u!==null){var c=Ct();Wt(u,n,r,c)}wl(n,r)}},ga=function(){return $e},ya=function(n,r){var u=$e;try{return $e=n,r()}finally{$e=u}},No=function(n,r,u){switch(r){case"input":if(D(n,u),r=u.name,u.type==="radio"&&r!=null){for(u=n;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<u.length;r++){var c=u[r];if(c!==n&&c.form===n.form){var g=qr(c);if(!g)throw Error(o(90));We(c),D(c,g)}}}break;case"textarea":we(n,u);break;case"select":r=u.value,r!=null&&fe(n,!!u.multiple,r,!1)}},ta=gl,na=$n;var Hh={usingClientEntryPoint:!1,Events:[er,ro,qr,jl,ea,gl]},hr={findFiberByHostInstance:Fn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qh={bundleType:hr.bundleType,version:hr.version,rendererPackageName:hr.rendererPackageName,rendererConfig:hr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=sa(n),n===null?null:n.stateNode},findFiberByHostInstance:hr.findFiberByHostInstance||Bh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ki=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ki.isDisabled&&ki.supportsFiber)try{wr=ki.inject(qh),Kt=ki}catch{}}return xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hh,xt.createPortal=function(n,r){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xl(r))throw Error(o(200));return zh(n,r,null,u)},xt.createRoot=function(n,r){if(!xl(n))throw Error(o(299));var u=!1,c="",g=Lf;return r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(g=r.onRecoverableError)),r=Sl(n,1,!1,null,null,u,!1,c,g),n[tn]=r.current,Qo(n.nodeType===8?n.parentNode:n),new El(r)},xt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(o(188)):(n=Object.keys(n).join(","),Error(o(268,n)));return n=sa(r),n=n===null?null:n.stateNode,n},xt.flushSync=function(n){return $n(n)},xt.hydrate=function(n,r,u){if(!Ei(r))throw Error(o(200));return xi(null,n,r,!0,u)},xt.hydrateRoot=function(n,r,u){if(!xl(n))throw Error(o(405));var c=u!=null&&u.hydratedSources||null,g=!1,v="",E=Lf;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(E=u.onRecoverableError)),r=Nf(r,null,n,1,u??null,g,!1,v,E),n[tn]=r.current,Qo(n),c)for(n=0;n<c.length;n++)u=c[n],g=u._getVersion,g=g(u._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[u,g]:r.mutableSourceEagerHydrationData.push(u,g);return new wi(r)},xt.render=function(n,r,u){if(!Ei(r))throw Error(o(200));return xi(null,n,r,!1,u)},xt.unmountComponentAtNode=function(n){if(!Ei(n))throw Error(o(40));return n._reactRootContainer?($n(function(){xi(null,null,n,!1,function(){n._reactRootContainer=null,n[tn]=null})}),!0):!1},xt.unstable_batchedUpdates=gl,xt.unstable_renderSubtreeIntoContainer=function(n,r,u,c){if(!Ei(u))throw Error(o(200));if(n==null||n._reactInternals===void 0)throw Error(o(38));return xi(n,r,u,!1,c)},xt.version="18.3.1-next-f1338f8080-20240426",xt}var $f;function Zh(){if($f)return Al.exports;$f=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Al.exports=Yh(),Al.exports}var bf;function Qh(){if(bf)return Ai;bf=1;var t=Zh();return Ai.createRoot=t.createRoot,Ai.hydrateRoot=t.hydrateRoot,Ai}var Xh=Qh();const pd=Ol(Xh);function Mi(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Pl={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Jf;function jh(){return Jf||(Jf=1,function(t,e){(function(o){t.exports=o()})(function(){return function o(i,a,f){function d(h,y){if(!a[h]){if(!i[h]){var C=typeof Mi=="function"&&Mi;if(!y&&C)return C(h,!0);if(p)return p(h,!0);var _=new Error("Cannot find module '"+h+"'");throw _.code="MODULE_NOT_FOUND",_}var T=a[h]={exports:{}};i[h][0].call(T.exports,function(k){var w=i[h][1][k];return d(w||k)},T,T.exports,o,i,a,f)}return a[h].exports}for(var p=typeof Mi=="function"&&Mi,m=0;m<f.length;m++)d(f[m]);return d}({1:[function(o,i,a){var f=o("./utils"),d=o("./support"),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(m){for(var h,y,C,_,T,k,w,I=[],A=0,R=m.length,P=R,z=f.getTypeOf(m)!=="string";A<m.length;)P=R-A,C=z?(h=m[A++],y=A<R?m[A++]:0,A<R?m[A++]:0):(h=m.charCodeAt(A++),y=A<R?m.charCodeAt(A++):0,A<R?m.charCodeAt(A++):0),_=h>>2,T=(3&h)<<4|y>>4,k=1<P?(15&y)<<2|C>>6:64,w=2<P?63&C:64,I.push(p.charAt(_)+p.charAt(T)+p.charAt(k)+p.charAt(w));return I.join("")},a.decode=function(m){var h,y,C,_,T,k,w=0,I=0,A="data:";if(m.substr(0,A.length)===A)throw new Error("Invalid base64 input, it looks like a data url.");var R,P=3*(m=m.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(m.charAt(m.length-1)===p.charAt(64)&&P--,m.charAt(m.length-2)===p.charAt(64)&&P--,P%1!=0)throw new Error("Invalid base64 input, bad content length.");for(R=d.uint8array?new Uint8Array(0|P):new Array(0|P);w<m.length;)h=p.indexOf(m.charAt(w++))<<2|(_=p.indexOf(m.charAt(w++)))>>4,y=(15&_)<<4|(T=p.indexOf(m.charAt(w++)))>>2,C=(3&T)<<6|(k=p.indexOf(m.charAt(w++))),R[I++]=h,T!==64&&(R[I++]=y),k!==64&&(R[I++]=C);return R}},{"./support":30,"./utils":32}],2:[function(o,i,a){var f=o("./external"),d=o("./stream/DataWorker"),p=o("./stream/Crc32Probe"),m=o("./stream/DataLengthProbe");function h(y,C,_,T,k){this.compressedSize=y,this.uncompressedSize=C,this.crc32=_,this.compression=T,this.compressedContent=k}h.prototype={getContentWorker:function(){var y=new d(f.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new m("data_length")),C=this;return y.on("end",function(){if(this.streamInfo.data_length!==C.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),y},getCompressedWorker:function(){return new d(f.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(y,C,_){return y.pipe(new p).pipe(new m("uncompressedSize")).pipe(C.compressWorker(_)).pipe(new m("compressedSize")).withStreamInfo("compression",C)},i.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(o,i,a){var f=o("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new f("STORE compression")},uncompressWorker:function(){return new f("STORE decompression")}},a.DEFLATE=o("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(o,i,a){var f=o("./utils"),d=function(){for(var p,m=[],h=0;h<256;h++){p=h;for(var y=0;y<8;y++)p=1&p?3988292384^p>>>1:p>>>1;m[h]=p}return m}();i.exports=function(p,m){return p!==void 0&&p.length?f.getTypeOf(p)!=="string"?function(h,y,C,_){var T=d,k=_+C;h^=-1;for(var w=_;w<k;w++)h=h>>>8^T[255&(h^y[w])];return-1^h}(0|m,p,p.length,0):function(h,y,C,_){var T=d,k=_+C;h^=-1;for(var w=_;w<k;w++)h=h>>>8^T[255&(h^y.charCodeAt(w))];return-1^h}(0|m,p,p.length,0):0}},{"./utils":32}],5:[function(o,i,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(o,i,a){var f=null;f=typeof Promise<"u"?Promise:o("lie"),i.exports={Promise:f}},{lie:37}],7:[function(o,i,a){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",d=o("pako"),p=o("./utils"),m=o("./stream/GenericWorker"),h=f?"uint8array":"array";function y(C,_){m.call(this,"FlateWorker/"+C),this._pako=null,this._pakoAction=C,this._pakoOptions=_,this.meta={}}a.magic="\b\0",p.inherits(y,m),y.prototype.processChunk=function(C){this.meta=C.meta,this._pako===null&&this._createPako(),this._pako.push(p.transformTo(h,C.data),!1)},y.prototype.flush=function(){m.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},y.prototype.cleanUp=function(){m.prototype.cleanUp.call(this),this._pako=null},y.prototype._createPako=function(){this._pako=new d[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var C=this;this._pako.onData=function(_){C.push({data:_,meta:C.meta})}},a.compressWorker=function(C){return new y("Deflate",C)},a.uncompressWorker=function(){return new y("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(o,i,a){function f(T,k){var w,I="";for(w=0;w<k;w++)I+=String.fromCharCode(255&T),T>>>=8;return I}function d(T,k,w,I,A,R){var P,z,V=T.file,W=T.compression,b=R!==h.utf8encode,te=p.transformTo("string",R(V.name)),q=p.transformTo("string",h.utf8encode(V.name)),ne=V.comment,ge=p.transformTo("string",R(ne)),U=p.transformTo("string",h.utf8encode(ne)),j=q.length!==V.name.length,x=U.length!==ne.length,ee="",xe="",re="",ie=V.dir,X=V.date,le={crc32:0,compressedSize:0,uncompressedSize:0};k&&!w||(le.crc32=T.crc32,le.compressedSize=T.compressedSize,le.uncompressedSize=T.uncompressedSize);var M=0;k&&(M|=8),b||!j&&!x||(M|=2048);var F=0,me=0;ie&&(F|=16),A==="UNIX"?(me=798,F|=function($,he){var _e=$;return $||(_e=he?16893:33204),(65535&_e)<<16}(V.unixPermissions,ie)):(me=20,F|=function($){return 63&($||0)}(V.dosPermissions)),P=X.getUTCHours(),P<<=6,P|=X.getUTCMinutes(),P<<=5,P|=X.getUTCSeconds()/2,z=X.getUTCFullYear()-1980,z<<=4,z|=X.getUTCMonth()+1,z<<=5,z|=X.getUTCDate(),j&&(xe=f(1,1)+f(y(te),4)+q,ee+="up"+f(xe.length,2)+xe),x&&(re=f(1,1)+f(y(ge),4)+U,ee+="uc"+f(re.length,2)+re);var ae="";return ae+=`
\0`,ae+=f(M,2),ae+=W.magic,ae+=f(P,2),ae+=f(z,2),ae+=f(le.crc32,4),ae+=f(le.compressedSize,4),ae+=f(le.uncompressedSize,4),ae+=f(te.length,2),ae+=f(ee.length,2),{fileRecord:C.LOCAL_FILE_HEADER+ae+te+ee,dirRecord:C.CENTRAL_FILE_HEADER+f(me,2)+ae+f(ge.length,2)+"\0\0\0\0"+f(F,4)+f(I,4)+te+ee+ge}}var p=o("../utils"),m=o("../stream/GenericWorker"),h=o("../utf8"),y=o("../crc32"),C=o("../signature");function _(T,k,w,I){m.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=k,this.zipPlatform=w,this.encodeFileName=I,this.streamFiles=T,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}p.inherits(_,m),_.prototype.push=function(T){var k=T.meta.percent||0,w=this.entriesCount,I=this._sources.length;this.accumulate?this.contentBuffer.push(T):(this.bytesWritten+=T.data.length,m.prototype.push.call(this,{data:T.data,meta:{currentFile:this.currentFile,percent:w?(k+100*(w-I-1))/w:100}}))},_.prototype.openedSource=function(T){this.currentSourceOffset=this.bytesWritten,this.currentFile=T.file.name;var k=this.streamFiles&&!T.file.dir;if(k){var w=d(T,k,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:w.fileRecord,meta:{percent:0}})}else this.accumulate=!0},_.prototype.closedSource=function(T){this.accumulate=!1;var k=this.streamFiles&&!T.file.dir,w=d(T,k,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(w.dirRecord),k)this.push({data:function(I){return C.DATA_DESCRIPTOR+f(I.crc32,4)+f(I.compressedSize,4)+f(I.uncompressedSize,4)}(T),meta:{percent:100}});else for(this.push({data:w.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},_.prototype.flush=function(){for(var T=this.bytesWritten,k=0;k<this.dirRecords.length;k++)this.push({data:this.dirRecords[k],meta:{percent:100}});var w=this.bytesWritten-T,I=function(A,R,P,z,V){var W=p.transformTo("string",V(z));return C.CENTRAL_DIRECTORY_END+"\0\0\0\0"+f(A,2)+f(A,2)+f(R,4)+f(P,4)+f(W.length,2)+W}(this.dirRecords.length,w,T,this.zipComment,this.encodeFileName);this.push({data:I,meta:{percent:100}})},_.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},_.prototype.registerPrevious=function(T){this._sources.push(T);var k=this;return T.on("data",function(w){k.processChunk(w)}),T.on("end",function(){k.closedSource(k.previous.streamInfo),k._sources.length?k.prepareNextSource():k.end()}),T.on("error",function(w){k.error(w)}),this},_.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},_.prototype.error=function(T){var k=this._sources;if(!m.prototype.error.call(this,T))return!1;for(var w=0;w<k.length;w++)try{k[w].error(T)}catch{}return!0},_.prototype.lock=function(){m.prototype.lock.call(this);for(var T=this._sources,k=0;k<T.length;k++)T[k].lock()},i.exports=_},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(o,i,a){var f=o("../compressions"),d=o("./ZipFileWorker");a.generateWorker=function(p,m,h){var y=new d(m.streamFiles,h,m.platform,m.encodeFileName),C=0;try{p.forEach(function(_,T){C++;var k=function(R,P){var z=R||P,V=f[z];if(!V)throw new Error(z+" is not a valid compression method !");return V}(T.options.compression,m.compression),w=T.options.compressionOptions||m.compressionOptions||{},I=T.dir,A=T.date;T._compressWorker(k,w).withStreamInfo("file",{name:_,dir:I,date:A,comment:T.comment||"",unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions}).pipe(y)}),y.entriesCount=C}catch(_){y.error(_)}return y}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(o,i,a){function f(){if(!(this instanceof f))return new f;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var d=new f;for(var p in this)typeof this[p]!="function"&&(d[p]=this[p]);return d}}(f.prototype=o("./object")).loadAsync=o("./load"),f.support=o("./support"),f.defaults=o("./defaults"),f.version="3.10.1",f.loadAsync=function(d,p){return new f().loadAsync(d,p)},f.external=o("./external"),i.exports=f},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(o,i,a){var f=o("./utils"),d=o("./external"),p=o("./utf8"),m=o("./zipEntries"),h=o("./stream/Crc32Probe"),y=o("./nodejsUtils");function C(_){return new d.Promise(function(T,k){var w=_.decompressed.getContentWorker().pipe(new h);w.on("error",function(I){k(I)}).on("end",function(){w.streamInfo.crc32!==_.decompressed.crc32?k(new Error("Corrupted zip : CRC32 mismatch")):T()}).resume()})}i.exports=function(_,T){var k=this;return T=f.extend(T||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:p.utf8decode}),y.isNode&&y.isStream(_)?d.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):f.prepareContent("the loaded zip file",_,!0,T.optimizedBinaryString,T.base64).then(function(w){var I=new m(T);return I.load(w),I}).then(function(w){var I=[d.Promise.resolve(w)],A=w.files;if(T.checkCRC32)for(var R=0;R<A.length;R++)I.push(C(A[R]));return d.Promise.all(I)}).then(function(w){for(var I=w.shift(),A=I.files,R=0;R<A.length;R++){var P=A[R],z=P.fileNameStr,V=f.resolve(P.fileNameStr);k.file(V,P.decompressed,{binary:!0,optimizedBinaryString:!0,date:P.date,dir:P.dir,comment:P.fileCommentStr.length?P.fileCommentStr:null,unixPermissions:P.unixPermissions,dosPermissions:P.dosPermissions,createFolders:T.createFolders}),P.dir||(k.file(V).unsafeOriginalName=z)}return I.zipComment.length&&(k.comment=I.zipComment),k})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(o,i,a){var f=o("../utils"),d=o("../stream/GenericWorker");function p(m,h){d.call(this,"Nodejs stream input adapter for "+m),this._upstreamEnded=!1,this._bindStream(h)}f.inherits(p,d),p.prototype._bindStream=function(m){var h=this;(this._stream=m).pause(),m.on("data",function(y){h.push({data:y,meta:{percent:0}})}).on("error",function(y){h.isPaused?this.generatedError=y:h.error(y)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},p.prototype.pause=function(){return!!d.prototype.pause.call(this)&&(this._stream.pause(),!0)},p.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=p},{"../stream/GenericWorker":28,"../utils":32}],13:[function(o,i,a){var f=o("readable-stream").Readable;function d(p,m,h){f.call(this,m),this._helper=p;var y=this;p.on("data",function(C,_){y.push(C)||y._helper.pause(),h&&h(_)}).on("error",function(C){y.emit("error",C)}).on("end",function(){y.push(null)})}o("../utils").inherits(d,f),d.prototype._read=function(){this._helper.resume()},i.exports=d},{"../utils":32,"readable-stream":16}],14:[function(o,i,a){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(f,d){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(f,d);if(typeof f=="number")throw new Error('The "data" argument must not be a number');return new Buffer(f,d)},allocBuffer:function(f){if(Buffer.alloc)return Buffer.alloc(f);var d=new Buffer(f);return d.fill(0),d},isBuffer:function(f){return Buffer.isBuffer(f)},isStream:function(f){return f&&typeof f.on=="function"&&typeof f.pause=="function"&&typeof f.resume=="function"}}},{}],15:[function(o,i,a){function f(V,W,b){var te,q=p.getTypeOf(W),ne=p.extend(b||{},y);ne.date=ne.date||new Date,ne.compression!==null&&(ne.compression=ne.compression.toUpperCase()),typeof ne.unixPermissions=="string"&&(ne.unixPermissions=parseInt(ne.unixPermissions,8)),ne.unixPermissions&&16384&ne.unixPermissions&&(ne.dir=!0),ne.dosPermissions&&16&ne.dosPermissions&&(ne.dir=!0),ne.dir&&(V=A(V)),ne.createFolders&&(te=I(V))&&R.call(this,te,!0);var ge=q==="string"&&ne.binary===!1&&ne.base64===!1;b&&b.binary!==void 0||(ne.binary=!ge),(W instanceof C&&W.uncompressedSize===0||ne.dir||!W||W.length===0)&&(ne.base64=!1,ne.binary=!0,W="",ne.compression="STORE",q="string");var U=null;U=W instanceof C||W instanceof m?W:k.isNode&&k.isStream(W)?new w(V,W):p.prepareContent(V,W,ne.binary,ne.optimizedBinaryString,ne.base64);var j=new _(V,U,ne);this.files[V]=j}var d=o("./utf8"),p=o("./utils"),m=o("./stream/GenericWorker"),h=o("./stream/StreamHelper"),y=o("./defaults"),C=o("./compressedObject"),_=o("./zipObject"),T=o("./generate"),k=o("./nodejsUtils"),w=o("./nodejs/NodejsStreamInputAdapter"),I=function(V){V.slice(-1)==="/"&&(V=V.substring(0,V.length-1));var W=V.lastIndexOf("/");return 0<W?V.substring(0,W):""},A=function(V){return V.slice(-1)!=="/"&&(V+="/"),V},R=function(V,W){return W=W!==void 0?W:y.createFolders,V=A(V),this.files[V]||f.call(this,V,null,{dir:!0,createFolders:W}),this.files[V]};function P(V){return Object.prototype.toString.call(V)==="[object RegExp]"}var z={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(V){var W,b,te;for(W in this.files)te=this.files[W],(b=W.slice(this.root.length,W.length))&&W.slice(0,this.root.length)===this.root&&V(b,te)},filter:function(V){var W=[];return this.forEach(function(b,te){V(b,te)&&W.push(te)}),W},file:function(V,W,b){if(arguments.length!==1)return V=this.root+V,f.call(this,V,W,b),this;if(P(V)){var te=V;return this.filter(function(ne,ge){return!ge.dir&&te.test(ne)})}var q=this.files[this.root+V];return q&&!q.dir?q:null},folder:function(V){if(!V)return this;if(P(V))return this.filter(function(q,ne){return ne.dir&&V.test(q)});var W=this.root+V,b=R.call(this,W),te=this.clone();return te.root=b.name,te},remove:function(V){V=this.root+V;var W=this.files[V];if(W||(V.slice(-1)!=="/"&&(V+="/"),W=this.files[V]),W&&!W.dir)delete this.files[V];else for(var b=this.filter(function(q,ne){return ne.name.slice(0,V.length)===V}),te=0;te<b.length;te++)delete this.files[b[te].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(V){var W,b={};try{if((b=p.extend(V||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:d.utf8encode})).type=b.type.toLowerCase(),b.compression=b.compression.toUpperCase(),b.type==="binarystring"&&(b.type="string"),!b.type)throw new Error("No output type specified.");p.checkSupport(b.type),b.platform!=="darwin"&&b.platform!=="freebsd"&&b.platform!=="linux"&&b.platform!=="sunos"||(b.platform="UNIX"),b.platform==="win32"&&(b.platform="DOS");var te=b.comment||this.comment||"";W=T.generateWorker(this,b,te)}catch(q){(W=new m("error")).error(q)}return new h(W,b.type||"string",b.mimeType)},generateAsync:function(V,W){return this.generateInternalStream(V).accumulate(W)},generateNodeStream:function(V,W){return(V=V||{}).type||(V.type="nodebuffer"),this.generateInternalStream(V).toNodejsStream(W)}};i.exports=z},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(o,i,a){i.exports=o("stream")},{stream:void 0}],17:[function(o,i,a){var f=o("./DataReader");function d(p){f.call(this,p);for(var m=0;m<this.data.length;m++)p[m]=255&p[m]}o("../utils").inherits(d,f),d.prototype.byteAt=function(p){return this.data[this.zero+p]},d.prototype.lastIndexOfSignature=function(p){for(var m=p.charCodeAt(0),h=p.charCodeAt(1),y=p.charCodeAt(2),C=p.charCodeAt(3),_=this.length-4;0<=_;--_)if(this.data[_]===m&&this.data[_+1]===h&&this.data[_+2]===y&&this.data[_+3]===C)return _-this.zero;return-1},d.prototype.readAndCheckSignature=function(p){var m=p.charCodeAt(0),h=p.charCodeAt(1),y=p.charCodeAt(2),C=p.charCodeAt(3),_=this.readData(4);return m===_[0]&&h===_[1]&&y===_[2]&&C===_[3]},d.prototype.readData=function(p){if(this.checkOffset(p),p===0)return[];var m=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,m},i.exports=d},{"../utils":32,"./DataReader":18}],18:[function(o,i,a){var f=o("../utils");function d(p){this.data=p,this.length=p.length,this.index=0,this.zero=0}d.prototype={checkOffset:function(p){this.checkIndex(this.index+p)},checkIndex:function(p){if(this.length<this.zero+p||p<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+p+"). Corrupted zip ?")},setIndex:function(p){this.checkIndex(p),this.index=p},skip:function(p){this.setIndex(this.index+p)},byteAt:function(){},readInt:function(p){var m,h=0;for(this.checkOffset(p),m=this.index+p-1;m>=this.index;m--)h=(h<<8)+this.byteAt(m);return this.index+=p,h},readString:function(p){return f.transformTo("string",this.readData(p))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var p=this.readInt(4);return new Date(Date.UTC(1980+(p>>25&127),(p>>21&15)-1,p>>16&31,p>>11&31,p>>5&63,(31&p)<<1))}},i.exports=d},{"../utils":32}],19:[function(o,i,a){var f=o("./Uint8ArrayReader");function d(p){f.call(this,p)}o("../utils").inherits(d,f),d.prototype.readData=function(p){this.checkOffset(p);var m=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,m},i.exports=d},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(o,i,a){var f=o("./DataReader");function d(p){f.call(this,p)}o("../utils").inherits(d,f),d.prototype.byteAt=function(p){return this.data.charCodeAt(this.zero+p)},d.prototype.lastIndexOfSignature=function(p){return this.data.lastIndexOf(p)-this.zero},d.prototype.readAndCheckSignature=function(p){return p===this.readData(4)},d.prototype.readData=function(p){this.checkOffset(p);var m=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,m},i.exports=d},{"../utils":32,"./DataReader":18}],21:[function(o,i,a){var f=o("./ArrayReader");function d(p){f.call(this,p)}o("../utils").inherits(d,f),d.prototype.readData=function(p){if(this.checkOffset(p),p===0)return new Uint8Array(0);var m=this.data.subarray(this.zero+this.index,this.zero+this.index+p);return this.index+=p,m},i.exports=d},{"../utils":32,"./ArrayReader":17}],22:[function(o,i,a){var f=o("../utils"),d=o("../support"),p=o("./ArrayReader"),m=o("./StringReader"),h=o("./NodeBufferReader"),y=o("./Uint8ArrayReader");i.exports=function(C){var _=f.getTypeOf(C);return f.checkSupport(_),_!=="string"||d.uint8array?_==="nodebuffer"?new h(C):d.uint8array?new y(f.transformTo("uint8array",C)):new p(f.transformTo("array",C)):new m(C)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(o,i,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(o,i,a){var f=o("./GenericWorker"),d=o("../utils");function p(m){f.call(this,"ConvertWorker to "+m),this.destType=m}d.inherits(p,f),p.prototype.processChunk=function(m){this.push({data:d.transformTo(this.destType,m.data),meta:m.meta})},i.exports=p},{"../utils":32,"./GenericWorker":28}],25:[function(o,i,a){var f=o("./GenericWorker"),d=o("../crc32");function p(){f.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}o("../utils").inherits(p,f),p.prototype.processChunk=function(m){this.streamInfo.crc32=d(m.data,this.streamInfo.crc32||0),this.push(m)},i.exports=p},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(o,i,a){var f=o("../utils"),d=o("./GenericWorker");function p(m){d.call(this,"DataLengthProbe for "+m),this.propName=m,this.withStreamInfo(m,0)}f.inherits(p,d),p.prototype.processChunk=function(m){if(m){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+m.data.length}d.prototype.processChunk.call(this,m)},i.exports=p},{"../utils":32,"./GenericWorker":28}],27:[function(o,i,a){var f=o("../utils"),d=o("./GenericWorker");function p(m){d.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,m.then(function(y){h.dataIsReady=!0,h.data=y,h.max=y&&y.length||0,h.type=f.getTypeOf(y),h.isPaused||h._tickAndRepeat()},function(y){h.error(y)})}f.inherits(p,d),p.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this.data=null},p.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,f.delay(this._tickAndRepeat,[],this)),!0)},p.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(f.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},p.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var m=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":m=this.data.substring(this.index,h);break;case"uint8array":m=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":m=this.data.slice(this.index,h)}return this.index=h,this.push({data:m,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=p},{"../utils":32,"./GenericWorker":28}],28:[function(o,i,a){function f(d){this.name=d||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}f.prototype={push:function(d){this.emit("data",d)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(d){this.emit("error",d)}return!0},error:function(d){return!this.isFinished&&(this.isPaused?this.generatedError=d:(this.isFinished=!0,this.emit("error",d),this.previous&&this.previous.error(d),this.cleanUp()),!0)},on:function(d,p){return this._listeners[d].push(p),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(d,p){if(this._listeners[d])for(var m=0;m<this._listeners[d].length;m++)this._listeners[d][m].call(this,p)},pipe:function(d){return d.registerPrevious(this)},registerPrevious:function(d){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=d.streamInfo,this.mergeStreamInfo(),this.previous=d;var p=this;return d.on("data",function(m){p.processChunk(m)}),d.on("end",function(){p.end()}),d.on("error",function(m){p.error(m)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var d=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),d=!0),this.previous&&this.previous.resume(),!d},flush:function(){},processChunk:function(d){this.push(d)},withStreamInfo:function(d,p){return this.extraStreamInfo[d]=p,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var d in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,d)&&(this.streamInfo[d]=this.extraStreamInfo[d])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var d="Worker "+this.name;return this.previous?this.previous+" -> "+d:d}},i.exports=f},{}],29:[function(o,i,a){var f=o("../utils"),d=o("./ConvertWorker"),p=o("./GenericWorker"),m=o("../base64"),h=o("../support"),y=o("../external"),C=null;if(h.nodestream)try{C=o("../nodejs/NodejsStreamOutputAdapter")}catch{}function _(k,w){return new y.Promise(function(I,A){var R=[],P=k._internalType,z=k._outputType,V=k._mimeType;k.on("data",function(W,b){R.push(W),w&&w(b)}).on("error",function(W){R=[],A(W)}).on("end",function(){try{var W=function(b,te,q){switch(b){case"blob":return f.newBlob(f.transformTo("arraybuffer",te),q);case"base64":return m.encode(te);default:return f.transformTo(b,te)}}(z,function(b,te){var q,ne=0,ge=null,U=0;for(q=0;q<te.length;q++)U+=te[q].length;switch(b){case"string":return te.join("");case"array":return Array.prototype.concat.apply([],te);case"uint8array":for(ge=new Uint8Array(U),q=0;q<te.length;q++)ge.set(te[q],ne),ne+=te[q].length;return ge;case"nodebuffer":return Buffer.concat(te);default:throw new Error("concat : unsupported type '"+b+"'")}}(P,R),V);I(W)}catch(b){A(b)}R=[]}).resume()})}function T(k,w,I){var A=w;switch(w){case"blob":case"arraybuffer":A="uint8array";break;case"base64":A="string"}try{this._internalType=A,this._outputType=w,this._mimeType=I,f.checkSupport(A),this._worker=k.pipe(new d(A)),k.lock()}catch(R){this._worker=new p("error"),this._worker.error(R)}}T.prototype={accumulate:function(k){return _(this,k)},on:function(k,w){var I=this;return k==="data"?this._worker.on(k,function(A){w.call(I,A.data,A.meta)}):this._worker.on(k,function(){f.delay(w,arguments,I)}),this},resume:function(){return f.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(k){if(f.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new C(this,{objectMode:this._outputType!=="nodebuffer"},k)}},i.exports=T},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(o,i,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var f=new ArrayBuffer(0);try{a.blob=new Blob([f],{type:"application/zip"}).size===0}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);d.append(f),a.blob=d.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!o("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(o,i,a){for(var f=o("./utils"),d=o("./support"),p=o("./nodejsUtils"),m=o("./stream/GenericWorker"),h=new Array(256),y=0;y<256;y++)h[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;h[254]=h[254]=1;function C(){m.call(this,"utf-8 decode"),this.leftOver=null}function _(){m.call(this,"utf-8 encode")}a.utf8encode=function(T){return d.nodebuffer?p.newBufferFrom(T,"utf-8"):function(k){var w,I,A,R,P,z=k.length,V=0;for(R=0;R<z;R++)(64512&(I=k.charCodeAt(R)))==55296&&R+1<z&&(64512&(A=k.charCodeAt(R+1)))==56320&&(I=65536+(I-55296<<10)+(A-56320),R++),V+=I<128?1:I<2048?2:I<65536?3:4;for(w=d.uint8array?new Uint8Array(V):new Array(V),R=P=0;P<V;R++)(64512&(I=k.charCodeAt(R)))==55296&&R+1<z&&(64512&(A=k.charCodeAt(R+1)))==56320&&(I=65536+(I-55296<<10)+(A-56320),R++),I<128?w[P++]=I:(I<2048?w[P++]=192|I>>>6:(I<65536?w[P++]=224|I>>>12:(w[P++]=240|I>>>18,w[P++]=128|I>>>12&63),w[P++]=128|I>>>6&63),w[P++]=128|63&I);return w}(T)},a.utf8decode=function(T){return d.nodebuffer?f.transformTo("nodebuffer",T).toString("utf-8"):function(k){var w,I,A,R,P=k.length,z=new Array(2*P);for(w=I=0;w<P;)if((A=k[w++])<128)z[I++]=A;else if(4<(R=h[A]))z[I++]=65533,w+=R-1;else{for(A&=R===2?31:R===3?15:7;1<R&&w<P;)A=A<<6|63&k[w++],R--;1<R?z[I++]=65533:A<65536?z[I++]=A:(A-=65536,z[I++]=55296|A>>10&1023,z[I++]=56320|1023&A)}return z.length!==I&&(z.subarray?z=z.subarray(0,I):z.length=I),f.applyFromCharCode(z)}(T=f.transformTo(d.uint8array?"uint8array":"array",T))},f.inherits(C,m),C.prototype.processChunk=function(T){var k=f.transformTo(d.uint8array?"uint8array":"array",T.data);if(this.leftOver&&this.leftOver.length){if(d.uint8array){var w=k;(k=new Uint8Array(w.length+this.leftOver.length)).set(this.leftOver,0),k.set(w,this.leftOver.length)}else k=this.leftOver.concat(k);this.leftOver=null}var I=function(R,P){var z;for((P=P||R.length)>R.length&&(P=R.length),z=P-1;0<=z&&(192&R[z])==128;)z--;return z<0||z===0?P:z+h[R[z]]>P?z:P}(k),A=k;I!==k.length&&(d.uint8array?(A=k.subarray(0,I),this.leftOver=k.subarray(I,k.length)):(A=k.slice(0,I),this.leftOver=k.slice(I,k.length))),this.push({data:a.utf8decode(A),meta:T.meta})},C.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=C,f.inherits(_,m),_.prototype.processChunk=function(T){this.push({data:a.utf8encode(T.data),meta:T.meta})},a.Utf8EncodeWorker=_},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(o,i,a){var f=o("./support"),d=o("./base64"),p=o("./nodejsUtils"),m=o("./external");function h(w){return w}function y(w,I){for(var A=0;A<w.length;++A)I[A]=255&w.charCodeAt(A);return I}o("setimmediate"),a.newBlob=function(w,I){a.checkSupport("blob");try{return new Blob([w],{type:I})}catch{try{var A=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return A.append(w),A.getBlob(I)}catch{throw new Error("Bug : can't construct the Blob.")}}};var C={stringifyByChunk:function(w,I,A){var R=[],P=0,z=w.length;if(z<=A)return String.fromCharCode.apply(null,w);for(;P<z;)I==="array"||I==="nodebuffer"?R.push(String.fromCharCode.apply(null,w.slice(P,Math.min(P+A,z)))):R.push(String.fromCharCode.apply(null,w.subarray(P,Math.min(P+A,z)))),P+=A;return R.join("")},stringifyByChar:function(w){for(var I="",A=0;A<w.length;A++)I+=String.fromCharCode(w[A]);return I},applyCanBeUsed:{uint8array:function(){try{return f.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return f.nodebuffer&&String.fromCharCode.apply(null,p.allocBuffer(1)).length===1}catch{return!1}}()}};function _(w){var I=65536,A=a.getTypeOf(w),R=!0;if(A==="uint8array"?R=C.applyCanBeUsed.uint8array:A==="nodebuffer"&&(R=C.applyCanBeUsed.nodebuffer),R)for(;1<I;)try{return C.stringifyByChunk(w,A,I)}catch{I=Math.floor(I/2)}return C.stringifyByChar(w)}function T(w,I){for(var A=0;A<w.length;A++)I[A]=w[A];return I}a.applyFromCharCode=_;var k={};k.string={string:h,array:function(w){return y(w,new Array(w.length))},arraybuffer:function(w){return k.string.uint8array(w).buffer},uint8array:function(w){return y(w,new Uint8Array(w.length))},nodebuffer:function(w){return y(w,p.allocBuffer(w.length))}},k.array={string:_,array:h,arraybuffer:function(w){return new Uint8Array(w).buffer},uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return p.newBufferFrom(w)}},k.arraybuffer={string:function(w){return _(new Uint8Array(w))},array:function(w){return T(new Uint8Array(w),new Array(w.byteLength))},arraybuffer:h,uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return p.newBufferFrom(new Uint8Array(w))}},k.uint8array={string:_,array:function(w){return T(w,new Array(w.length))},arraybuffer:function(w){return w.buffer},uint8array:h,nodebuffer:function(w){return p.newBufferFrom(w)}},k.nodebuffer={string:_,array:function(w){return T(w,new Array(w.length))},arraybuffer:function(w){return k.nodebuffer.uint8array(w).buffer},uint8array:function(w){return T(w,new Uint8Array(w.length))},nodebuffer:h},a.transformTo=function(w,I){if(I=I||"",!w)return I;a.checkSupport(w);var A=a.getTypeOf(I);return k[A][w](I)},a.resolve=function(w){for(var I=w.split("/"),A=[],R=0;R<I.length;R++){var P=I[R];P==="."||P===""&&R!==0&&R!==I.length-1||(P===".."?A.pop():A.push(P))}return A.join("/")},a.getTypeOf=function(w){return typeof w=="string"?"string":Object.prototype.toString.call(w)==="[object Array]"?"array":f.nodebuffer&&p.isBuffer(w)?"nodebuffer":f.uint8array&&w instanceof Uint8Array?"uint8array":f.arraybuffer&&w instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(w){if(!f[w.toLowerCase()])throw new Error(w+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(w){var I,A,R="";for(A=0;A<(w||"").length;A++)R+="\\x"+((I=w.charCodeAt(A))<16?"0":"")+I.toString(16).toUpperCase();return R},a.delay=function(w,I,A){setImmediate(function(){w.apply(A||null,I||[])})},a.inherits=function(w,I){function A(){}A.prototype=I.prototype,w.prototype=new A},a.extend=function(){var w,I,A={};for(w=0;w<arguments.length;w++)for(I in arguments[w])Object.prototype.hasOwnProperty.call(arguments[w],I)&&A[I]===void 0&&(A[I]=arguments[w][I]);return A},a.prepareContent=function(w,I,A,R,P){return m.Promise.resolve(I).then(function(z){return f.blob&&(z instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(z))!==-1)&&typeof FileReader<"u"?new m.Promise(function(V,W){var b=new FileReader;b.onload=function(te){V(te.target.result)},b.onerror=function(te){W(te.target.error)},b.readAsArrayBuffer(z)}):z}).then(function(z){var V=a.getTypeOf(z);return V?(V==="arraybuffer"?z=a.transformTo("uint8array",z):V==="string"&&(P?z=d.decode(z):A&&R!==!0&&(z=function(W){return y(W,f.uint8array?new Uint8Array(W.length):new Array(W.length))}(z))),z):m.Promise.reject(new Error("Can't read the data of '"+w+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(o,i,a){var f=o("./reader/readerFor"),d=o("./utils"),p=o("./signature"),m=o("./zipEntry"),h=o("./support");function y(C){this.files=[],this.loadOptions=C}y.prototype={checkSignature:function(C){if(!this.reader.readAndCheckSignature(C)){this.reader.index-=4;var _=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+d.pretty(_)+", expected "+d.pretty(C)+")")}},isSignature:function(C,_){var T=this.reader.index;this.reader.setIndex(C);var k=this.reader.readString(4)===_;return this.reader.setIndex(T),k},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var C=this.reader.readData(this.zipCommentLength),_=h.uint8array?"uint8array":"array",T=d.transformTo(_,C);this.zipComment=this.loadOptions.decodeFileName(T)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var C,_,T,k=this.zip64EndOfCentralSize-44;0<k;)C=this.reader.readInt(2),_=this.reader.readInt(4),T=this.reader.readData(_),this.zip64ExtensibleData[C]={id:C,length:_,value:T}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var C,_;for(C=0;C<this.files.length;C++)_=this.files[C],this.reader.setIndex(_.localHeaderOffset),this.checkSignature(p.LOCAL_FILE_HEADER),_.readLocalPart(this.reader),_.handleUTF8(),_.processAttributes()},readCentralDir:function(){var C;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(p.CENTRAL_FILE_HEADER);)(C=new m({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(C);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var C=this.reader.lastIndexOfSignature(p.CENTRAL_DIRECTORY_END);if(C<0)throw this.isSignature(0,p.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(C);var _=C;if(this.checkSignature(p.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===d.MAX_VALUE_16BITS||this.diskWithCentralDirStart===d.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===d.MAX_VALUE_16BITS||this.centralDirRecords===d.MAX_VALUE_16BITS||this.centralDirSize===d.MAX_VALUE_32BITS||this.centralDirOffset===d.MAX_VALUE_32BITS){if(this.zip64=!0,(C=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(C),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,p.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var T=this.centralDirOffset+this.centralDirSize;this.zip64&&(T+=20,T+=12+this.zip64EndOfCentralSize);var k=_-T;if(0<k)this.isSignature(_,p.CENTRAL_FILE_HEADER)||(this.reader.zero=k);else if(k<0)throw new Error("Corrupted zip: missing "+Math.abs(k)+" bytes.")},prepareReader:function(C){this.reader=f(C)},load:function(C){this.prepareReader(C),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=y},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(o,i,a){var f=o("./reader/readerFor"),d=o("./utils"),p=o("./compressedObject"),m=o("./crc32"),h=o("./utf8"),y=o("./compressions"),C=o("./support");function _(T,k){this.options=T,this.loadOptions=k}_.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(T){var k,w;if(T.skip(22),this.fileNameLength=T.readInt(2),w=T.readInt(2),this.fileName=T.readData(this.fileNameLength),T.skip(w),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((k=function(I){for(var A in y)if(Object.prototype.hasOwnProperty.call(y,A)&&y[A].magic===I)return y[A];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+d.pretty(this.compressionMethod)+" unknown (inner file : "+d.transformTo("string",this.fileName)+")");this.decompressed=new p(this.compressedSize,this.uncompressedSize,this.crc32,k,T.readData(this.compressedSize))},readCentralPart:function(T){this.versionMadeBy=T.readInt(2),T.skip(2),this.bitFlag=T.readInt(2),this.compressionMethod=T.readString(2),this.date=T.readDate(),this.crc32=T.readInt(4),this.compressedSize=T.readInt(4),this.uncompressedSize=T.readInt(4);var k=T.readInt(2);if(this.extraFieldsLength=T.readInt(2),this.fileCommentLength=T.readInt(2),this.diskNumberStart=T.readInt(2),this.internalFileAttributes=T.readInt(2),this.externalFileAttributes=T.readInt(4),this.localHeaderOffset=T.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");T.skip(k),this.readExtraFields(T),this.parseZIP64ExtraField(T),this.fileComment=T.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var T=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),T==0&&(this.dosPermissions=63&this.externalFileAttributes),T==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var T=f(this.extraFields[1].value);this.uncompressedSize===d.MAX_VALUE_32BITS&&(this.uncompressedSize=T.readInt(8)),this.compressedSize===d.MAX_VALUE_32BITS&&(this.compressedSize=T.readInt(8)),this.localHeaderOffset===d.MAX_VALUE_32BITS&&(this.localHeaderOffset=T.readInt(8)),this.diskNumberStart===d.MAX_VALUE_32BITS&&(this.diskNumberStart=T.readInt(4))}},readExtraFields:function(T){var k,w,I,A=T.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});T.index+4<A;)k=T.readInt(2),w=T.readInt(2),I=T.readData(w),this.extraFields[k]={id:k,length:w,value:I};T.setIndex(A)},handleUTF8:function(){var T=C.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var k=this.findExtraFieldUnicodePath();if(k!==null)this.fileNameStr=k;else{var w=d.transformTo(T,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(w)}var I=this.findExtraFieldUnicodeComment();if(I!==null)this.fileCommentStr=I;else{var A=d.transformTo(T,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(A)}}},findExtraFieldUnicodePath:function(){var T=this.extraFields[28789];if(T){var k=f(T.value);return k.readInt(1)!==1||m(this.fileName)!==k.readInt(4)?null:h.utf8decode(k.readData(T.length-5))}return null},findExtraFieldUnicodeComment:function(){var T=this.extraFields[25461];if(T){var k=f(T.value);return k.readInt(1)!==1||m(this.fileComment)!==k.readInt(4)?null:h.utf8decode(k.readData(T.length-5))}return null}},i.exports=_},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(o,i,a){function f(k,w,I){this.name=k,this.dir=I.dir,this.date=I.date,this.comment=I.comment,this.unixPermissions=I.unixPermissions,this.dosPermissions=I.dosPermissions,this._data=w,this._dataBinary=I.binary,this.options={compression:I.compression,compressionOptions:I.compressionOptions}}var d=o("./stream/StreamHelper"),p=o("./stream/DataWorker"),m=o("./utf8"),h=o("./compressedObject"),y=o("./stream/GenericWorker");f.prototype={internalStream:function(k){var w=null,I="string";try{if(!k)throw new Error("No output type specified.");var A=(I=k.toLowerCase())==="string"||I==="text";I!=="binarystring"&&I!=="text"||(I="string"),w=this._decompressWorker();var R=!this._dataBinary;R&&!A&&(w=w.pipe(new m.Utf8EncodeWorker)),!R&&A&&(w=w.pipe(new m.Utf8DecodeWorker))}catch(P){(w=new y("error")).error(P)}return new d(w,I,"")},async:function(k,w){return this.internalStream(k).accumulate(w)},nodeStream:function(k,w){return this.internalStream(k||"nodebuffer").toNodejsStream(w)},_compressWorker:function(k,w){if(this._data instanceof h&&this._data.compression.magic===k.magic)return this._data.getCompressedWorker();var I=this._decompressWorker();return this._dataBinary||(I=I.pipe(new m.Utf8EncodeWorker)),h.createWorkerFrom(I,k,w)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof y?this._data:new p(this._data)}};for(var C=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],_=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},T=0;T<C.length;T++)f.prototype[C[T]]=_;i.exports=f},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(o,i,a){(function(f){var d,p,m=f.MutationObserver||f.WebKitMutationObserver;if(m){var h=0,y=new m(k),C=f.document.createTextNode("");y.observe(C,{characterData:!0}),d=function(){C.data=h=++h%2}}else if(f.setImmediate||f.MessageChannel===void 0)d="document"in f&&"onreadystatechange"in f.document.createElement("script")?function(){var w=f.document.createElement("script");w.onreadystatechange=function(){k(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},f.document.documentElement.appendChild(w)}:function(){setTimeout(k,0)};else{var _=new f.MessageChannel;_.port1.onmessage=k,d=function(){_.port2.postMessage(0)}}var T=[];function k(){var w,I;p=!0;for(var A=T.length;A;){for(I=T,T=[],w=-1;++w<A;)I[w]();A=T.length}p=!1}i.exports=function(w){T.push(w)!==1||p||d()}}).call(this,typeof Ii<"u"?Ii:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(o,i,a){var f=o("immediate");function d(){}var p={},m=["REJECTED"],h=["FULFILLED"],y=["PENDING"];function C(A){if(typeof A!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,A!==d&&w(this,A)}function _(A,R,P){this.promise=A,typeof R=="function"&&(this.onFulfilled=R,this.callFulfilled=this.otherCallFulfilled),typeof P=="function"&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}function T(A,R,P){f(function(){var z;try{z=R(P)}catch(V){return p.reject(A,V)}z===A?p.reject(A,new TypeError("Cannot resolve promise with itself")):p.resolve(A,z)})}function k(A){var R=A&&A.then;if(A&&(typeof A=="object"||typeof A=="function")&&typeof R=="function")return function(){R.apply(A,arguments)}}function w(A,R){var P=!1;function z(b){P||(P=!0,p.reject(A,b))}function V(b){P||(P=!0,p.resolve(A,b))}var W=I(function(){R(V,z)});W.status==="error"&&z(W.value)}function I(A,R){var P={};try{P.value=A(R),P.status="success"}catch(z){P.status="error",P.value=z}return P}(i.exports=C).prototype.finally=function(A){if(typeof A!="function")return this;var R=this.constructor;return this.then(function(P){return R.resolve(A()).then(function(){return P})},function(P){return R.resolve(A()).then(function(){throw P})})},C.prototype.catch=function(A){return this.then(null,A)},C.prototype.then=function(A,R){if(typeof A!="function"&&this.state===h||typeof R!="function"&&this.state===m)return this;var P=new this.constructor(d);return this.state!==y?T(P,this.state===h?A:R,this.outcome):this.queue.push(new _(P,A,R)),P},_.prototype.callFulfilled=function(A){p.resolve(this.promise,A)},_.prototype.otherCallFulfilled=function(A){T(this.promise,this.onFulfilled,A)},_.prototype.callRejected=function(A){p.reject(this.promise,A)},_.prototype.otherCallRejected=function(A){T(this.promise,this.onRejected,A)},p.resolve=function(A,R){var P=I(k,R);if(P.status==="error")return p.reject(A,P.value);var z=P.value;if(z)w(A,z);else{A.state=h,A.outcome=R;for(var V=-1,W=A.queue.length;++V<W;)A.queue[V].callFulfilled(R)}return A},p.reject=function(A,R){A.state=m,A.outcome=R;for(var P=-1,z=A.queue.length;++P<z;)A.queue[P].callRejected(R);return A},C.resolve=function(A){return A instanceof this?A:p.resolve(new this(d),A)},C.reject=function(A){var R=new this(d);return p.reject(R,A)},C.all=function(A){var R=this;if(Object.prototype.toString.call(A)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=A.length,z=!1;if(!P)return this.resolve([]);for(var V=new Array(P),W=0,b=-1,te=new this(d);++b<P;)q(A[b],b);return te;function q(ne,ge){R.resolve(ne).then(function(U){V[ge]=U,++W!==P||z||(z=!0,p.resolve(te,V))},function(U){z||(z=!0,p.reject(te,U))})}},C.race=function(A){var R=this;if(Object.prototype.toString.call(A)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=A.length,z=!1;if(!P)return this.resolve([]);for(var V=-1,W=new this(d);++V<P;)b=A[V],R.resolve(b).then(function(te){z||(z=!0,p.resolve(W,te))},function(te){z||(z=!0,p.reject(W,te))});var b;return W}},{immediate:36}],38:[function(o,i,a){var f={};(0,o("./lib/utils/common").assign)(f,o("./lib/deflate"),o("./lib/inflate"),o("./lib/zlib/constants")),i.exports=f},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(o,i,a){var f=o("./zlib/deflate"),d=o("./utils/common"),p=o("./utils/strings"),m=o("./zlib/messages"),h=o("./zlib/zstream"),y=Object.prototype.toString,C=0,_=-1,T=0,k=8;function w(A){if(!(this instanceof w))return new w(A);this.options=d.assign({level:_,method:k,chunkSize:16384,windowBits:15,memLevel:8,strategy:T,to:""},A||{});var R=this.options;R.raw&&0<R.windowBits?R.windowBits=-R.windowBits:R.gzip&&0<R.windowBits&&R.windowBits<16&&(R.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var P=f.deflateInit2(this.strm,R.level,R.method,R.windowBits,R.memLevel,R.strategy);if(P!==C)throw new Error(m[P]);if(R.header&&f.deflateSetHeader(this.strm,R.header),R.dictionary){var z;if(z=typeof R.dictionary=="string"?p.string2buf(R.dictionary):y.call(R.dictionary)==="[object ArrayBuffer]"?new Uint8Array(R.dictionary):R.dictionary,(P=f.deflateSetDictionary(this.strm,z))!==C)throw new Error(m[P]);this._dict_set=!0}}function I(A,R){var P=new w(R);if(P.push(A,!0),P.err)throw P.msg||m[P.err];return P.result}w.prototype.push=function(A,R){var P,z,V=this.strm,W=this.options.chunkSize;if(this.ended)return!1;z=R===~~R?R:R===!0?4:0,typeof A=="string"?V.input=p.string2buf(A):y.call(A)==="[object ArrayBuffer]"?V.input=new Uint8Array(A):V.input=A,V.next_in=0,V.avail_in=V.input.length;do{if(V.avail_out===0&&(V.output=new d.Buf8(W),V.next_out=0,V.avail_out=W),(P=f.deflate(V,z))!==1&&P!==C)return this.onEnd(P),!(this.ended=!0);V.avail_out!==0&&(V.avail_in!==0||z!==4&&z!==2)||(this.options.to==="string"?this.onData(p.buf2binstring(d.shrinkBuf(V.output,V.next_out))):this.onData(d.shrinkBuf(V.output,V.next_out)))}while((0<V.avail_in||V.avail_out===0)&&P!==1);return z===4?(P=f.deflateEnd(this.strm),this.onEnd(P),this.ended=!0,P===C):z!==2||(this.onEnd(C),!(V.avail_out=0))},w.prototype.onData=function(A){this.chunks.push(A)},w.prototype.onEnd=function(A){A===C&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg},a.Deflate=w,a.deflate=I,a.deflateRaw=function(A,R){return(R=R||{}).raw=!0,I(A,R)},a.gzip=function(A,R){return(R=R||{}).gzip=!0,I(A,R)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(o,i,a){var f=o("./zlib/inflate"),d=o("./utils/common"),p=o("./utils/strings"),m=o("./zlib/constants"),h=o("./zlib/messages"),y=o("./zlib/zstream"),C=o("./zlib/gzheader"),_=Object.prototype.toString;function T(w){if(!(this instanceof T))return new T(w);this.options=d.assign({chunkSize:16384,windowBits:0,to:""},w||{});var I=this.options;I.raw&&0<=I.windowBits&&I.windowBits<16&&(I.windowBits=-I.windowBits,I.windowBits===0&&(I.windowBits=-15)),!(0<=I.windowBits&&I.windowBits<16)||w&&w.windowBits||(I.windowBits+=32),15<I.windowBits&&I.windowBits<48&&(15&I.windowBits)==0&&(I.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var A=f.inflateInit2(this.strm,I.windowBits);if(A!==m.Z_OK)throw new Error(h[A]);this.header=new C,f.inflateGetHeader(this.strm,this.header)}function k(w,I){var A=new T(I);if(A.push(w,!0),A.err)throw A.msg||h[A.err];return A.result}T.prototype.push=function(w,I){var A,R,P,z,V,W,b=this.strm,te=this.options.chunkSize,q=this.options.dictionary,ne=!1;if(this.ended)return!1;R=I===~~I?I:I===!0?m.Z_FINISH:m.Z_NO_FLUSH,typeof w=="string"?b.input=p.binstring2buf(w):_.call(w)==="[object ArrayBuffer]"?b.input=new Uint8Array(w):b.input=w,b.next_in=0,b.avail_in=b.input.length;do{if(b.avail_out===0&&(b.output=new d.Buf8(te),b.next_out=0,b.avail_out=te),(A=f.inflate(b,m.Z_NO_FLUSH))===m.Z_NEED_DICT&&q&&(W=typeof q=="string"?p.string2buf(q):_.call(q)==="[object ArrayBuffer]"?new Uint8Array(q):q,A=f.inflateSetDictionary(this.strm,W)),A===m.Z_BUF_ERROR&&ne===!0&&(A=m.Z_OK,ne=!1),A!==m.Z_STREAM_END&&A!==m.Z_OK)return this.onEnd(A),!(this.ended=!0);b.next_out&&(b.avail_out!==0&&A!==m.Z_STREAM_END&&(b.avail_in!==0||R!==m.Z_FINISH&&R!==m.Z_SYNC_FLUSH)||(this.options.to==="string"?(P=p.utf8border(b.output,b.next_out),z=b.next_out-P,V=p.buf2string(b.output,P),b.next_out=z,b.avail_out=te-z,z&&d.arraySet(b.output,b.output,P,z,0),this.onData(V)):this.onData(d.shrinkBuf(b.output,b.next_out)))),b.avail_in===0&&b.avail_out===0&&(ne=!0)}while((0<b.avail_in||b.avail_out===0)&&A!==m.Z_STREAM_END);return A===m.Z_STREAM_END&&(R=m.Z_FINISH),R===m.Z_FINISH?(A=f.inflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===m.Z_OK):R!==m.Z_SYNC_FLUSH||(this.onEnd(m.Z_OK),!(b.avail_out=0))},T.prototype.onData=function(w){this.chunks.push(w)},T.prototype.onEnd=function(w){w===m.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},a.Inflate=T,a.inflate=k,a.inflateRaw=function(w,I){return(I=I||{}).raw=!0,k(w,I)},a.ungzip=k},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(o,i,a){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(m){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var y=h.shift();if(y){if(typeof y!="object")throw new TypeError(y+"must be non-object");for(var C in y)y.hasOwnProperty(C)&&(m[C]=y[C])}}return m},a.shrinkBuf=function(m,h){return m.length===h?m:m.subarray?m.subarray(0,h):(m.length=h,m)};var d={arraySet:function(m,h,y,C,_){if(h.subarray&&m.subarray)m.set(h.subarray(y,y+C),_);else for(var T=0;T<C;T++)m[_+T]=h[y+T]},flattenChunks:function(m){var h,y,C,_,T,k;for(h=C=0,y=m.length;h<y;h++)C+=m[h].length;for(k=new Uint8Array(C),h=_=0,y=m.length;h<y;h++)T=m[h],k.set(T,_),_+=T.length;return k}},p={arraySet:function(m,h,y,C,_){for(var T=0;T<C;T++)m[_+T]=h[y+T]},flattenChunks:function(m){return[].concat.apply([],m)}};a.setTyped=function(m){m?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,d)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,p))},a.setTyped(f)},{}],42:[function(o,i,a){var f=o("./common"),d=!0,p=!0;try{String.fromCharCode.apply(null,[0])}catch{d=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{p=!1}for(var m=new f.Buf8(256),h=0;h<256;h++)m[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function y(C,_){if(_<65537&&(C.subarray&&p||!C.subarray&&d))return String.fromCharCode.apply(null,f.shrinkBuf(C,_));for(var T="",k=0;k<_;k++)T+=String.fromCharCode(C[k]);return T}m[254]=m[254]=1,a.string2buf=function(C){var _,T,k,w,I,A=C.length,R=0;for(w=0;w<A;w++)(64512&(T=C.charCodeAt(w)))==55296&&w+1<A&&(64512&(k=C.charCodeAt(w+1)))==56320&&(T=65536+(T-55296<<10)+(k-56320),w++),R+=T<128?1:T<2048?2:T<65536?3:4;for(_=new f.Buf8(R),w=I=0;I<R;w++)(64512&(T=C.charCodeAt(w)))==55296&&w+1<A&&(64512&(k=C.charCodeAt(w+1)))==56320&&(T=65536+(T-55296<<10)+(k-56320),w++),T<128?_[I++]=T:(T<2048?_[I++]=192|T>>>6:(T<65536?_[I++]=224|T>>>12:(_[I++]=240|T>>>18,_[I++]=128|T>>>12&63),_[I++]=128|T>>>6&63),_[I++]=128|63&T);return _},a.buf2binstring=function(C){return y(C,C.length)},a.binstring2buf=function(C){for(var _=new f.Buf8(C.length),T=0,k=_.length;T<k;T++)_[T]=C.charCodeAt(T);return _},a.buf2string=function(C,_){var T,k,w,I,A=_||C.length,R=new Array(2*A);for(T=k=0;T<A;)if((w=C[T++])<128)R[k++]=w;else if(4<(I=m[w]))R[k++]=65533,T+=I-1;else{for(w&=I===2?31:I===3?15:7;1<I&&T<A;)w=w<<6|63&C[T++],I--;1<I?R[k++]=65533:w<65536?R[k++]=w:(w-=65536,R[k++]=55296|w>>10&1023,R[k++]=56320|1023&w)}return y(R,k)},a.utf8border=function(C,_){var T;for((_=_||C.length)>C.length&&(_=C.length),T=_-1;0<=T&&(192&C[T])==128;)T--;return T<0||T===0?_:T+m[C[T]]>_?T:_}},{"./common":41}],43:[function(o,i,a){i.exports=function(f,d,p,m){for(var h=65535&f|0,y=f>>>16&65535|0,C=0;p!==0;){for(p-=C=2e3<p?2e3:p;y=y+(h=h+d[m++]|0)|0,--C;);h%=65521,y%=65521}return h|y<<16|0}},{}],44:[function(o,i,a){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(o,i,a){var f=function(){for(var d,p=[],m=0;m<256;m++){d=m;for(var h=0;h<8;h++)d=1&d?3988292384^d>>>1:d>>>1;p[m]=d}return p}();i.exports=function(d,p,m,h){var y=f,C=h+m;d^=-1;for(var _=h;_<C;_++)d=d>>>8^y[255&(d^p[_])];return-1^d}},{}],46:[function(o,i,a){var f,d=o("../utils/common"),p=o("./trees"),m=o("./adler32"),h=o("./crc32"),y=o("./messages"),C=0,_=4,T=0,k=-2,w=-1,I=4,A=2,R=8,P=9,z=286,V=30,W=19,b=2*z+1,te=15,q=3,ne=258,ge=ne+q+1,U=42,j=113,x=1,ee=2,xe=3,re=4;function ie(S,oe){return S.msg=y[oe],oe}function X(S){return(S<<1)-(4<S?9:0)}function le(S){for(var oe=S.length;0<=--oe;)S[oe]=0}function M(S){var oe=S.state,Q=oe.pending;Q>S.avail_out&&(Q=S.avail_out),Q!==0&&(d.arraySet(S.output,oe.pending_buf,oe.pending_out,Q,S.next_out),S.next_out+=Q,oe.pending_out+=Q,S.total_out+=Q,S.avail_out-=Q,oe.pending-=Q,oe.pending===0&&(oe.pending_out=0))}function F(S,oe){p._tr_flush_block(S,0<=S.block_start?S.block_start:-1,S.strstart-S.block_start,oe),S.block_start=S.strstart,M(S.strm)}function me(S,oe){S.pending_buf[S.pending++]=oe}function ae(S,oe){S.pending_buf[S.pending++]=oe>>>8&255,S.pending_buf[S.pending++]=255&oe}function $(S,oe){var Q,D,N=S.max_chain_length,H=S.strstart,se=S.prev_length,fe=S.nice_match,K=S.strstart>S.w_size-ge?S.strstart-(S.w_size-ge):0,ye=S.window,we=S.w_mask,Ce=S.prev,Re=S.strstart+ne,He=ye[H+se-1],Fe=ye[H+se];S.prev_length>=S.good_match&&(N>>=2),fe>S.lookahead&&(fe=S.lookahead);do if(ye[(Q=oe)+se]===Fe&&ye[Q+se-1]===He&&ye[Q]===ye[H]&&ye[++Q]===ye[H+1]){H+=2,Q++;do;while(ye[++H]===ye[++Q]&&ye[++H]===ye[++Q]&&ye[++H]===ye[++Q]&&ye[++H]===ye[++Q]&&ye[++H]===ye[++Q]&&ye[++H]===ye[++Q]&&ye[++H]===ye[++Q]&&ye[++H]===ye[++Q]&&H<Re);if(D=ne-(Re-H),H=Re-ne,se<D){if(S.match_start=oe,fe<=(se=D))break;He=ye[H+se-1],Fe=ye[H+se]}}while((oe=Ce[oe&we])>K&&--N!=0);return se<=S.lookahead?se:S.lookahead}function he(S){var oe,Q,D,N,H,se,fe,K,ye,we,Ce=S.w_size;do{if(N=S.window_size-S.lookahead-S.strstart,S.strstart>=Ce+(Ce-ge)){for(d.arraySet(S.window,S.window,Ce,Ce,0),S.match_start-=Ce,S.strstart-=Ce,S.block_start-=Ce,oe=Q=S.hash_size;D=S.head[--oe],S.head[oe]=Ce<=D?D-Ce:0,--Q;);for(oe=Q=Ce;D=S.prev[--oe],S.prev[oe]=Ce<=D?D-Ce:0,--Q;);N+=Ce}if(S.strm.avail_in===0)break;if(se=S.strm,fe=S.window,K=S.strstart+S.lookahead,ye=N,we=void 0,we=se.avail_in,ye<we&&(we=ye),Q=we===0?0:(se.avail_in-=we,d.arraySet(fe,se.input,se.next_in,we,K),se.state.wrap===1?se.adler=m(se.adler,fe,we,K):se.state.wrap===2&&(se.adler=h(se.adler,fe,we,K)),se.next_in+=we,se.total_in+=we,we),S.lookahead+=Q,S.lookahead+S.insert>=q)for(H=S.strstart-S.insert,S.ins_h=S.window[H],S.ins_h=(S.ins_h<<S.hash_shift^S.window[H+1])&S.hash_mask;S.insert&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[H+q-1])&S.hash_mask,S.prev[H&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=H,H++,S.insert--,!(S.lookahead+S.insert<q)););}while(S.lookahead<ge&&S.strm.avail_in!==0)}function _e(S,oe){for(var Q,D;;){if(S.lookahead<ge){if(he(S),S.lookahead<ge&&oe===C)return x;if(S.lookahead===0)break}if(Q=0,S.lookahead>=q&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+q-1])&S.hash_mask,Q=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),Q!==0&&S.strstart-Q<=S.w_size-ge&&(S.match_length=$(S,Q)),S.match_length>=q)if(D=p._tr_tally(S,S.strstart-S.match_start,S.match_length-q),S.lookahead-=S.match_length,S.match_length<=S.max_lazy_match&&S.lookahead>=q){for(S.match_length--;S.strstart++,S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+q-1])&S.hash_mask,Q=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart,--S.match_length!=0;);S.strstart++}else S.strstart+=S.match_length,S.match_length=0,S.ins_h=S.window[S.strstart],S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+1])&S.hash_mask;else D=p._tr_tally(S,0,S.window[S.strstart]),S.lookahead--,S.strstart++;if(D&&(F(S,!1),S.strm.avail_out===0))return x}return S.insert=S.strstart<q-1?S.strstart:q-1,oe===_?(F(S,!0),S.strm.avail_out===0?xe:re):S.last_lit&&(F(S,!1),S.strm.avail_out===0)?x:ee}function ue(S,oe){for(var Q,D,N;;){if(S.lookahead<ge){if(he(S),S.lookahead<ge&&oe===C)return x;if(S.lookahead===0)break}if(Q=0,S.lookahead>=q&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+q-1])&S.hash_mask,Q=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),S.prev_length=S.match_length,S.prev_match=S.match_start,S.match_length=q-1,Q!==0&&S.prev_length<S.max_lazy_match&&S.strstart-Q<=S.w_size-ge&&(S.match_length=$(S,Q),S.match_length<=5&&(S.strategy===1||S.match_length===q&&4096<S.strstart-S.match_start)&&(S.match_length=q-1)),S.prev_length>=q&&S.match_length<=S.prev_length){for(N=S.strstart+S.lookahead-q,D=p._tr_tally(S,S.strstart-1-S.prev_match,S.prev_length-q),S.lookahead-=S.prev_length-1,S.prev_length-=2;++S.strstart<=N&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+q-1])&S.hash_mask,Q=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),--S.prev_length!=0;);if(S.match_available=0,S.match_length=q-1,S.strstart++,D&&(F(S,!1),S.strm.avail_out===0))return x}else if(S.match_available){if((D=p._tr_tally(S,0,S.window[S.strstart-1]))&&F(S,!1),S.strstart++,S.lookahead--,S.strm.avail_out===0)return x}else S.match_available=1,S.strstart++,S.lookahead--}return S.match_available&&(D=p._tr_tally(S,0,S.window[S.strstart-1]),S.match_available=0),S.insert=S.strstart<q-1?S.strstart:q-1,oe===_?(F(S,!0),S.strm.avail_out===0?xe:re):S.last_lit&&(F(S,!1),S.strm.avail_out===0)?x:ee}function Te(S,oe,Q,D,N){this.good_length=S,this.max_lazy=oe,this.nice_length=Q,this.max_chain=D,this.func=N}function De(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=R,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*b),this.dyn_dtree=new d.Buf16(2*(2*V+1)),this.bl_tree=new d.Buf16(2*(2*W+1)),le(this.dyn_ltree),le(this.dyn_dtree),le(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(te+1),this.heap=new d.Buf16(2*z+1),le(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*z+1),le(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ve(S){var oe;return S&&S.state?(S.total_in=S.total_out=0,S.data_type=A,(oe=S.state).pending=0,oe.pending_out=0,oe.wrap<0&&(oe.wrap=-oe.wrap),oe.status=oe.wrap?U:j,S.adler=oe.wrap===2?0:1,oe.last_flush=C,p._tr_init(oe),T):ie(S,k)}function We(S){var oe=Ve(S);return oe===T&&function(Q){Q.window_size=2*Q.w_size,le(Q.head),Q.max_lazy_match=f[Q.level].max_lazy,Q.good_match=f[Q.level].good_length,Q.nice_match=f[Q.level].nice_length,Q.max_chain_length=f[Q.level].max_chain,Q.strstart=0,Q.block_start=0,Q.lookahead=0,Q.insert=0,Q.match_length=Q.prev_length=q-1,Q.match_available=0,Q.ins_h=0}(S.state),oe}function ze(S,oe,Q,D,N,H){if(!S)return k;var se=1;if(oe===w&&(oe=6),D<0?(se=0,D=-D):15<D&&(se=2,D-=16),N<1||P<N||Q!==R||D<8||15<D||oe<0||9<oe||H<0||I<H)return ie(S,k);D===8&&(D=9);var fe=new De;return(S.state=fe).strm=S,fe.wrap=se,fe.gzhead=null,fe.w_bits=D,fe.w_size=1<<fe.w_bits,fe.w_mask=fe.w_size-1,fe.hash_bits=N+7,fe.hash_size=1<<fe.hash_bits,fe.hash_mask=fe.hash_size-1,fe.hash_shift=~~((fe.hash_bits+q-1)/q),fe.window=new d.Buf8(2*fe.w_size),fe.head=new d.Buf16(fe.hash_size),fe.prev=new d.Buf16(fe.w_size),fe.lit_bufsize=1<<N+6,fe.pending_buf_size=4*fe.lit_bufsize,fe.pending_buf=new d.Buf8(fe.pending_buf_size),fe.d_buf=1*fe.lit_bufsize,fe.l_buf=3*fe.lit_bufsize,fe.level=oe,fe.strategy=H,fe.method=Q,We(S)}f=[new Te(0,0,0,0,function(S,oe){var Q=65535;for(Q>S.pending_buf_size-5&&(Q=S.pending_buf_size-5);;){if(S.lookahead<=1){if(he(S),S.lookahead===0&&oe===C)return x;if(S.lookahead===0)break}S.strstart+=S.lookahead,S.lookahead=0;var D=S.block_start+Q;if((S.strstart===0||S.strstart>=D)&&(S.lookahead=S.strstart-D,S.strstart=D,F(S,!1),S.strm.avail_out===0)||S.strstart-S.block_start>=S.w_size-ge&&(F(S,!1),S.strm.avail_out===0))return x}return S.insert=0,oe===_?(F(S,!0),S.strm.avail_out===0?xe:re):(S.strstart>S.block_start&&(F(S,!1),S.strm.avail_out),x)}),new Te(4,4,8,4,_e),new Te(4,5,16,8,_e),new Te(4,6,32,32,_e),new Te(4,4,16,16,ue),new Te(8,16,32,32,ue),new Te(8,16,128,128,ue),new Te(8,32,128,256,ue),new Te(32,128,258,1024,ue),new Te(32,258,258,4096,ue)],a.deflateInit=function(S,oe){return ze(S,oe,R,15,8,0)},a.deflateInit2=ze,a.deflateReset=We,a.deflateResetKeep=Ve,a.deflateSetHeader=function(S,oe){return S&&S.state?S.state.wrap!==2?k:(S.state.gzhead=oe,T):k},a.deflate=function(S,oe){var Q,D,N,H;if(!S||!S.state||5<oe||oe<0)return S?ie(S,k):k;if(D=S.state,!S.output||!S.input&&S.avail_in!==0||D.status===666&&oe!==_)return ie(S,S.avail_out===0?-5:k);if(D.strm=S,Q=D.last_flush,D.last_flush=oe,D.status===U)if(D.wrap===2)S.adler=0,me(D,31),me(D,139),me(D,8),D.gzhead?(me(D,(D.gzhead.text?1:0)+(D.gzhead.hcrc?2:0)+(D.gzhead.extra?4:0)+(D.gzhead.name?8:0)+(D.gzhead.comment?16:0)),me(D,255&D.gzhead.time),me(D,D.gzhead.time>>8&255),me(D,D.gzhead.time>>16&255),me(D,D.gzhead.time>>24&255),me(D,D.level===9?2:2<=D.strategy||D.level<2?4:0),me(D,255&D.gzhead.os),D.gzhead.extra&&D.gzhead.extra.length&&(me(D,255&D.gzhead.extra.length),me(D,D.gzhead.extra.length>>8&255)),D.gzhead.hcrc&&(S.adler=h(S.adler,D.pending_buf,D.pending,0)),D.gzindex=0,D.status=69):(me(D,0),me(D,0),me(D,0),me(D,0),me(D,0),me(D,D.level===9?2:2<=D.strategy||D.level<2?4:0),me(D,3),D.status=j);else{var se=R+(D.w_bits-8<<4)<<8;se|=(2<=D.strategy||D.level<2?0:D.level<6?1:D.level===6?2:3)<<6,D.strstart!==0&&(se|=32),se+=31-se%31,D.status=j,ae(D,se),D.strstart!==0&&(ae(D,S.adler>>>16),ae(D,65535&S.adler)),S.adler=1}if(D.status===69)if(D.gzhead.extra){for(N=D.pending;D.gzindex<(65535&D.gzhead.extra.length)&&(D.pending!==D.pending_buf_size||(D.gzhead.hcrc&&D.pending>N&&(S.adler=h(S.adler,D.pending_buf,D.pending-N,N)),M(S),N=D.pending,D.pending!==D.pending_buf_size));)me(D,255&D.gzhead.extra[D.gzindex]),D.gzindex++;D.gzhead.hcrc&&D.pending>N&&(S.adler=h(S.adler,D.pending_buf,D.pending-N,N)),D.gzindex===D.gzhead.extra.length&&(D.gzindex=0,D.status=73)}else D.status=73;if(D.status===73)if(D.gzhead.name){N=D.pending;do{if(D.pending===D.pending_buf_size&&(D.gzhead.hcrc&&D.pending>N&&(S.adler=h(S.adler,D.pending_buf,D.pending-N,N)),M(S),N=D.pending,D.pending===D.pending_buf_size)){H=1;break}H=D.gzindex<D.gzhead.name.length?255&D.gzhead.name.charCodeAt(D.gzindex++):0,me(D,H)}while(H!==0);D.gzhead.hcrc&&D.pending>N&&(S.adler=h(S.adler,D.pending_buf,D.pending-N,N)),H===0&&(D.gzindex=0,D.status=91)}else D.status=91;if(D.status===91)if(D.gzhead.comment){N=D.pending;do{if(D.pending===D.pending_buf_size&&(D.gzhead.hcrc&&D.pending>N&&(S.adler=h(S.adler,D.pending_buf,D.pending-N,N)),M(S),N=D.pending,D.pending===D.pending_buf_size)){H=1;break}H=D.gzindex<D.gzhead.comment.length?255&D.gzhead.comment.charCodeAt(D.gzindex++):0,me(D,H)}while(H!==0);D.gzhead.hcrc&&D.pending>N&&(S.adler=h(S.adler,D.pending_buf,D.pending-N,N)),H===0&&(D.status=103)}else D.status=103;if(D.status===103&&(D.gzhead.hcrc?(D.pending+2>D.pending_buf_size&&M(S),D.pending+2<=D.pending_buf_size&&(me(D,255&S.adler),me(D,S.adler>>8&255),S.adler=0,D.status=j)):D.status=j),D.pending!==0){if(M(S),S.avail_out===0)return D.last_flush=-1,T}else if(S.avail_in===0&&X(oe)<=X(Q)&&oe!==_)return ie(S,-5);if(D.status===666&&S.avail_in!==0)return ie(S,-5);if(S.avail_in!==0||D.lookahead!==0||oe!==C&&D.status!==666){var fe=D.strategy===2?function(K,ye){for(var we;;){if(K.lookahead===0&&(he(K),K.lookahead===0)){if(ye===C)return x;break}if(K.match_length=0,we=p._tr_tally(K,0,K.window[K.strstart]),K.lookahead--,K.strstart++,we&&(F(K,!1),K.strm.avail_out===0))return x}return K.insert=0,ye===_?(F(K,!0),K.strm.avail_out===0?xe:re):K.last_lit&&(F(K,!1),K.strm.avail_out===0)?x:ee}(D,oe):D.strategy===3?function(K,ye){for(var we,Ce,Re,He,Fe=K.window;;){if(K.lookahead<=ne){if(he(K),K.lookahead<=ne&&ye===C)return x;if(K.lookahead===0)break}if(K.match_length=0,K.lookahead>=q&&0<K.strstart&&(Ce=Fe[Re=K.strstart-1])===Fe[++Re]&&Ce===Fe[++Re]&&Ce===Fe[++Re]){He=K.strstart+ne;do;while(Ce===Fe[++Re]&&Ce===Fe[++Re]&&Ce===Fe[++Re]&&Ce===Fe[++Re]&&Ce===Fe[++Re]&&Ce===Fe[++Re]&&Ce===Fe[++Re]&&Ce===Fe[++Re]&&Re<He);K.match_length=ne-(He-Re),K.match_length>K.lookahead&&(K.match_length=K.lookahead)}if(K.match_length>=q?(we=p._tr_tally(K,1,K.match_length-q),K.lookahead-=K.match_length,K.strstart+=K.match_length,K.match_length=0):(we=p._tr_tally(K,0,K.window[K.strstart]),K.lookahead--,K.strstart++),we&&(F(K,!1),K.strm.avail_out===0))return x}return K.insert=0,ye===_?(F(K,!0),K.strm.avail_out===0?xe:re):K.last_lit&&(F(K,!1),K.strm.avail_out===0)?x:ee}(D,oe):f[D.level].func(D,oe);if(fe!==xe&&fe!==re||(D.status=666),fe===x||fe===xe)return S.avail_out===0&&(D.last_flush=-1),T;if(fe===ee&&(oe===1?p._tr_align(D):oe!==5&&(p._tr_stored_block(D,0,0,!1),oe===3&&(le(D.head),D.lookahead===0&&(D.strstart=0,D.block_start=0,D.insert=0))),M(S),S.avail_out===0))return D.last_flush=-1,T}return oe!==_?T:D.wrap<=0?1:(D.wrap===2?(me(D,255&S.adler),me(D,S.adler>>8&255),me(D,S.adler>>16&255),me(D,S.adler>>24&255),me(D,255&S.total_in),me(D,S.total_in>>8&255),me(D,S.total_in>>16&255),me(D,S.total_in>>24&255)):(ae(D,S.adler>>>16),ae(D,65535&S.adler)),M(S),0<D.wrap&&(D.wrap=-D.wrap),D.pending!==0?T:1)},a.deflateEnd=function(S){var oe;return S&&S.state?(oe=S.state.status)!==U&&oe!==69&&oe!==73&&oe!==91&&oe!==103&&oe!==j&&oe!==666?ie(S,k):(S.state=null,oe===j?ie(S,-3):T):k},a.deflateSetDictionary=function(S,oe){var Q,D,N,H,se,fe,K,ye,we=oe.length;if(!S||!S.state||(H=(Q=S.state).wrap)===2||H===1&&Q.status!==U||Q.lookahead)return k;for(H===1&&(S.adler=m(S.adler,oe,we,0)),Q.wrap=0,we>=Q.w_size&&(H===0&&(le(Q.head),Q.strstart=0,Q.block_start=0,Q.insert=0),ye=new d.Buf8(Q.w_size),d.arraySet(ye,oe,we-Q.w_size,Q.w_size,0),oe=ye,we=Q.w_size),se=S.avail_in,fe=S.next_in,K=S.input,S.avail_in=we,S.next_in=0,S.input=oe,he(Q);Q.lookahead>=q;){for(D=Q.strstart,N=Q.lookahead-(q-1);Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[D+q-1])&Q.hash_mask,Q.prev[D&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=D,D++,--N;);Q.strstart=D,Q.lookahead=q-1,he(Q)}return Q.strstart+=Q.lookahead,Q.block_start=Q.strstart,Q.insert=Q.lookahead,Q.lookahead=0,Q.match_length=Q.prev_length=q-1,Q.match_available=0,S.next_in=fe,S.input=K,S.avail_in=se,Q.wrap=H,T},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(o,i,a){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(o,i,a){i.exports=function(f,d){var p,m,h,y,C,_,T,k,w,I,A,R,P,z,V,W,b,te,q,ne,ge,U,j,x,ee;p=f.state,m=f.next_in,x=f.input,h=m+(f.avail_in-5),y=f.next_out,ee=f.output,C=y-(d-f.avail_out),_=y+(f.avail_out-257),T=p.dmax,k=p.wsize,w=p.whave,I=p.wnext,A=p.window,R=p.hold,P=p.bits,z=p.lencode,V=p.distcode,W=(1<<p.lenbits)-1,b=(1<<p.distbits)-1;e:do{P<15&&(R+=x[m++]<<P,P+=8,R+=x[m++]<<P,P+=8),te=z[R&W];t:for(;;){if(R>>>=q=te>>>24,P-=q,(q=te>>>16&255)===0)ee[y++]=65535&te;else{if(!(16&q)){if((64&q)==0){te=z[(65535&te)+(R&(1<<q)-1)];continue t}if(32&q){p.mode=12;break e}f.msg="invalid literal/length code",p.mode=30;break e}ne=65535&te,(q&=15)&&(P<q&&(R+=x[m++]<<P,P+=8),ne+=R&(1<<q)-1,R>>>=q,P-=q),P<15&&(R+=x[m++]<<P,P+=8,R+=x[m++]<<P,P+=8),te=V[R&b];n:for(;;){if(R>>>=q=te>>>24,P-=q,!(16&(q=te>>>16&255))){if((64&q)==0){te=V[(65535&te)+(R&(1<<q)-1)];continue n}f.msg="invalid distance code",p.mode=30;break e}if(ge=65535&te,P<(q&=15)&&(R+=x[m++]<<P,(P+=8)<q&&(R+=x[m++]<<P,P+=8)),T<(ge+=R&(1<<q)-1)){f.msg="invalid distance too far back",p.mode=30;break e}if(R>>>=q,P-=q,(q=y-C)<ge){if(w<(q=ge-q)&&p.sane){f.msg="invalid distance too far back",p.mode=30;break e}if(j=A,(U=0)===I){if(U+=k-q,q<ne){for(ne-=q;ee[y++]=A[U++],--q;);U=y-ge,j=ee}}else if(I<q){if(U+=k+I-q,(q-=I)<ne){for(ne-=q;ee[y++]=A[U++],--q;);if(U=0,I<ne){for(ne-=q=I;ee[y++]=A[U++],--q;);U=y-ge,j=ee}}}else if(U+=I-q,q<ne){for(ne-=q;ee[y++]=A[U++],--q;);U=y-ge,j=ee}for(;2<ne;)ee[y++]=j[U++],ee[y++]=j[U++],ee[y++]=j[U++],ne-=3;ne&&(ee[y++]=j[U++],1<ne&&(ee[y++]=j[U++]))}else{for(U=y-ge;ee[y++]=ee[U++],ee[y++]=ee[U++],ee[y++]=ee[U++],2<(ne-=3););ne&&(ee[y++]=ee[U++],1<ne&&(ee[y++]=ee[U++]))}break}}break}}while(m<h&&y<_);m-=ne=P>>3,R&=(1<<(P-=ne<<3))-1,f.next_in=m,f.next_out=y,f.avail_in=m<h?h-m+5:5-(m-h),f.avail_out=y<_?_-y+257:257-(y-_),p.hold=R,p.bits=P}},{}],49:[function(o,i,a){var f=o("../utils/common"),d=o("./adler32"),p=o("./crc32"),m=o("./inffast"),h=o("./inftrees"),y=1,C=2,_=0,T=-2,k=1,w=852,I=592;function A(U){return(U>>>24&255)+(U>>>8&65280)+((65280&U)<<8)+((255&U)<<24)}function R(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function P(U){var j;return U&&U.state?(j=U.state,U.total_in=U.total_out=j.total=0,U.msg="",j.wrap&&(U.adler=1&j.wrap),j.mode=k,j.last=0,j.havedict=0,j.dmax=32768,j.head=null,j.hold=0,j.bits=0,j.lencode=j.lendyn=new f.Buf32(w),j.distcode=j.distdyn=new f.Buf32(I),j.sane=1,j.back=-1,_):T}function z(U){var j;return U&&U.state?((j=U.state).wsize=0,j.whave=0,j.wnext=0,P(U)):T}function V(U,j){var x,ee;return U&&U.state?(ee=U.state,j<0?(x=0,j=-j):(x=1+(j>>4),j<48&&(j&=15)),j&&(j<8||15<j)?T:(ee.window!==null&&ee.wbits!==j&&(ee.window=null),ee.wrap=x,ee.wbits=j,z(U))):T}function W(U,j){var x,ee;return U?(ee=new R,(U.state=ee).window=null,(x=V(U,j))!==_&&(U.state=null),x):T}var b,te,q=!0;function ne(U){if(q){var j;for(b=new f.Buf32(512),te=new f.Buf32(32),j=0;j<144;)U.lens[j++]=8;for(;j<256;)U.lens[j++]=9;for(;j<280;)U.lens[j++]=7;for(;j<288;)U.lens[j++]=8;for(h(y,U.lens,0,288,b,0,U.work,{bits:9}),j=0;j<32;)U.lens[j++]=5;h(C,U.lens,0,32,te,0,U.work,{bits:5}),q=!1}U.lencode=b,U.lenbits=9,U.distcode=te,U.distbits=5}function ge(U,j,x,ee){var xe,re=U.state;return re.window===null&&(re.wsize=1<<re.wbits,re.wnext=0,re.whave=0,re.window=new f.Buf8(re.wsize)),ee>=re.wsize?(f.arraySet(re.window,j,x-re.wsize,re.wsize,0),re.wnext=0,re.whave=re.wsize):(ee<(xe=re.wsize-re.wnext)&&(xe=ee),f.arraySet(re.window,j,x-ee,xe,re.wnext),(ee-=xe)?(f.arraySet(re.window,j,x-ee,ee,0),re.wnext=ee,re.whave=re.wsize):(re.wnext+=xe,re.wnext===re.wsize&&(re.wnext=0),re.whave<re.wsize&&(re.whave+=xe))),0}a.inflateReset=z,a.inflateReset2=V,a.inflateResetKeep=P,a.inflateInit=function(U){return W(U,15)},a.inflateInit2=W,a.inflate=function(U,j){var x,ee,xe,re,ie,X,le,M,F,me,ae,$,he,_e,ue,Te,De,Ve,We,ze,S,oe,Q,D,N=0,H=new f.Buf8(4),se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!U||!U.state||!U.output||!U.input&&U.avail_in!==0)return T;(x=U.state).mode===12&&(x.mode=13),ie=U.next_out,xe=U.output,le=U.avail_out,re=U.next_in,ee=U.input,X=U.avail_in,M=x.hold,F=x.bits,me=X,ae=le,oe=_;e:for(;;)switch(x.mode){case k:if(x.wrap===0){x.mode=13;break}for(;F<16;){if(X===0)break e;X--,M+=ee[re++]<<F,F+=8}if(2&x.wrap&&M===35615){H[x.check=0]=255&M,H[1]=M>>>8&255,x.check=p(x.check,H,2,0),F=M=0,x.mode=2;break}if(x.flags=0,x.head&&(x.head.done=!1),!(1&x.wrap)||(((255&M)<<8)+(M>>8))%31){U.msg="incorrect header check",x.mode=30;break}if((15&M)!=8){U.msg="unknown compression method",x.mode=30;break}if(F-=4,S=8+(15&(M>>>=4)),x.wbits===0)x.wbits=S;else if(S>x.wbits){U.msg="invalid window size",x.mode=30;break}x.dmax=1<<S,U.adler=x.check=1,x.mode=512&M?10:12,F=M=0;break;case 2:for(;F<16;){if(X===0)break e;X--,M+=ee[re++]<<F,F+=8}if(x.flags=M,(255&x.flags)!=8){U.msg="unknown compression method",x.mode=30;break}if(57344&x.flags){U.msg="unknown header flags set",x.mode=30;break}x.head&&(x.head.text=M>>8&1),512&x.flags&&(H[0]=255&M,H[1]=M>>>8&255,x.check=p(x.check,H,2,0)),F=M=0,x.mode=3;case 3:for(;F<32;){if(X===0)break e;X--,M+=ee[re++]<<F,F+=8}x.head&&(x.head.time=M),512&x.flags&&(H[0]=255&M,H[1]=M>>>8&255,H[2]=M>>>16&255,H[3]=M>>>24&255,x.check=p(x.check,H,4,0)),F=M=0,x.mode=4;case 4:for(;F<16;){if(X===0)break e;X--,M+=ee[re++]<<F,F+=8}x.head&&(x.head.xflags=255&M,x.head.os=M>>8),512&x.flags&&(H[0]=255&M,H[1]=M>>>8&255,x.check=p(x.check,H,2,0)),F=M=0,x.mode=5;case 5:if(1024&x.flags){for(;F<16;){if(X===0)break e;X--,M+=ee[re++]<<F,F+=8}x.length=M,x.head&&(x.head.extra_len=M),512&x.flags&&(H[0]=255&M,H[1]=M>>>8&255,x.check=p(x.check,H,2,0)),F=M=0}else x.head&&(x.head.extra=null);x.mode=6;case 6:if(1024&x.flags&&(X<($=x.length)&&($=X),$&&(x.head&&(S=x.head.extra_len-x.length,x.head.extra||(x.head.extra=new Array(x.head.extra_len)),f.arraySet(x.head.extra,ee,re,$,S)),512&x.flags&&(x.check=p(x.check,ee,$,re)),X-=$,re+=$,x.length-=$),x.length))break e;x.length=0,x.mode=7;case 7:if(2048&x.flags){if(X===0)break e;for($=0;S=ee[re+$++],x.head&&S&&x.length<65536&&(x.head.name+=String.fromCharCode(S)),S&&$<X;);if(512&x.flags&&(x.check=p(x.check,ee,$,re)),X-=$,re+=$,S)break e}else x.head&&(x.head.name=null);x.length=0,x.mode=8;case 8:if(4096&x.flags){if(X===0)break e;for($=0;S=ee[re+$++],x.head&&S&&x.length<65536&&(x.head.comment+=String.fromCharCode(S)),S&&$<X;);if(512&x.flags&&(x.check=p(x.check,ee,$,re)),X-=$,re+=$,S)break e}else x.head&&(x.head.comment=null);x.mode=9;case 9:if(512&x.flags){for(;F<16;){if(X===0)break e;X--,M+=ee[re++]<<F,F+=8}if(M!==(65535&x.check)){U.msg="header crc mismatch",x.mode=30;break}F=M=0}x.head&&(x.head.hcrc=x.flags>>9&1,x.head.done=!0),U.adler=x.check=0,x.mode=12;break;case 10:for(;F<32;){if(X===0)break e;X--,M+=ee[re++]<<F,F+=8}U.adler=x.check=A(M),F=M=0,x.mode=11;case 11:if(x.havedict===0)return U.next_out=ie,U.avail_out=le,U.next_in=re,U.avail_in=X,x.hold=M,x.bits=F,2;U.adler=x.check=1,x.mode=12;case 12:if(j===5||j===6)break e;case 13:if(x.last){M>>>=7&F,F-=7&F,x.mode=27;break}for(;F<3;){if(X===0)break e;X--,M+=ee[re++]<<F,F+=8}switch(x.last=1&M,F-=1,3&(M>>>=1)){case 0:x.mode=14;break;case 1:if(ne(x),x.mode=20,j!==6)break;M>>>=2,F-=2;break e;case 2:x.mode=17;break;case 3:U.msg="invalid block type",x.mode=30}M>>>=2,F-=2;break;case 14:for(M>>>=7&F,F-=7&F;F<32;){if(X===0)break e;X--,M+=ee[re++]<<F,F+=8}if((65535&M)!=(M>>>16^65535)){U.msg="invalid stored block lengths",x.mode=30;break}if(x.length=65535&M,F=M=0,x.mode=15,j===6)break e;case 15:x.mode=16;case 16:if($=x.length){if(X<$&&($=X),le<$&&($=le),$===0)break e;f.arraySet(xe,ee,re,$,ie),X-=$,re+=$,le-=$,ie+=$,x.length-=$;break}x.mode=12;break;case 17:for(;F<14;){if(X===0)break e;X--,M+=ee[re++]<<F,F+=8}if(x.nlen=257+(31&M),M>>>=5,F-=5,x.ndist=1+(31&M),M>>>=5,F-=5,x.ncode=4+(15&M),M>>>=4,F-=4,286<x.nlen||30<x.ndist){U.msg="too many length or distance symbols",x.mode=30;break}x.have=0,x.mode=18;case 18:for(;x.have<x.ncode;){for(;F<3;){if(X===0)break e;X--,M+=ee[re++]<<F,F+=8}x.lens[se[x.have++]]=7&M,M>>>=3,F-=3}for(;x.have<19;)x.lens[se[x.have++]]=0;if(x.lencode=x.lendyn,x.lenbits=7,Q={bits:x.lenbits},oe=h(0,x.lens,0,19,x.lencode,0,x.work,Q),x.lenbits=Q.bits,oe){U.msg="invalid code lengths set",x.mode=30;break}x.have=0,x.mode=19;case 19:for(;x.have<x.nlen+x.ndist;){for(;Te=(N=x.lencode[M&(1<<x.lenbits)-1])>>>16&255,De=65535&N,!((ue=N>>>24)<=F);){if(X===0)break e;X--,M+=ee[re++]<<F,F+=8}if(De<16)M>>>=ue,F-=ue,x.lens[x.have++]=De;else{if(De===16){for(D=ue+2;F<D;){if(X===0)break e;X--,M+=ee[re++]<<F,F+=8}if(M>>>=ue,F-=ue,x.have===0){U.msg="invalid bit length repeat",x.mode=30;break}S=x.lens[x.have-1],$=3+(3&M),M>>>=2,F-=2}else if(De===17){for(D=ue+3;F<D;){if(X===0)break e;X--,M+=ee[re++]<<F,F+=8}F-=ue,S=0,$=3+(7&(M>>>=ue)),M>>>=3,F-=3}else{for(D=ue+7;F<D;){if(X===0)break e;X--,M+=ee[re++]<<F,F+=8}F-=ue,S=0,$=11+(127&(M>>>=ue)),M>>>=7,F-=7}if(x.have+$>x.nlen+x.ndist){U.msg="invalid bit length repeat",x.mode=30;break}for(;$--;)x.lens[x.have++]=S}}if(x.mode===30)break;if(x.lens[256]===0){U.msg="invalid code -- missing end-of-block",x.mode=30;break}if(x.lenbits=9,Q={bits:x.lenbits},oe=h(y,x.lens,0,x.nlen,x.lencode,0,x.work,Q),x.lenbits=Q.bits,oe){U.msg="invalid literal/lengths set",x.mode=30;break}if(x.distbits=6,x.distcode=x.distdyn,Q={bits:x.distbits},oe=h(C,x.lens,x.nlen,x.ndist,x.distcode,0,x.work,Q),x.distbits=Q.bits,oe){U.msg="invalid distances set",x.mode=30;break}if(x.mode=20,j===6)break e;case 20:x.mode=21;case 21:if(6<=X&&258<=le){U.next_out=ie,U.avail_out=le,U.next_in=re,U.avail_in=X,x.hold=M,x.bits=F,m(U,ae),ie=U.next_out,xe=U.output,le=U.avail_out,re=U.next_in,ee=U.input,X=U.avail_in,M=x.hold,F=x.bits,x.mode===12&&(x.back=-1);break}for(x.back=0;Te=(N=x.lencode[M&(1<<x.lenbits)-1])>>>16&255,De=65535&N,!((ue=N>>>24)<=F);){if(X===0)break e;X--,M+=ee[re++]<<F,F+=8}if(Te&&(240&Te)==0){for(Ve=ue,We=Te,ze=De;Te=(N=x.lencode[ze+((M&(1<<Ve+We)-1)>>Ve)])>>>16&255,De=65535&N,!(Ve+(ue=N>>>24)<=F);){if(X===0)break e;X--,M+=ee[re++]<<F,F+=8}M>>>=Ve,F-=Ve,x.back+=Ve}if(M>>>=ue,F-=ue,x.back+=ue,x.length=De,Te===0){x.mode=26;break}if(32&Te){x.back=-1,x.mode=12;break}if(64&Te){U.msg="invalid literal/length code",x.mode=30;break}x.extra=15&Te,x.mode=22;case 22:if(x.extra){for(D=x.extra;F<D;){if(X===0)break e;X--,M+=ee[re++]<<F,F+=8}x.length+=M&(1<<x.extra)-1,M>>>=x.extra,F-=x.extra,x.back+=x.extra}x.was=x.length,x.mode=23;case 23:for(;Te=(N=x.distcode[M&(1<<x.distbits)-1])>>>16&255,De=65535&N,!((ue=N>>>24)<=F);){if(X===0)break e;X--,M+=ee[re++]<<F,F+=8}if((240&Te)==0){for(Ve=ue,We=Te,ze=De;Te=(N=x.distcode[ze+((M&(1<<Ve+We)-1)>>Ve)])>>>16&255,De=65535&N,!(Ve+(ue=N>>>24)<=F);){if(X===0)break e;X--,M+=ee[re++]<<F,F+=8}M>>>=Ve,F-=Ve,x.back+=Ve}if(M>>>=ue,F-=ue,x.back+=ue,64&Te){U.msg="invalid distance code",x.mode=30;break}x.offset=De,x.extra=15&Te,x.mode=24;case 24:if(x.extra){for(D=x.extra;F<D;){if(X===0)break e;X--,M+=ee[re++]<<F,F+=8}x.offset+=M&(1<<x.extra)-1,M>>>=x.extra,F-=x.extra,x.back+=x.extra}if(x.offset>x.dmax){U.msg="invalid distance too far back",x.mode=30;break}x.mode=25;case 25:if(le===0)break e;if($=ae-le,x.offset>$){if(($=x.offset-$)>x.whave&&x.sane){U.msg="invalid distance too far back",x.mode=30;break}he=$>x.wnext?($-=x.wnext,x.wsize-$):x.wnext-$,$>x.length&&($=x.length),_e=x.window}else _e=xe,he=ie-x.offset,$=x.length;for(le<$&&($=le),le-=$,x.length-=$;xe[ie++]=_e[he++],--$;);x.length===0&&(x.mode=21);break;case 26:if(le===0)break e;xe[ie++]=x.length,le--,x.mode=21;break;case 27:if(x.wrap){for(;F<32;){if(X===0)break e;X--,M|=ee[re++]<<F,F+=8}if(ae-=le,U.total_out+=ae,x.total+=ae,ae&&(U.adler=x.check=x.flags?p(x.check,xe,ae,ie-ae):d(x.check,xe,ae,ie-ae)),ae=le,(x.flags?M:A(M))!==x.check){U.msg="incorrect data check",x.mode=30;break}F=M=0}x.mode=28;case 28:if(x.wrap&&x.flags){for(;F<32;){if(X===0)break e;X--,M+=ee[re++]<<F,F+=8}if(M!==(4294967295&x.total)){U.msg="incorrect length check",x.mode=30;break}F=M=0}x.mode=29;case 29:oe=1;break e;case 30:oe=-3;break e;case 31:return-4;case 32:default:return T}return U.next_out=ie,U.avail_out=le,U.next_in=re,U.avail_in=X,x.hold=M,x.bits=F,(x.wsize||ae!==U.avail_out&&x.mode<30&&(x.mode<27||j!==4))&&ge(U,U.output,U.next_out,ae-U.avail_out)?(x.mode=31,-4):(me-=U.avail_in,ae-=U.avail_out,U.total_in+=me,U.total_out+=ae,x.total+=ae,x.wrap&&ae&&(U.adler=x.check=x.flags?p(x.check,xe,ae,U.next_out-ae):d(x.check,xe,ae,U.next_out-ae)),U.data_type=x.bits+(x.last?64:0)+(x.mode===12?128:0)+(x.mode===20||x.mode===15?256:0),(me==0&&ae===0||j===4)&&oe===_&&(oe=-5),oe)},a.inflateEnd=function(U){if(!U||!U.state)return T;var j=U.state;return j.window&&(j.window=null),U.state=null,_},a.inflateGetHeader=function(U,j){var x;return U&&U.state?(2&(x=U.state).wrap)==0?T:((x.head=j).done=!1,_):T},a.inflateSetDictionary=function(U,j){var x,ee=j.length;return U&&U.state?(x=U.state).wrap!==0&&x.mode!==11?T:x.mode===11&&d(1,j,ee,0)!==x.check?-3:ge(U,j,ee,ee)?(x.mode=31,-4):(x.havedict=1,_):T},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(o,i,a){var f=o("../utils/common"),d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],p=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],m=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(y,C,_,T,k,w,I,A){var R,P,z,V,W,b,te,q,ne,ge=A.bits,U=0,j=0,x=0,ee=0,xe=0,re=0,ie=0,X=0,le=0,M=0,F=null,me=0,ae=new f.Buf16(16),$=new f.Buf16(16),he=null,_e=0;for(U=0;U<=15;U++)ae[U]=0;for(j=0;j<T;j++)ae[C[_+j]]++;for(xe=ge,ee=15;1<=ee&&ae[ee]===0;ee--);if(ee<xe&&(xe=ee),ee===0)return k[w++]=20971520,k[w++]=20971520,A.bits=1,0;for(x=1;x<ee&&ae[x]===0;x++);for(xe<x&&(xe=x),U=X=1;U<=15;U++)if(X<<=1,(X-=ae[U])<0)return-1;if(0<X&&(y===0||ee!==1))return-1;for($[1]=0,U=1;U<15;U++)$[U+1]=$[U]+ae[U];for(j=0;j<T;j++)C[_+j]!==0&&(I[$[C[_+j]]++]=j);if(b=y===0?(F=he=I,19):y===1?(F=d,me-=257,he=p,_e-=257,256):(F=m,he=h,-1),U=x,W=w,ie=j=M=0,z=-1,V=(le=1<<(re=xe))-1,y===1&&852<le||y===2&&592<le)return 1;for(;;){for(te=U-ie,ne=I[j]<b?(q=0,I[j]):I[j]>b?(q=he[_e+I[j]],F[me+I[j]]):(q=96,0),R=1<<U-ie,x=P=1<<re;k[W+(M>>ie)+(P-=R)]=te<<24|q<<16|ne|0,P!==0;);for(R=1<<U-1;M&R;)R>>=1;if(R!==0?(M&=R-1,M+=R):M=0,j++,--ae[U]==0){if(U===ee)break;U=C[_+I[j]]}if(xe<U&&(M&V)!==z){for(ie===0&&(ie=xe),W+=x,X=1<<(re=U-ie);re+ie<ee&&!((X-=ae[re+ie])<=0);)re++,X<<=1;if(le+=1<<re,y===1&&852<le||y===2&&592<le)return 1;k[z=M&V]=xe<<24|re<<16|W-w|0}}return M!==0&&(k[W+M]=U-ie<<24|64<<16|0),A.bits=xe,0}},{"../utils/common":41}],51:[function(o,i,a){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(o,i,a){var f=o("../utils/common"),d=0,p=1;function m(N){for(var H=N.length;0<=--H;)N[H]=0}var h=0,y=29,C=256,_=C+1+y,T=30,k=19,w=2*_+1,I=15,A=16,R=7,P=256,z=16,V=17,W=18,b=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],te=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ge=new Array(2*(_+2));m(ge);var U=new Array(2*T);m(U);var j=new Array(512);m(j);var x=new Array(256);m(x);var ee=new Array(y);m(ee);var xe,re,ie,X=new Array(T);function le(N,H,se,fe,K){this.static_tree=N,this.extra_bits=H,this.extra_base=se,this.elems=fe,this.max_length=K,this.has_stree=N&&N.length}function M(N,H){this.dyn_tree=N,this.max_code=0,this.stat_desc=H}function F(N){return N<256?j[N]:j[256+(N>>>7)]}function me(N,H){N.pending_buf[N.pending++]=255&H,N.pending_buf[N.pending++]=H>>>8&255}function ae(N,H,se){N.bi_valid>A-se?(N.bi_buf|=H<<N.bi_valid&65535,me(N,N.bi_buf),N.bi_buf=H>>A-N.bi_valid,N.bi_valid+=se-A):(N.bi_buf|=H<<N.bi_valid&65535,N.bi_valid+=se)}function $(N,H,se){ae(N,se[2*H],se[2*H+1])}function he(N,H){for(var se=0;se|=1&N,N>>>=1,se<<=1,0<--H;);return se>>>1}function _e(N,H,se){var fe,K,ye=new Array(I+1),we=0;for(fe=1;fe<=I;fe++)ye[fe]=we=we+se[fe-1]<<1;for(K=0;K<=H;K++){var Ce=N[2*K+1];Ce!==0&&(N[2*K]=he(ye[Ce]++,Ce))}}function ue(N){var H;for(H=0;H<_;H++)N.dyn_ltree[2*H]=0;for(H=0;H<T;H++)N.dyn_dtree[2*H]=0;for(H=0;H<k;H++)N.bl_tree[2*H]=0;N.dyn_ltree[2*P]=1,N.opt_len=N.static_len=0,N.last_lit=N.matches=0}function Te(N){8<N.bi_valid?me(N,N.bi_buf):0<N.bi_valid&&(N.pending_buf[N.pending++]=N.bi_buf),N.bi_buf=0,N.bi_valid=0}function De(N,H,se,fe){var K=2*H,ye=2*se;return N[K]<N[ye]||N[K]===N[ye]&&fe[H]<=fe[se]}function Ve(N,H,se){for(var fe=N.heap[se],K=se<<1;K<=N.heap_len&&(K<N.heap_len&&De(H,N.heap[K+1],N.heap[K],N.depth)&&K++,!De(H,fe,N.heap[K],N.depth));)N.heap[se]=N.heap[K],se=K,K<<=1;N.heap[se]=fe}function We(N,H,se){var fe,K,ye,we,Ce=0;if(N.last_lit!==0)for(;fe=N.pending_buf[N.d_buf+2*Ce]<<8|N.pending_buf[N.d_buf+2*Ce+1],K=N.pending_buf[N.l_buf+Ce],Ce++,fe===0?$(N,K,H):($(N,(ye=x[K])+C+1,H),(we=b[ye])!==0&&ae(N,K-=ee[ye],we),$(N,ye=F(--fe),se),(we=te[ye])!==0&&ae(N,fe-=X[ye],we)),Ce<N.last_lit;);$(N,P,H)}function ze(N,H){var se,fe,K,ye=H.dyn_tree,we=H.stat_desc.static_tree,Ce=H.stat_desc.has_stree,Re=H.stat_desc.elems,He=-1;for(N.heap_len=0,N.heap_max=w,se=0;se<Re;se++)ye[2*se]!==0?(N.heap[++N.heap_len]=He=se,N.depth[se]=0):ye[2*se+1]=0;for(;N.heap_len<2;)ye[2*(K=N.heap[++N.heap_len]=He<2?++He:0)]=1,N.depth[K]=0,N.opt_len--,Ce&&(N.static_len-=we[2*K+1]);for(H.max_code=He,se=N.heap_len>>1;1<=se;se--)Ve(N,ye,se);for(K=Re;se=N.heap[1],N.heap[1]=N.heap[N.heap_len--],Ve(N,ye,1),fe=N.heap[1],N.heap[--N.heap_max]=se,N.heap[--N.heap_max]=fe,ye[2*K]=ye[2*se]+ye[2*fe],N.depth[K]=(N.depth[se]>=N.depth[fe]?N.depth[se]:N.depth[fe])+1,ye[2*se+1]=ye[2*fe+1]=K,N.heap[1]=K++,Ve(N,ye,1),2<=N.heap_len;);N.heap[--N.heap_max]=N.heap[1],function(Fe,yt){var Bt,ct,Pn,Ze,Nn,Mo,kt=yt.dyn_tree,Zn=yt.max_code,Ro=yt.stat_desc.static_tree,Po=yt.stat_desc.has_stree,No=yt.stat_desc.extra_bits,en=yt.stat_desc.extra_base,Pt=yt.stat_desc.max_length,Dn=0;for(Ze=0;Ze<=I;Ze++)Fe.bl_count[Ze]=0;for(kt[2*Fe.heap[Fe.heap_max]+1]=0,Bt=Fe.heap_max+1;Bt<w;Bt++)Pt<(Ze=kt[2*kt[2*(ct=Fe.heap[Bt])+1]+1]+1)&&(Ze=Pt,Dn++),kt[2*ct+1]=Ze,Zn<ct||(Fe.bl_count[Ze]++,Nn=0,en<=ct&&(Nn=No[ct-en]),Mo=kt[2*ct],Fe.opt_len+=Mo*(Ze+Nn),Po&&(Fe.static_len+=Mo*(Ro[2*ct+1]+Nn)));if(Dn!==0){do{for(Ze=Pt-1;Fe.bl_count[Ze]===0;)Ze--;Fe.bl_count[Ze]--,Fe.bl_count[Ze+1]+=2,Fe.bl_count[Pt]--,Dn-=2}while(0<Dn);for(Ze=Pt;Ze!==0;Ze--)for(ct=Fe.bl_count[Ze];ct!==0;)Zn<(Pn=Fe.heap[--Bt])||(kt[2*Pn+1]!==Ze&&(Fe.opt_len+=(Ze-kt[2*Pn+1])*kt[2*Pn],kt[2*Pn+1]=Ze),ct--)}}(N,H),_e(ye,He,N.bl_count)}function S(N,H,se){var fe,K,ye=-1,we=H[1],Ce=0,Re=7,He=4;for(we===0&&(Re=138,He=3),H[2*(se+1)+1]=65535,fe=0;fe<=se;fe++)K=we,we=H[2*(fe+1)+1],++Ce<Re&&K===we||(Ce<He?N.bl_tree[2*K]+=Ce:K!==0?(K!==ye&&N.bl_tree[2*K]++,N.bl_tree[2*z]++):Ce<=10?N.bl_tree[2*V]++:N.bl_tree[2*W]++,ye=K,He=(Ce=0)===we?(Re=138,3):K===we?(Re=6,3):(Re=7,4))}function oe(N,H,se){var fe,K,ye=-1,we=H[1],Ce=0,Re=7,He=4;for(we===0&&(Re=138,He=3),fe=0;fe<=se;fe++)if(K=we,we=H[2*(fe+1)+1],!(++Ce<Re&&K===we)){if(Ce<He)for(;$(N,K,N.bl_tree),--Ce!=0;);else K!==0?(K!==ye&&($(N,K,N.bl_tree),Ce--),$(N,z,N.bl_tree),ae(N,Ce-3,2)):Ce<=10?($(N,V,N.bl_tree),ae(N,Ce-3,3)):($(N,W,N.bl_tree),ae(N,Ce-11,7));ye=K,He=(Ce=0)===we?(Re=138,3):K===we?(Re=6,3):(Re=7,4)}}m(X);var Q=!1;function D(N,H,se,fe){ae(N,(h<<1)+(fe?1:0),3),function(K,ye,we,Ce){Te(K),me(K,we),me(K,~we),f.arraySet(K.pending_buf,K.window,ye,we,K.pending),K.pending+=we}(N,H,se)}a._tr_init=function(N){Q||(function(){var H,se,fe,K,ye,we=new Array(I+1);for(K=fe=0;K<y-1;K++)for(ee[K]=fe,H=0;H<1<<b[K];H++)x[fe++]=K;for(x[fe-1]=K,K=ye=0;K<16;K++)for(X[K]=ye,H=0;H<1<<te[K];H++)j[ye++]=K;for(ye>>=7;K<T;K++)for(X[K]=ye<<7,H=0;H<1<<te[K]-7;H++)j[256+ye++]=K;for(se=0;se<=I;se++)we[se]=0;for(H=0;H<=143;)ge[2*H+1]=8,H++,we[8]++;for(;H<=255;)ge[2*H+1]=9,H++,we[9]++;for(;H<=279;)ge[2*H+1]=7,H++,we[7]++;for(;H<=287;)ge[2*H+1]=8,H++,we[8]++;for(_e(ge,_+1,we),H=0;H<T;H++)U[2*H+1]=5,U[2*H]=he(H,5);xe=new le(ge,b,C+1,_,I),re=new le(U,te,0,T,I),ie=new le(new Array(0),q,0,k,R)}(),Q=!0),N.l_desc=new M(N.dyn_ltree,xe),N.d_desc=new M(N.dyn_dtree,re),N.bl_desc=new M(N.bl_tree,ie),N.bi_buf=0,N.bi_valid=0,ue(N)},a._tr_stored_block=D,a._tr_flush_block=function(N,H,se,fe){var K,ye,we=0;0<N.level?(N.strm.data_type===2&&(N.strm.data_type=function(Ce){var Re,He=4093624447;for(Re=0;Re<=31;Re++,He>>>=1)if(1&He&&Ce.dyn_ltree[2*Re]!==0)return d;if(Ce.dyn_ltree[18]!==0||Ce.dyn_ltree[20]!==0||Ce.dyn_ltree[26]!==0)return p;for(Re=32;Re<C;Re++)if(Ce.dyn_ltree[2*Re]!==0)return p;return d}(N)),ze(N,N.l_desc),ze(N,N.d_desc),we=function(Ce){var Re;for(S(Ce,Ce.dyn_ltree,Ce.l_desc.max_code),S(Ce,Ce.dyn_dtree,Ce.d_desc.max_code),ze(Ce,Ce.bl_desc),Re=k-1;3<=Re&&Ce.bl_tree[2*ne[Re]+1]===0;Re--);return Ce.opt_len+=3*(Re+1)+5+5+4,Re}(N),K=N.opt_len+3+7>>>3,(ye=N.static_len+3+7>>>3)<=K&&(K=ye)):K=ye=se+5,se+4<=K&&H!==-1?D(N,H,se,fe):N.strategy===4||ye===K?(ae(N,2+(fe?1:0),3),We(N,ge,U)):(ae(N,4+(fe?1:0),3),function(Ce,Re,He,Fe){var yt;for(ae(Ce,Re-257,5),ae(Ce,He-1,5),ae(Ce,Fe-4,4),yt=0;yt<Fe;yt++)ae(Ce,Ce.bl_tree[2*ne[yt]+1],3);oe(Ce,Ce.dyn_ltree,Re-1),oe(Ce,Ce.dyn_dtree,He-1)}(N,N.l_desc.max_code+1,N.d_desc.max_code+1,we+1),We(N,N.dyn_ltree,N.dyn_dtree)),ue(N),fe&&Te(N)},a._tr_tally=function(N,H,se){return N.pending_buf[N.d_buf+2*N.last_lit]=H>>>8&255,N.pending_buf[N.d_buf+2*N.last_lit+1]=255&H,N.pending_buf[N.l_buf+N.last_lit]=255&se,N.last_lit++,H===0?N.dyn_ltree[2*se]++:(N.matches++,H--,N.dyn_ltree[2*(x[se]+C+1)]++,N.dyn_dtree[2*F(H)]++),N.last_lit===N.lit_bufsize-1},a._tr_align=function(N){ae(N,2,3),$(N,P,ge),function(H){H.bi_valid===16?(me(H,H.bi_buf),H.bi_buf=0,H.bi_valid=0):8<=H.bi_valid&&(H.pending_buf[H.pending++]=255&H.bi_buf,H.bi_buf>>=8,H.bi_valid-=8)}(N)}},{"../utils/common":41}],53:[function(o,i,a){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(o,i,a){(function(f){(function(d,p){if(!d.setImmediate){var m,h,y,C,_=1,T={},k=!1,w=d.document,I=Object.getPrototypeOf&&Object.getPrototypeOf(d);I=I&&I.setTimeout?I:d,m={}.toString.call(d.process)==="[object process]"?function(z){process.nextTick(function(){R(z)})}:function(){if(d.postMessage&&!d.importScripts){var z=!0,V=d.onmessage;return d.onmessage=function(){z=!1},d.postMessage("","*"),d.onmessage=V,z}}()?(C="setImmediate$"+Math.random()+"$",d.addEventListener?d.addEventListener("message",P,!1):d.attachEvent("onmessage",P),function(z){d.postMessage(C+z,"*")}):d.MessageChannel?((y=new MessageChannel).port1.onmessage=function(z){R(z.data)},function(z){y.port2.postMessage(z)}):w&&"onreadystatechange"in w.createElement("script")?(h=w.documentElement,function(z){var V=w.createElement("script");V.onreadystatechange=function(){R(z),V.onreadystatechange=null,h.removeChild(V),V=null},h.appendChild(V)}):function(z){setTimeout(R,0,z)},I.setImmediate=function(z){typeof z!="function"&&(z=new Function(""+z));for(var V=new Array(arguments.length-1),W=0;W<V.length;W++)V[W]=arguments[W+1];var b={callback:z,args:V};return T[_]=b,m(_),_++},I.clearImmediate=A}function A(z){delete T[z]}function R(z){if(k)setTimeout(R,0,z);else{var V=T[z];if(V){k=!0;try{(function(W){var b=W.callback,te=W.args;switch(te.length){case 0:b();break;case 1:b(te[0]);break;case 2:b(te[0],te[1]);break;case 3:b(te[0],te[1],te[2]);break;default:b.apply(p,te)}})(V)}finally{A(z),k=!1}}}}function P(z){z.source===d&&typeof z.data=="string"&&z.data.indexOf(C)===0&&R(+z.data.slice(C.length))}})(typeof self>"u"?f===void 0?this:f:self)}).call(this,typeof Ii<"u"?Ii:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(Pl)),Pl.exports}var em=jh();const tm=Ol(em),Fi=({className:t,...e})=>Y.jsx("input",{className:`
        w-full bg-gray-700 p-3 border-2 border-b-4 border-r-4 border-gray-400 
        text-gray-100 text-sm
        focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-blue-500
        placeholder-gray-400
        disabled:bg-gray-800
        ${t}
      `,...e}),hd=()=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),nm=({prompt:t,onTextChange:e,onCountChange:o,onRemove:i,isRemoveDisabled:a})=>{const f=d=>{const p=parseInt(d.target.value,10);!isNaN(p)&&p>0?o(p):d.target.value===""&&o(1)};return Y.jsxs("div",{className:"flex items-start space-x-2",children:[Y.jsx("div",{className:"flex-grow",children:Y.jsx(Fi,{type:"text",value:t.text,onChange:d=>e(d.target.value),placeholder:"e.g., a cat wearing a cowboy hat","aria-label":"Prompt text"})}),Y.jsx("div",{className:"w-20",children:Y.jsx(Fi,{type:"number",value:t.count,onChange:f,min:"1",className:"text-center","aria-label":"Number of images"})}),Y.jsx("button",{onClick:i,disabled:a,className:`
          p-3 border-2 border-b-4 border-r-4 border-gray-400
          bg-red-500 hover:bg-red-600
          active:translate-y-1 active:border-b-2 active:border-r-2
          disabled:bg-gray-600 disabled:text-gray-400 disabled:cursor-not-allowed disabled:transform-none disabled:border-gray-500
          focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-red-500`,"aria-label":"Remove prompt",children:Y.jsx(hd,{})})]})},Ot=({children:t,className:e,...o})=>Y.jsx("button",{className:`
        flex items-center justify-center gap-2
        bg-gray-700 text-gray-100 text-sm 
        p-3 border-2 border-b-4 border-r-4 border-gray-400 
        transform transition-transform duration-75 ease-in-out
        hover:bg-yellow-400 hover:text-gray-900
        active:translate-y-1 active:border-b-2 active:border-r-2
        focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-blue-500
        disabled:bg-gray-600 disabled:text-gray-400 disabled:cursor-not-allowed disabled:transform-none disabled:border-gray-500
        ${e}
      `,...o,children:t}),Nl=({label:t,options:e,selectedValue:o,onChange:i})=>Y.jsxs("div",{children:[Y.jsx("h3",{className:"block mb-2 text-sm",children:t}),Y.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(a=>{const f=o===a.value;return Y.jsx(Ot,{onClick:()=>i(a.value),className:f?"!bg-yellow-400 hover:!bg-yellow-500 !text-black !translate-y-1 !border-b-2 !border-r-2":"bg-gray-50","aria-pressed":f,children:a.label},a.value)})})]}),om=({className:t,...e})=>Y.jsx("textarea",{className:`
        w-full bg-gray-700 p-3 border-2 border-b-4 border-r-4 border-gray-400 
        text-gray-100 text-sm
        focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-blue-500
        placeholder-gray-400
        disabled:bg-gray-800
        resize-y
        min-h-[108px]
        ${t}
      `,...e}),rm=()=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),im=()=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),sm=({isSelected:t})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 ${t?"text-white":"text-gray-100"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"3",children:t?Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"}):Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h12v12H6z"})}),lm=({image:t,displayIndex:e,isSelected:o,onSelect:i,onDelete:a,onDownload:f,onPreview:d})=>{const{id:p,src:m,prompt:h,promptIndex:y}=t,C=y??e,_=`flex items-center justify-center p-2 border-2 border-b-4 border-r-4 border-gray-400 
    transform transition-transform duration-75 ease-in-out
    active:translate-y-0.5 active:border-b-2 active:border-r-2
    focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-700`;return Y.jsxs("div",{className:"bg-gray-700 border-2 border-b-4 border-r-4 border-gray-500 p-2 flex flex-col gap-2 rounded-lg",children:[Y.jsxs("div",{className:"flex justify-between items-center",children:[Y.jsxs("div",{className:"bg-black text-white text-xs font-bold px-2 py-1 rounded",children:["#",C]}),Y.jsxs("div",{className:"flex gap-1.5",children:[Y.jsx("button",{onClick:()=>i(p),className:`${_} ${o?"bg-green-500 hover:bg-green-600":"bg-gray-600 hover:bg-gray-500"}`,"aria-label":o?"Deselect Image":"Select Image",title:o?"Deselect":"Select",children:Y.jsx(sm,{isSelected:o})}),Y.jsx("button",{onClick:()=>f(m,`${C}-${h}`),className:`${_} bg-blue-500 hover:bg-blue-600`,"aria-label":"Download Image",title:"Download",children:Y.jsx(im,{})}),Y.jsx("button",{onClick:()=>a(p),className:`${_} bg-red-500 hover:bg-red-600`,"aria-label":"Delete Image",title:"Delete",children:Y.jsx(rm,{})})]})]}),Y.jsxs("div",{className:"border-2 border-gray-500 relative cursor-pointer bg-gray-800 rounded-md",onClick:()=>d(m,h),children:[Y.jsx("img",{src:m,alt:h,className:"w-full h-auto block transition-all pointer-events-none rounded-sm",loading:"lazy"}),o&&Y.jsx("div",{className:"absolute inset-0 ring-4 ring-inset ring-green-400 pointer-events-none rounded-sm"})]}),Y.jsx("p",{className:"text-xs p-1 bg-gray-600 text-gray-300 break-words line-clamp-2 rounded",title:h,children:h})]})},am=()=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),um=({src:t,prompt:e,onClose:o})=>{const i=a=>{a.stopPropagation()};return Y.jsxs("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:o,role:"dialog","aria-modal":"true",children:[Y.jsx("button",{onClick:o,className:"absolute top-4 right-4 text-white hover:opacity-75 transition-opacity z-10","aria-label":"Close image preview",children:Y.jsx(am,{})}),Y.jsxs("div",{className:"flex flex-col items-center gap-4",onClick:i,children:[Y.jsx("div",{className:"relative",children:Y.jsx("img",{src:t,alt:e,className:"max-w-[90vw] max-h-[80vh] object-contain shadow-lg border-4 border-white"})}),e&&Y.jsx("p",{className:"text-white text-base text-center max-w-[90vw] break-words",children:e})]})]})},md=({className:t})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t||"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),gd=()=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),fm=({isOpen:t,onClose:e,initialKeys:o,onSave:i})=>{const[a,f]=be.useState(o),[d,p]=be.useState("");be.useEffect(()=>{t&&(f(o),p(""))},[t,o]);const m=()=>{const T=d.trim();T&&!a.includes(T)&&(f([...a,T]),p(""))},h=T=>{f(a.filter((k,w)=>w!==T))},y=()=>{const T=d.trim();let k=[...a];T&&!k.includes(T)&&k.push(T),i(k),e()},C=T=>{T.key==="Enter"&&(T.preventDefault(),m())};if(!t)return null;const _=T=>{T.stopPropagation()};return Y.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:y,role:"dialog","aria-modal":"true","aria-labelledby":"settings-modal-title",children:Y.jsxs("div",{className:"bg-gray-800 border-4 border-gray-500 rounded-lg p-6 shadow-lg w-full max-w-2xl relative text-gray-200",onClick:_,children:[Y.jsx("h2",{id:"settings-modal-title",className:"text-2xl mb-4 border-b-4 border-gray-600 pb-2",children:"API Key Settings"}),Y.jsxs("div",{className:"space-y-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{htmlFor:"new-api-key",className:"block mb-2 text-sm",children:"Add New Gemini API Key"}),Y.jsxs("div",{className:"flex gap-2",children:[Y.jsx(Fi,{id:"new-api-key",type:"password",value:d,onChange:T=>p(T.target.value),onKeyDown:C,placeholder:"Enter your API key here"}),Y.jsx(Ot,{onClick:m,"aria-label":"Add API Key",children:Y.jsx(gd,{})})]})]}),Y.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2 -mr-2",children:[Y.jsxs("h3",{className:"text-sm font-bold",children:["Saved Keys (",a.length,")"]}),a.length===0?Y.jsx("p",{className:"text-gray-400 text-sm",children:"No API keys saved."}):a.map((T,k)=>Y.jsxs("div",{className:"flex items-center justify-between bg-gray-700 p-2 border-2 border-gray-500 text-sm rounded",children:[Y.jsxs("span",{children:["Key ",k+1,": ••••••••",T.slice(-4)]}),Y.jsx("button",{onClick:()=>h(k),className:"p-2 bg-red-500 hover:bg-red-600 border-2 border-gray-400","aria-label":`Delete key ${k+1}`,children:Y.jsx(hd,{})})]},k))]}),Y.jsx("p",{className:"text-xs text-gray-400",children:"Your keys are saved securely in your browser's local storage."})]}),Y.jsx(Ot,{onClick:y,className:"mt-6 w-full !bg-blue-500 hover:!bg-blue-600 !text-white",children:"Save and Close"}),Y.jsx("button",{onClick:y,className:"absolute -top-4 -right-4 p-2 bg-red-500 border-2 border-gray-400 rounded-full text-white hover:bg-red-600 transition-transform hover:scale-110","aria-label":"Close",children:Y.jsx(md,{className:"h-5 w-5 text-white"})})]})})},cm=({isOpen:t,onClose:e})=>{if(!t)return null;const o=i=>{i.stopPropagation()};return Y.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:e,role:"dialog","aria-modal":"true","aria-labelledby":"info-modal-title",children:Y.jsxs("div",{className:"bg-gray-800 border-4 border-gray-500 rounded-lg p-6 shadow-lg w-full max-w-2xl relative text-sm text-gray-200",onClick:o,children:[Y.jsx("h2",{id:"info-modal-title",className:"text-2xl mb-4 border-b-4 border-gray-600 pb-2",children:"About This App"}),Y.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[Y.jsx("p",{children:"Welcome to the Gemini Pixel Generator! This tool allows you to generate images using Google's powerful Gemini models with a fun, retro-inspired interface."}),Y.jsx("h3",{className:"text-lg font-bold mt-4",children:"API Key Management"}),Y.jsx("p",{children:"You can add your Gemini API keys via the Settings (gear icon). The keys are saved locally in your browser and are never sent anywhere else."}),Y.jsxs("ul",{className:"list-disc list-inside space-y-2 pl-4 text-gray-300",children:[Y.jsxs("li",{children:[Y.jsx("span",{className:"font-bold text-gray-100",children:"Single API Key:"})," When one key is provided, a 3-second delay is added between generation requests to prevent rate-limiting errors."]}),Y.jsxs("li",{children:[Y.jsx("span",{className:"font-bold text-gray-100",children:"Multiple API Keys:"})," Add two or more keys to enable parallel generation. This distributes requests across your keys, removing the 3-second delay for much faster bulk generation."]})]}),Y.jsx("h3",{className:"text-lg font-bold mt-4",children:"Features"}),Y.jsxs("ul",{className:"list-disc list-inside space-y-2 pl-4 text-gray-300",children:[Y.jsxs("li",{children:[Y.jsx("span",{className:"font-bold text-gray-100",children:"Single & Bulk Prompts:"})," Add prompts one-by-one or paste a list for large jobs."]}),Y.jsxs("li",{children:[Y.jsx("span",{className:"font-bold text-gray-100",children:"Generation Modes:"})," Quickly apply styles like Pixel Art, Stick Figure, and Realistic, or write your own custom style prompt."]}),Y.jsxs("li",{children:[Y.jsx("span",{className:"font-bold text-gray-100",children:"Image Management:"})," Select, deselect, download, and delete images individually or in bulk. Downloading multiple images will automatically create a zip file."]})]})]}),Y.jsx(Ot,{onClick:e,className:"mt-6 w-full !bg-blue-500 hover:!bg-blue-600 !text-white",children:"Close"}),Y.jsx("button",{onClick:e,className:"absolute -top-4 -right-4 p-2 bg-red-500 border-2 border-gray-400 rounded-full text-white hover:bg-red-600 transition-transform hover:scale-110","aria-label":"Close",children:Y.jsx(md,{className:"h-5 w-5 text-white"})})]})})},dm=()=>Y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:[Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),pm=()=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let hm,mm;function gm(){return{geminiUrl:hm,vertexUrl:mm}}function ym(t,e,o,i){var a,f;if(!t?.baseUrl){const d=gm();return e?(a=d.vertexUrl)!==null&&a!==void 0?a:o:(f=d.geminiUrl)!==null&&f!==void 0?f:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kn{}function Me(t,e){const o=/\{([^}]+)\}/g;return t.replace(o,(i,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const f=e[a];return f!=null?String(f):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function l(t,e,o){for(let f=0;f<e.length-1;f++){const d=e[f];if(d.endsWith("[]")){const p=d.slice(0,-2);if(!(p in t))if(Array.isArray(o))t[p]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(t[p])){const m=t[p];if(Array.isArray(o))for(let h=0;h<m.length;h++){const y=m[h];l(y,e.slice(f+1),o[h])}else for(const h of m)l(h,e.slice(f+1),o)}return}else if(d.endsWith("[0]")){const p=d.slice(0,-3);p in t||(t[p]=[{}]);const m=t[p];l(m[0],e.slice(f+1),o);return}(!t[d]||typeof t[d]!="object")&&(t[d]={}),t=t[d]}const i=e[e.length-1],a=t[i];if(a!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===a)return;if(typeof a=="object"&&typeof o=="object"&&a!==null&&o!==null)Object.assign(a,o);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else t[i]=o}function s(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let o=0;o<e.length;o++){if(typeof t!="object"||t===null)return;const i=e[o];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in t){const f=t[a];return Array.isArray(f)?f.map(d=>s(d,e.slice(o+1))):void 0}else return}else t=t[i]}return t}catch(o){if(o instanceof TypeError)return;throw o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fl(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Wf;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Wf||(Wf={}));var Of;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Of||(Of={}));var Rn;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Rn||(Rn={}));var Kf;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Kf||(Kf={}));var Yf;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Yf||(Yf={}));var Zf;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Zf||(Zf={}));var Qf;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Qf||(Qf={}));var Xf;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Xf||(Xf={}));var jf;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(jf||(jf={}));var ec;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(ec||(ec={}));var tc;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(tc||(tc={}));var nc;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(nc||(nc={}));var oc;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(oc||(oc={}));var rc;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(rc||(rc={}));var ic;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(ic||(ic={}));var sc;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(sc||(sc={}));var Ui;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Ui||(Ui={}));var lc;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(lc||(lc={}));var Ul;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ul||(Ul={}));var ac;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(ac||(ac={}));var uc;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(uc||(uc={}));var fc;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(fc||(fc={}));var cc;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(cc||(cc={}));var dc;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(dc||(dc={}));var pc;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(pc||(pc={}));var hc;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(hc||(hc={}));var mc;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(mc||(mc={}));var gc;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(gc||(gc={}));var yc;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(yc||(yc={}));var vc;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(vc||(vc={}));var Cc;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Cc||(Cc={}));var _c;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(_c||(_c={}));var Tc;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Tc||(Tc={}));var Sc;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Sc||(Sc={}));var wc;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(wc||(wc={}));var Ec;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Ec||(Ec={}));var xc;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(xc||(xc={}));var kc;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(kc||(kc={}));var Ic;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Ic||(Ic={}));var Ac;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Ac||(Ac={}));var Mc;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Mc||(Mc={}));var Rc;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Rc||(Rc={}));var _o;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(_o||(_o={}));class Vl{constructor(e){const o={};for(const i of e.headers.entries())o[i[0]]=i[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class gr{get text(){var e,o,i,a,f,d,p,m;if(((a=(i=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",y=!1;const C=[];for(const _ of(m=(p=(d=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)!==null&&m!==void 0?m:[]){for(const[T,k]of Object.entries(_))T!=="text"&&T!=="thought"&&(k!==null||k!==void 0)&&C.push(T);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;y=!0,h+=_.text}}return C.length>0&&console.warn(`there are non-text parts ${C} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?h:void 0}get data(){var e,o,i,a,f,d,p,m;if(((a=(i=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const y=[];for(const C of(m=(p=(d=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)!==null&&m!==void 0?m:[]){for(const[_,T]of Object.entries(C))_!=="inlineData"&&(T!==null||T!==void 0)&&y.push(_);C.inlineData&&typeof C.inlineData.data=="string"&&(h+=atob(C.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,o,i,a,f,d,p,m;if(((a=(i=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(m=(p=(d=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)===null||m===void 0?void 0:m.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if(h?.length!==0)return h}get executableCode(){var e,o,i,a,f,d,p,m,h;if(((a=(i=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(m=(p=(d=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)===null||m===void 0?void 0:m.filter(C=>C.executableCode).map(C=>C.executableCode).filter(C=>C!==void 0);if(y?.length!==0)return(h=y?.[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,o,i,a,f,d,p,m,h;if(((a=(i=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(m=(p=(d=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)===null||m===void 0?void 0:m.filter(C=>C.codeExecutionResult).map(C=>C.codeExecutionResult).filter(C=>C!==void 0);if(y?.length!==0)return(h=y?.[0])===null||h===void 0?void 0:h.output}}class Pc{}class Nc{}class vm{}class Cm{}class _m{}class Dc{}class Lc{}class Fc{}class Tm{}class Uc{}class Vc{}class zc{}class Bc{}class Sm{}class wm{}class Em{}class Gc{}class xm{get text(){var e,o,i;let a="",f=!1;const d=[];for(const p of(i=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&i!==void 0?i:[]){for(const[m,h]of Object.entries(p))m!=="text"&&m!=="thought"&&h!==null&&d.push(m);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;f=!0,a+=p.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?a:void 0}get data(){var e,o,i;let a="";const f=[];for(const d of(i=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&i!==void 0?i:[]){for(const[p,m]of Object.entries(d))p!=="inlineData"&&m!==null&&f.push(p);d.inlineData&&typeof d.inlineData.data=="string"&&(a+=atob(d.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class Vi{_fromAPIResponse({apiResponse:e,isVertexAI:o}){const i=new Vi;if(i.name=e.name,i.metadata=e.metadata,i.done=e.done,i.error=e.error,o){const a=e.response;if(a){const f=new Uc,d=a.videos;f.generatedVideos=d?.map(p=>({video:{uri:p.gcsUri,videoBytes:p.bytesBase64Encoded?Fl(p.bytesBase64Encoded):void 0,mimeType:p.mimeType}})),f.raiMediaFilteredCount=a.raiMediaFilteredCount,f.raiMediaFilteredReasons=a.raiMediaFilteredReasons,i.response=f}}else{const a=e.response;if(a){const f=new Uc,d=a.generateVideoResponse,p=d?.generatedSamples;f.generatedVideos=p?.map(m=>{const h=m.video;return{video:{uri:h?.uri,videoBytes:h?.encodedVideo?Fl(h?.encodedVideo):void 0,mimeType:m.encoding}}}),f.raiMediaFilteredCount=d?.raiMediaFilteredCount,f.raiMediaFilteredReasons=d?.raiMediaFilteredReasons,i.response=f}}return i}}class km{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qe(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function yd(t,e){const o=qe(t,e);return o?o.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${o}`:o.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${o}`:o:""}function vd(t){return Array.isArray(t)?t.map(e=>zi(e)):[zi(t)]}function zi(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Cd(t){const e=zi(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function _d(t){const e=zi(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Hc(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Td(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Hc(e)):[Hc(t)]}function zl(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function qc(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function $c(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function gt(t){if(t==null)throw new Error("ContentUnion is required");return zl(t)?t:{role:"user",parts:Td(t)}}function Sd(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const i=gt(o);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const o=gt(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>gt(o)):[gt(e)]}function zt(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(qc(t)||$c(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[gt(t)]}const e=[],o=[],i=zl(t[0]);for(const a of t){const f=zl(a);if(f!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)e.push(a);else{if(qc(a)||$c(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(a)}}return i||e.push({role:"user",parts:Td(o)}),e}function Im(t,e){t.includes("null")&&(e.nullable=!0);const o=t.filter(i=>i!=="null");if(o.length===1)e.type=Object.values(Rn).includes(o[0].toUpperCase())?o[0].toUpperCase():Rn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of o)e.anyOf.push({type:Object.values(Rn).includes(i.toUpperCase())?i.toUpperCase():Rn.TYPE_UNSPECIFIED})}}function To(t){const e={},o=["items"],i=["anyOf"],a=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=t.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(e.nullable=!0,t=f[1]):f[1].type==="null"&&(e.nullable=!0,t=f[0])),t.type instanceof Array&&Im(t.type,e);for(const[d,p]of Object.entries(t))if(p!=null)if(d=="type"){if(p==="null")throw new Error("type: null can not be the only possible type for the field.");if(p instanceof Array)continue;e.type=Object.values(Rn).includes(p.toUpperCase())?p.toUpperCase():Rn.TYPE_UNSPECIFIED}else if(o.includes(d))e[d]=To(p);else if(i.includes(d)){const m=[];for(const h of p){if(h.type=="null"){e.nullable=!0;continue}m.push(To(h))}e[d]=m}else if(a.includes(d)){const m={};for(const[h,y]of Object.entries(p))m[h]=To(y);e[d]=m}else{if(d==="additionalProperties")continue;e[d]=p}return e}function Yl(t){return To(t)}function Zl(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Ql(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Eo(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=To(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=To(e.response));return t}function xo(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of t)e.push(o);return e}function Am(t,e,o,i=1){const a=!e.startsWith(`${o}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:a?`projects/${t.getProject()}/locations/${t.getLocation()}/${o}/${e}`:e:a?`${o}/${e}`:e}function fn(t,e){if(typeof e!="string")throw new Error("name must be a string");return Am(t,e,"cachedContents")}function wd(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Yn(t){return Fl(t)}function Mm(t){return t!=null&&typeof t=="object"&&"name"in t}function Rm(t){return t!=null&&typeof t=="object"&&"video"in t}function Pm(t){return t!=null&&typeof t=="object"&&"uri"in t}function Ed(t){var e;let o;if(Mm(t)&&(o=t.name),!(Pm(t)&&(o=t.uri,o===void 0))&&!(Rm(t)&&(o=(e=t.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof t=="string"&&(o=t),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const a=o.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${o}`);o=a[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function xd(t,e){let o;return t.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function kd(t){for(const e of["models","tunedModels","publisherModels"])if(Nm(t,e))return t[e];return[]}function Nm(t,e){return t!==null&&typeof t=="object"&&e in t}function Dm(t,e={}){const o=t,i={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function Lm(t,e={}){const o=[],i=new Set;for(const a of t){const f=a.name;if(i.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);i.add(f);const d=Dm(a,e);d.functionDeclarations&&o.push(...d.functionDeclarations)}return{functionDeclarations:o}}function Id(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function Fm(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function ko(t,e){const o=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Ad(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Um(t){const e={},o=s(t,["fps"]);o!=null&&l(e,["fps"],o);const i=s(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const a=s(t,["startOffset"]);return a!=null&&l(e,["startOffset"],a),e}function Vm(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["data"]);o!=null&&l(e,["data"],o);const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function zm(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["fileUri"]);o!=null&&l(e,["fileUri"],o);const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function Bm(t){const e={},o=s(t,["videoMetadata"]);o!=null&&l(e,["videoMetadata"],Um(o));const i=s(t,["thought"]);i!=null&&l(e,["thought"],i);const a=s(t,["inlineData"]);a!=null&&l(e,["inlineData"],Vm(a));const f=s(t,["fileData"]);f!=null&&l(e,["fileData"],zm(f));const d=s(t,["thoughtSignature"]);d!=null&&l(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&l(e,["codeExecutionResult"],p);const m=s(t,["executableCode"]);m!=null&&l(e,["executableCode"],m);const h=s(t,["functionCall"]);h!=null&&l(e,["functionCall"],h);const y=s(t,["functionResponse"]);y!=null&&l(e,["functionResponse"],y);const C=s(t,["text"]);return C!=null&&l(e,["text"],C),e}function Md(t){const e={},o=s(t,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>Bm(f))),l(e,["parts"],a)}const i=s(t,["role"]);return i!=null&&l(e,["role"],i),e}function Gm(t){const e={},o=s(t,["anyOf"]);o!=null&&l(e,["anyOf"],o);const i=s(t,["default"]);i!=null&&l(e,["default"],i);const a=s(t,["description"]);a!=null&&l(e,["description"],a);const f=s(t,["enum"]);f!=null&&l(e,["enum"],f);const d=s(t,["example"]);d!=null&&l(e,["example"],d);const p=s(t,["format"]);p!=null&&l(e,["format"],p);const m=s(t,["items"]);m!=null&&l(e,["items"],m);const h=s(t,["maxItems"]);h!=null&&l(e,["maxItems"],h);const y=s(t,["maxLength"]);y!=null&&l(e,["maxLength"],y);const C=s(t,["maxProperties"]);C!=null&&l(e,["maxProperties"],C);const _=s(t,["maximum"]);_!=null&&l(e,["maximum"],_);const T=s(t,["minItems"]);T!=null&&l(e,["minItems"],T);const k=s(t,["minLength"]);k!=null&&l(e,["minLength"],k);const w=s(t,["minProperties"]);w!=null&&l(e,["minProperties"],w);const I=s(t,["minimum"]);I!=null&&l(e,["minimum"],I);const A=s(t,["nullable"]);A!=null&&l(e,["nullable"],A);const R=s(t,["pattern"]);R!=null&&l(e,["pattern"],R);const P=s(t,["properties"]);P!=null&&l(e,["properties"],P);const z=s(t,["propertyOrdering"]);z!=null&&l(e,["propertyOrdering"],z);const V=s(t,["required"]);V!=null&&l(e,["required"],V);const W=s(t,["title"]);W!=null&&l(e,["title"],W);const b=s(t,["type"]);return b!=null&&l(e,["type"],b),e}function Hm(t){const e={};if(s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(t,["category"]);o!=null&&l(e,["category"],o);const i=s(t,["threshold"]);return i!=null&&l(e,["threshold"],i),e}function qm(t){const e={},o=s(t,["behavior"]);o!=null&&l(e,["behavior"],o);const i=s(t,["description"]);i!=null&&l(e,["description"],i);const a=s(t,["name"]);a!=null&&l(e,["name"],a);const f=s(t,["parameters"]);f!=null&&l(e,["parameters"],f);const d=s(t,["parametersJsonSchema"]);d!=null&&l(e,["parametersJsonSchema"],d);const p=s(t,["response"]);p!=null&&l(e,["response"],p);const m=s(t,["responseJsonSchema"]);return m!=null&&l(e,["responseJsonSchema"],m),e}function $m(t){const e={},o=s(t,["startTime"]);o!=null&&l(e,["startTime"],o);const i=s(t,["endTime"]);return i!=null&&l(e,["endTime"],i),e}function bm(t){const e={},o=s(t,["timeRangeFilter"]);return o!=null&&l(e,["timeRangeFilter"],$m(o)),e}function Jm(t){const e={},o=s(t,["mode"]);o!=null&&l(e,["mode"],o);const i=s(t,["dynamicThreshold"]);return i!=null&&l(e,["dynamicThreshold"],i),e}function Wm(t){const e={},o=s(t,["dynamicRetrievalConfig"]);return o!=null&&l(e,["dynamicRetrievalConfig"],Jm(o)),e}function Om(){return{}}function Km(t){const e={},o=s(t,["functionDeclarations"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(h=>qm(h))),l(e,["functionDeclarations"],m)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(t,["googleSearch"]);i!=null&&l(e,["googleSearch"],bm(i));const a=s(t,["googleSearchRetrieval"]);if(a!=null&&l(e,["googleSearchRetrieval"],Wm(a)),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(t,["urlContext"])!=null&&l(e,["urlContext"],Om());const d=s(t,["codeExecution"]);d!=null&&l(e,["codeExecution"],d);const p=s(t,["computerUse"]);return p!=null&&l(e,["computerUse"],p),e}function Ym(t){const e={},o=s(t,["mode"]);o!=null&&l(e,["mode"],o);const i=s(t,["allowedFunctionNames"]);return i!=null&&l(e,["allowedFunctionNames"],i),e}function Zm(t){const e={},o=s(t,["latitude"]);o!=null&&l(e,["latitude"],o);const i=s(t,["longitude"]);return i!=null&&l(e,["longitude"],i),e}function Qm(t){const e={},o=s(t,["latLng"]);o!=null&&l(e,["latLng"],Zm(o));const i=s(t,["languageCode"]);return i!=null&&l(e,["languageCode"],i),e}function Xm(t){const e={},o=s(t,["functionCallingConfig"]);o!=null&&l(e,["functionCallingConfig"],Ym(o));const i=s(t,["retrievalConfig"]);return i!=null&&l(e,["retrievalConfig"],Qm(i)),e}function jm(t){const e={},o=s(t,["voiceName"]);return o!=null&&l(e,["voiceName"],o),e}function Rd(t){const e={},o=s(t,["prebuiltVoiceConfig"]);return o!=null&&l(e,["prebuiltVoiceConfig"],jm(o)),e}function eg(t){const e={},o=s(t,["speaker"]);o!=null&&l(e,["speaker"],o);const i=s(t,["voiceConfig"]);return i!=null&&l(e,["voiceConfig"],Rd(i)),e}function tg(t){const e={},o=s(t,["speakerVoiceConfigs"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>eg(a))),l(e,["speakerVoiceConfigs"],i)}return e}function ng(t){const e={},o=s(t,["voiceConfig"]);o!=null&&l(e,["voiceConfig"],Rd(o));const i=s(t,["multiSpeakerVoiceConfig"]);i!=null&&l(e,["multiSpeakerVoiceConfig"],tg(i));const a=s(t,["languageCode"]);return a!=null&&l(e,["languageCode"],a),e}function og(t){const e={},o=s(t,["includeThoughts"]);o!=null&&l(e,["includeThoughts"],o);const i=s(t,["thinkingBudget"]);return i!=null&&l(e,["thinkingBudget"],i),e}function rg(t,e,o){const i={},a=s(e,["systemInstruction"]);o!==void 0&&a!=null&&l(o,["systemInstruction"],Md(gt(a)));const f=s(e,["temperature"]);f!=null&&l(i,["temperature"],f);const d=s(e,["topP"]);d!=null&&l(i,["topP"],d);const p=s(e,["topK"]);p!=null&&l(i,["topK"],p);const m=s(e,["candidateCount"]);m!=null&&l(i,["candidateCount"],m);const h=s(e,["maxOutputTokens"]);h!=null&&l(i,["maxOutputTokens"],h);const y=s(e,["stopSequences"]);y!=null&&l(i,["stopSequences"],y);const C=s(e,["responseLogprobs"]);C!=null&&l(i,["responseLogprobs"],C);const _=s(e,["logprobs"]);_!=null&&l(i,["logprobs"],_);const T=s(e,["presencePenalty"]);T!=null&&l(i,["presencePenalty"],T);const k=s(e,["frequencyPenalty"]);k!=null&&l(i,["frequencyPenalty"],k);const w=s(e,["seed"]);w!=null&&l(i,["seed"],w);const I=s(e,["responseMimeType"]);I!=null&&l(i,["responseMimeType"],I);const A=s(e,["responseSchema"]);A!=null&&l(i,["responseSchema"],Gm(Yl(A)));const R=s(e,["responseJsonSchema"]);if(R!=null&&l(i,["responseJsonSchema"],R),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=s(e,["safetySettings"]);if(o!==void 0&&P!=null){let ge=P;Array.isArray(ge)&&(ge=ge.map(U=>Hm(U))),l(o,["safetySettings"],ge)}const z=s(e,["tools"]);if(o!==void 0&&z!=null){let ge=xo(z);Array.isArray(ge)&&(ge=ge.map(U=>Km(Eo(U)))),l(o,["tools"],ge)}const V=s(e,["toolConfig"]);if(o!==void 0&&V!=null&&l(o,["toolConfig"],Xm(V)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const W=s(e,["cachedContent"]);o!==void 0&&W!=null&&l(o,["cachedContent"],fn(t,W));const b=s(e,["responseModalities"]);b!=null&&l(i,["responseModalities"],b);const te=s(e,["mediaResolution"]);te!=null&&l(i,["mediaResolution"],te);const q=s(e,["speechConfig"]);if(q!=null&&l(i,["speechConfig"],ng(Zl(q))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ne=s(e,["thinkingConfig"]);return ne!=null&&l(i,["thinkingConfig"],og(ne)),i}function ig(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["request","model"],qe(t,i));const a=s(e,["contents"]);if(a!=null){let d=zt(a);Array.isArray(d)&&(d=d.map(p=>Md(p))),l(o,["request","contents"],d)}const f=s(e,["config"]);return f!=null&&l(o,["request","generationConfig"],rg(t,f,o)),o}function sg(t,e){const o={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=s(e,["fileName"]);i!=null&&l(o,["fileName"],i);const a=s(e,["inlinedRequests"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(d=>ig(t,d))),l(o,["requests","requests"],f)}return o}function lg(t,e){const o={},i=s(t,["displayName"]);if(e!==void 0&&i!=null&&l(e,["batch","displayName"],i),s(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function ag(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","model"],qe(t,i));const a=s(e,["src"]);a!=null&&l(o,["batch","inputConfig"],sg(t,Id(t,a)));const f=s(e,["config"]);return f!=null&&l(o,["config"],lg(f,o)),o}function ug(t,e){const o={},i=s(e,["name"]);i!=null&&l(o,["_url","name"],ko(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],a),o}function fg(t,e){const o={},i=s(e,["name"]);i!=null&&l(o,["_url","name"],ko(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],a),o}function cg(t,e){const o={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&l(e,["_query","pageSize"],i);const a=s(t,["pageToken"]);if(e!==void 0&&a!=null&&l(e,["_query","pageToken"],a),s(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function dg(t){const e={},o=s(t,["config"]);return o!=null&&l(e,["config"],cg(o,e)),e}function pg(t,e){const o={},i=s(e,["name"]);i!=null&&l(o,["_url","name"],ko(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],a),o}function hg(t){const e={},o=s(t,["format"]);o!=null&&l(e,["instancesFormat"],o);const i=s(t,["gcsUri"]);i!=null&&l(e,["gcsSource","uris"],i);const a=s(t,["bigqueryUri"]);if(a!=null&&l(e,["bigquerySource","inputUri"],a),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function mg(t){const e={},o=s(t,["format"]);o!=null&&l(e,["predictionsFormat"],o);const i=s(t,["gcsUri"]);i!=null&&l(e,["gcsDestination","outputUriPrefix"],i);const a=s(t,["bigqueryUri"]);if(a!=null&&l(e,["bigqueryDestination","outputUri"],a),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function gg(t,e){const o={},i=s(t,["displayName"]);e!==void 0&&i!=null&&l(e,["displayName"],i);const a=s(t,["dest"]);return e!==void 0&&a!=null&&l(e,["outputConfig"],mg(Fm(a))),o}function yg(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["model"],qe(t,i));const a=s(e,["src"]);a!=null&&l(o,["inputConfig"],hg(Id(t,a)));const f=s(e,["config"]);return f!=null&&l(o,["config"],gg(f,o)),o}function vg(t,e){const o={},i=s(e,["name"]);i!=null&&l(o,["_url","name"],ko(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],a),o}function Cg(t,e){const o={},i=s(e,["name"]);i!=null&&l(o,["_url","name"],ko(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],a),o}function _g(t,e){const o={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&l(e,["_query","pageSize"],i);const a=s(t,["pageToken"]);e!==void 0&&a!=null&&l(e,["_query","pageToken"],a);const f=s(t,["filter"]);return e!==void 0&&f!=null&&l(e,["_query","filter"],f),o}function Tg(t){const e={},o=s(t,["config"]);return o!=null&&l(e,["config"],_g(o,e)),e}function Sg(t,e){const o={},i=s(e,["name"]);i!=null&&l(o,["_url","name"],ko(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],a),o}function wg(t){const e={},o=s(t,["fps"]);o!=null&&l(e,["fps"],o);const i=s(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const a=s(t,["startOffset"]);return a!=null&&l(e,["startOffset"],a),e}function Eg(t){const e={},o=s(t,["data"]);o!=null&&l(e,["data"],o);const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function xg(t){const e={},o=s(t,["fileUri"]);o!=null&&l(e,["fileUri"],o);const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function kg(t){const e={},o=s(t,["videoMetadata"]);o!=null&&l(e,["videoMetadata"],wg(o));const i=s(t,["thought"]);i!=null&&l(e,["thought"],i);const a=s(t,["inlineData"]);a!=null&&l(e,["inlineData"],Eg(a));const f=s(t,["fileData"]);f!=null&&l(e,["fileData"],xg(f));const d=s(t,["thoughtSignature"]);d!=null&&l(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&l(e,["codeExecutionResult"],p);const m=s(t,["executableCode"]);m!=null&&l(e,["executableCode"],m);const h=s(t,["functionCall"]);h!=null&&l(e,["functionCall"],h);const y=s(t,["functionResponse"]);y!=null&&l(e,["functionResponse"],y);const C=s(t,["text"]);return C!=null&&l(e,["text"],C),e}function Ig(t){const e={},o=s(t,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>kg(f))),l(e,["parts"],a)}const i=s(t,["role"]);return i!=null&&l(e,["role"],i),e}function Ag(t){const e={},o=s(t,["citationSources"]);return o!=null&&l(e,["citations"],o),e}function Mg(t){const e={},o=s(t,["retrievedUrl"]);o!=null&&l(e,["retrievedUrl"],o);const i=s(t,["urlRetrievalStatus"]);return i!=null&&l(e,["urlRetrievalStatus"],i),e}function Rg(t){const e={},o=s(t,["urlMetadata"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>Mg(a))),l(e,["urlMetadata"],i)}return e}function Pg(t){const e={},o=s(t,["content"]);o!=null&&l(e,["content"],Ig(o));const i=s(t,["citationMetadata"]);i!=null&&l(e,["citationMetadata"],Ag(i));const a=s(t,["tokenCount"]);a!=null&&l(e,["tokenCount"],a);const f=s(t,["finishReason"]);f!=null&&l(e,["finishReason"],f);const d=s(t,["urlContextMetadata"]);d!=null&&l(e,["urlContextMetadata"],Rg(d));const p=s(t,["avgLogprobs"]);p!=null&&l(e,["avgLogprobs"],p);const m=s(t,["groundingMetadata"]);m!=null&&l(e,["groundingMetadata"],m);const h=s(t,["index"]);h!=null&&l(e,["index"],h);const y=s(t,["logprobsResult"]);y!=null&&l(e,["logprobsResult"],y);const C=s(t,["safetyRatings"]);return C!=null&&l(e,["safetyRatings"],C),e}function Ng(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["candidates"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(h=>Pg(h))),l(e,["candidates"],m)}const a=s(t,["modelVersion"]);a!=null&&l(e,["modelVersion"],a);const f=s(t,["promptFeedback"]);f!=null&&l(e,["promptFeedback"],f);const d=s(t,["responseId"]);d!=null&&l(e,["responseId"],d);const p=s(t,["usageMetadata"]);return p!=null&&l(e,["usageMetadata"],p),e}function Pd(t){const e={},o=s(t,["details"]);o!=null&&l(e,["details"],o);const i=s(t,["code"]);i!=null&&l(e,["code"],i);const a=s(t,["message"]);return a!=null&&l(e,["message"],a),e}function Dg(t){const e={},o=s(t,["response"]);o!=null&&l(e,["response"],Ng(o));const i=s(t,["error"]);return i!=null&&l(e,["error"],Pd(i)),e}function Lg(t){const e={},o=s(t,["responsesFile"]);o!=null&&l(e,["fileName"],o);const i=s(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(f=>Dg(f))),l(e,["inlinedResponses"],a)}return e}function Bl(t){const e={},o=s(t,["name"]);o!=null&&l(e,["name"],o);const i=s(t,["metadata","displayName"]);i!=null&&l(e,["displayName"],i);const a=s(t,["metadata","state"]);a!=null&&l(e,["state"],Ad(a));const f=s(t,["metadata","createTime"]);f!=null&&l(e,["createTime"],f);const d=s(t,["metadata","endTime"]);d!=null&&l(e,["endTime"],d);const p=s(t,["metadata","updateTime"]);p!=null&&l(e,["updateTime"],p);const m=s(t,["metadata","model"]);m!=null&&l(e,["model"],m);const h=s(t,["metadata","output"]);return h!=null&&l(e,["dest"],Lg(h)),e}function Fg(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["nextPageToken"]);i!=null&&l(e,["nextPageToken"],i);const a=s(t,["operations"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(d=>Bl(d))),l(e,["batchJobs"],f)}return e}function Ug(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["name"]);i!=null&&l(e,["name"],i);const a=s(t,["done"]);a!=null&&l(e,["done"],a);const f=s(t,["error"]);return f!=null&&l(e,["error"],Pd(f)),e}function Nd(t){const e={},o=s(t,["details"]);o!=null&&l(e,["details"],o);const i=s(t,["code"]);i!=null&&l(e,["code"],i);const a=s(t,["message"]);return a!=null&&l(e,["message"],a),e}function Vg(t){const e={},o=s(t,["instancesFormat"]);o!=null&&l(e,["format"],o);const i=s(t,["gcsSource","uris"]);i!=null&&l(e,["gcsUri"],i);const a=s(t,["bigquerySource","inputUri"]);return a!=null&&l(e,["bigqueryUri"],a),e}function zg(t){const e={},o=s(t,["predictionsFormat"]);o!=null&&l(e,["format"],o);const i=s(t,["gcsDestination","outputUriPrefix"]);i!=null&&l(e,["gcsUri"],i);const a=s(t,["bigqueryDestination","outputUri"]);return a!=null&&l(e,["bigqueryUri"],a),e}function Gl(t){const e={},o=s(t,["name"]);o!=null&&l(e,["name"],o);const i=s(t,["displayName"]);i!=null&&l(e,["displayName"],i);const a=s(t,["state"]);a!=null&&l(e,["state"],Ad(a));const f=s(t,["error"]);f!=null&&l(e,["error"],Nd(f));const d=s(t,["createTime"]);d!=null&&l(e,["createTime"],d);const p=s(t,["startTime"]);p!=null&&l(e,["startTime"],p);const m=s(t,["endTime"]);m!=null&&l(e,["endTime"],m);const h=s(t,["updateTime"]);h!=null&&l(e,["updateTime"],h);const y=s(t,["model"]);y!=null&&l(e,["model"],y);const C=s(t,["inputConfig"]);C!=null&&l(e,["src"],Vg(C));const _=s(t,["outputConfig"]);return _!=null&&l(e,["dest"],zg(_)),e}function Bg(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["nextPageToken"]);i!=null&&l(e,["nextPageToken"],i);const a=s(t,["batchPredictionJobs"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(d=>Gl(d))),l(e,["batchJobs"],f)}return e}function Gg(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["name"]);i!=null&&l(e,["name"],i);const a=s(t,["done"]);a!=null&&l(e,["done"],a);const f=s(t,["error"]);return f!=null&&l(e,["error"],Nd(f)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var On;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(On||(On={}));class Cr{constructor(e,o,i,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,i,a)}init(e,o,i){var a,f;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o?.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!i||Object.keys(i).length===0?d={config:{}}:typeof i=="object"?d=Object.assign({},i):d=i,d.config&&(d.config.pageToken=o.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(f=(a=d.config)===null||a===void 0?void 0:a.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hg extends Kn{constructor(e){super(),this.apiClient=e,this.create=async o=>{if(this.apiClient.isVertexAI()){const a=Date.now().toString();if(Array.isArray(o.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(o.config=o.config||{},o.config.displayName===void 0&&(o.config.displayName="genaiBatchJob_${timestampStr}"),o.config.dest===void 0&&typeof o.src=="string")if(o.src.startsWith("gs://")&&o.src.endsWith(".jsonl"))o.config.dest=`${o.src.slice(0,-6)}/dest`;else if(o.src.startsWith("bq://"))o.config.dest=`${o.src}_dest_${a}`;else throw new Error("Unsupported source:"+o.src)}return await this.createInternal(o)},this.list=async(o={})=>new Cr(On.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(o),o)}async createInternal(e){var o,i,a,f;let d,p="",m={};if(this.apiClient.isVertexAI()){const h=yg(this.apiClient,e);return p=Me("batchPredictionJobs",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),d.then(y=>Gl(y))}else{const h=ag(this.apiClient,e);return p=Me("{model}:batchGenerateContent",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),d.then(y=>Bl(y))}}async get(e){var o,i,a,f;let d,p="",m={};if(this.apiClient.isVertexAI()){const h=vg(this.apiClient,e);return p=Me("batchPredictionJobs/{name}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),d.then(y=>Gl(y))}else{const h=ug(this.apiClient,e);return p=Me("batches/{name}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),d.then(y=>Bl(y))}}async cancel(e){var o,i,a,f;let d="",p={};if(this.apiClient.isVertexAI()){const m=Cg(this.apiClient,e);d=Me("batchPredictionJobs/{name}:cancel",m._url),p=m._query,delete m.config,delete m._url,delete m._query,await this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const m=fg(this.apiClient,e);d=Me("batches/{name}:cancel",m._url),p=m._query,delete m.config,delete m._url,delete m._query,await this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(e){var o,i,a,f;let d,p="",m={};if(this.apiClient.isVertexAI()){const h=Tg(e);return p=Me("batchPredictionJobs",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const C=Bg(y),_=new Gc;return Object.assign(_,C),_})}else{const h=dg(e);return p=Me("batches",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const C=Fg(y),_=new Gc;return Object.assign(_,C),_})}}async delete(e){var o,i,a,f;let d,p="",m={};if(this.apiClient.isVertexAI()){const h=Sg(this.apiClient,e);return p=Me("batchPredictionJobs/{name}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>Gg(y))}else{const h=pg(this.apiClient,e);return p=Me("batches/{name}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>Ug(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qg(t){const e={},o=s(t,["fps"]);o!=null&&l(e,["fps"],o);const i=s(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const a=s(t,["startOffset"]);return a!=null&&l(e,["startOffset"],a),e}function $g(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["data"]);o!=null&&l(e,["data"],o);const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function bg(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["fileUri"]);o!=null&&l(e,["fileUri"],o);const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function Jg(t){const e={},o=s(t,["videoMetadata"]);o!=null&&l(e,["videoMetadata"],qg(o));const i=s(t,["thought"]);i!=null&&l(e,["thought"],i);const a=s(t,["inlineData"]);a!=null&&l(e,["inlineData"],$g(a));const f=s(t,["fileData"]);f!=null&&l(e,["fileData"],bg(f));const d=s(t,["thoughtSignature"]);d!=null&&l(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&l(e,["codeExecutionResult"],p);const m=s(t,["executableCode"]);m!=null&&l(e,["executableCode"],m);const h=s(t,["functionCall"]);h!=null&&l(e,["functionCall"],h);const y=s(t,["functionResponse"]);y!=null&&l(e,["functionResponse"],y);const C=s(t,["text"]);return C!=null&&l(e,["text"],C),e}function bc(t){const e={},o=s(t,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>Jg(f))),l(e,["parts"],a)}const i=s(t,["role"]);return i!=null&&l(e,["role"],i),e}function Wg(t){const e={},o=s(t,["behavior"]);o!=null&&l(e,["behavior"],o);const i=s(t,["description"]);i!=null&&l(e,["description"],i);const a=s(t,["name"]);a!=null&&l(e,["name"],a);const f=s(t,["parameters"]);f!=null&&l(e,["parameters"],f);const d=s(t,["parametersJsonSchema"]);d!=null&&l(e,["parametersJsonSchema"],d);const p=s(t,["response"]);p!=null&&l(e,["response"],p);const m=s(t,["responseJsonSchema"]);return m!=null&&l(e,["responseJsonSchema"],m),e}function Og(t){const e={},o=s(t,["startTime"]);o!=null&&l(e,["startTime"],o);const i=s(t,["endTime"]);return i!=null&&l(e,["endTime"],i),e}function Kg(t){const e={},o=s(t,["timeRangeFilter"]);return o!=null&&l(e,["timeRangeFilter"],Og(o)),e}function Yg(t){const e={},o=s(t,["mode"]);o!=null&&l(e,["mode"],o);const i=s(t,["dynamicThreshold"]);return i!=null&&l(e,["dynamicThreshold"],i),e}function Zg(t){const e={},o=s(t,["dynamicRetrievalConfig"]);return o!=null&&l(e,["dynamicRetrievalConfig"],Yg(o)),e}function Qg(){return{}}function Xg(t){const e={},o=s(t,["functionDeclarations"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(h=>Wg(h))),l(e,["functionDeclarations"],m)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(t,["googleSearch"]);i!=null&&l(e,["googleSearch"],Kg(i));const a=s(t,["googleSearchRetrieval"]);if(a!=null&&l(e,["googleSearchRetrieval"],Zg(a)),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(t,["urlContext"])!=null&&l(e,["urlContext"],Qg());const d=s(t,["codeExecution"]);d!=null&&l(e,["codeExecution"],d);const p=s(t,["computerUse"]);return p!=null&&l(e,["computerUse"],p),e}function jg(t){const e={},o=s(t,["mode"]);o!=null&&l(e,["mode"],o);const i=s(t,["allowedFunctionNames"]);return i!=null&&l(e,["allowedFunctionNames"],i),e}function ey(t){const e={},o=s(t,["latitude"]);o!=null&&l(e,["latitude"],o);const i=s(t,["longitude"]);return i!=null&&l(e,["longitude"],i),e}function ty(t){const e={},o=s(t,["latLng"]);o!=null&&l(e,["latLng"],ey(o));const i=s(t,["languageCode"]);return i!=null&&l(e,["languageCode"],i),e}function ny(t){const e={},o=s(t,["functionCallingConfig"]);o!=null&&l(e,["functionCallingConfig"],jg(o));const i=s(t,["retrievalConfig"]);return i!=null&&l(e,["retrievalConfig"],ty(i)),e}function oy(t,e){const o={},i=s(t,["ttl"]);e!==void 0&&i!=null&&l(e,["ttl"],i);const a=s(t,["expireTime"]);e!==void 0&&a!=null&&l(e,["expireTime"],a);const f=s(t,["displayName"]);e!==void 0&&f!=null&&l(e,["displayName"],f);const d=s(t,["contents"]);if(e!==void 0&&d!=null){let y=zt(d);Array.isArray(y)&&(y=y.map(C=>bc(C))),l(e,["contents"],y)}const p=s(t,["systemInstruction"]);e!==void 0&&p!=null&&l(e,["systemInstruction"],bc(gt(p)));const m=s(t,["tools"]);if(e!==void 0&&m!=null){let y=m;Array.isArray(y)&&(y=y.map(C=>Xg(C))),l(e,["tools"],y)}const h=s(t,["toolConfig"]);if(e!==void 0&&h!=null&&l(e,["toolConfig"],ny(h)),s(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function ry(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["model"],yd(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],oy(a,o)),o}function iy(t,e){const o={},i=s(e,["name"]);i!=null&&l(o,["_url","name"],fn(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],a),o}function sy(t,e){const o={},i=s(e,["name"]);i!=null&&l(o,["_url","name"],fn(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],a),o}function ly(t,e){const o={},i=s(t,["ttl"]);e!==void 0&&i!=null&&l(e,["ttl"],i);const a=s(t,["expireTime"]);return e!==void 0&&a!=null&&l(e,["expireTime"],a),o}function ay(t,e){const o={},i=s(e,["name"]);i!=null&&l(o,["_url","name"],fn(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],ly(a,o)),o}function uy(t,e){const o={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&l(e,["_query","pageSize"],i);const a=s(t,["pageToken"]);return e!==void 0&&a!=null&&l(e,["_query","pageToken"],a),o}function fy(t){const e={},o=s(t,["config"]);return o!=null&&l(e,["config"],uy(o,e)),e}function cy(t){const e={},o=s(t,["fps"]);o!=null&&l(e,["fps"],o);const i=s(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const a=s(t,["startOffset"]);return a!=null&&l(e,["startOffset"],a),e}function dy(t){const e={},o=s(t,["displayName"]);o!=null&&l(e,["displayName"],o);const i=s(t,["data"]);i!=null&&l(e,["data"],i);const a=s(t,["mimeType"]);return a!=null&&l(e,["mimeType"],a),e}function py(t){const e={},o=s(t,["displayName"]);o!=null&&l(e,["displayName"],o);const i=s(t,["fileUri"]);i!=null&&l(e,["fileUri"],i);const a=s(t,["mimeType"]);return a!=null&&l(e,["mimeType"],a),e}function hy(t){const e={},o=s(t,["videoMetadata"]);o!=null&&l(e,["videoMetadata"],cy(o));const i=s(t,["thought"]);i!=null&&l(e,["thought"],i);const a=s(t,["inlineData"]);a!=null&&l(e,["inlineData"],dy(a));const f=s(t,["fileData"]);f!=null&&l(e,["fileData"],py(f));const d=s(t,["thoughtSignature"]);d!=null&&l(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&l(e,["codeExecutionResult"],p);const m=s(t,["executableCode"]);m!=null&&l(e,["executableCode"],m);const h=s(t,["functionCall"]);h!=null&&l(e,["functionCall"],h);const y=s(t,["functionResponse"]);y!=null&&l(e,["functionResponse"],y);const C=s(t,["text"]);return C!=null&&l(e,["text"],C),e}function Jc(t){const e={},o=s(t,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>hy(f))),l(e,["parts"],a)}const i=s(t,["role"]);return i!=null&&l(e,["role"],i),e}function my(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(t,["description"]);o!=null&&l(e,["description"],o);const i=s(t,["name"]);i!=null&&l(e,["name"],i);const a=s(t,["parameters"]);a!=null&&l(e,["parameters"],a);const f=s(t,["parametersJsonSchema"]);f!=null&&l(e,["parametersJsonSchema"],f);const d=s(t,["response"]);d!=null&&l(e,["response"],d);const p=s(t,["responseJsonSchema"]);return p!=null&&l(e,["responseJsonSchema"],p),e}function gy(t){const e={},o=s(t,["startTime"]);o!=null&&l(e,["startTime"],o);const i=s(t,["endTime"]);return i!=null&&l(e,["endTime"],i),e}function yy(t){const e={},o=s(t,["timeRangeFilter"]);return o!=null&&l(e,["timeRangeFilter"],gy(o)),e}function vy(t){const e={},o=s(t,["mode"]);o!=null&&l(e,["mode"],o);const i=s(t,["dynamicThreshold"]);return i!=null&&l(e,["dynamicThreshold"],i),e}function Cy(t){const e={},o=s(t,["dynamicRetrievalConfig"]);return o!=null&&l(e,["dynamicRetrievalConfig"],vy(o)),e}function _y(){return{}}function Ty(t){const e={},o=s(t,["apiKeyString"]);return o!=null&&l(e,["apiKeyString"],o),e}function Sy(t){const e={},o=s(t,["apiKeyConfig"]);o!=null&&l(e,["apiKeyConfig"],Ty(o));const i=s(t,["authType"]);i!=null&&l(e,["authType"],i);const a=s(t,["googleServiceAccountConfig"]);a!=null&&l(e,["googleServiceAccountConfig"],a);const f=s(t,["httpBasicAuthConfig"]);f!=null&&l(e,["httpBasicAuthConfig"],f);const d=s(t,["oauthConfig"]);d!=null&&l(e,["oauthConfig"],d);const p=s(t,["oidcConfig"]);return p!=null&&l(e,["oidcConfig"],p),e}function wy(t){const e={},o=s(t,["authConfig"]);return o!=null&&l(e,["authConfig"],Sy(o)),e}function Ey(){return{}}function xy(t){const e={},o=s(t,["functionDeclarations"]);if(o!=null){let C=o;Array.isArray(C)&&(C=C.map(_=>my(_))),l(e,["functionDeclarations"],C)}const i=s(t,["retrieval"]);i!=null&&l(e,["retrieval"],i);const a=s(t,["googleSearch"]);a!=null&&l(e,["googleSearch"],yy(a));const f=s(t,["googleSearchRetrieval"]);f!=null&&l(e,["googleSearchRetrieval"],Cy(f)),s(t,["enterpriseWebSearch"])!=null&&l(e,["enterpriseWebSearch"],_y());const p=s(t,["googleMaps"]);p!=null&&l(e,["googleMaps"],wy(p)),s(t,["urlContext"])!=null&&l(e,["urlContext"],Ey());const h=s(t,["codeExecution"]);h!=null&&l(e,["codeExecution"],h);const y=s(t,["computerUse"]);return y!=null&&l(e,["computerUse"],y),e}function ky(t){const e={},o=s(t,["mode"]);o!=null&&l(e,["mode"],o);const i=s(t,["allowedFunctionNames"]);return i!=null&&l(e,["allowedFunctionNames"],i),e}function Iy(t){const e={},o=s(t,["latitude"]);o!=null&&l(e,["latitude"],o);const i=s(t,["longitude"]);return i!=null&&l(e,["longitude"],i),e}function Ay(t){const e={},o=s(t,["latLng"]);o!=null&&l(e,["latLng"],Iy(o));const i=s(t,["languageCode"]);return i!=null&&l(e,["languageCode"],i),e}function My(t){const e={},o=s(t,["functionCallingConfig"]);o!=null&&l(e,["functionCallingConfig"],ky(o));const i=s(t,["retrievalConfig"]);return i!=null&&l(e,["retrievalConfig"],Ay(i)),e}function Ry(t,e){const o={},i=s(t,["ttl"]);e!==void 0&&i!=null&&l(e,["ttl"],i);const a=s(t,["expireTime"]);e!==void 0&&a!=null&&l(e,["expireTime"],a);const f=s(t,["displayName"]);e!==void 0&&f!=null&&l(e,["displayName"],f);const d=s(t,["contents"]);if(e!==void 0&&d!=null){let C=zt(d);Array.isArray(C)&&(C=C.map(_=>Jc(_))),l(e,["contents"],C)}const p=s(t,["systemInstruction"]);e!==void 0&&p!=null&&l(e,["systemInstruction"],Jc(gt(p)));const m=s(t,["tools"]);if(e!==void 0&&m!=null){let C=m;Array.isArray(C)&&(C=C.map(_=>xy(_))),l(e,["tools"],C)}const h=s(t,["toolConfig"]);e!==void 0&&h!=null&&l(e,["toolConfig"],My(h));const y=s(t,["kmsKeyName"]);return e!==void 0&&y!=null&&l(e,["encryption_spec","kmsKeyName"],y),o}function Py(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["model"],yd(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],Ry(a,o)),o}function Ny(t,e){const o={},i=s(e,["name"]);i!=null&&l(o,["_url","name"],fn(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],a),o}function Dy(t,e){const o={},i=s(e,["name"]);i!=null&&l(o,["_url","name"],fn(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],a),o}function Ly(t,e){const o={},i=s(t,["ttl"]);e!==void 0&&i!=null&&l(e,["ttl"],i);const a=s(t,["expireTime"]);return e!==void 0&&a!=null&&l(e,["expireTime"],a),o}function Fy(t,e){const o={},i=s(e,["name"]);i!=null&&l(o,["_url","name"],fn(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],Ly(a,o)),o}function Uy(t,e){const o={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&l(e,["_query","pageSize"],i);const a=s(t,["pageToken"]);return e!==void 0&&a!=null&&l(e,["_query","pageToken"],a),o}function Vy(t){const e={},o=s(t,["config"]);return o!=null&&l(e,["config"],Uy(o,e)),e}function Di(t){const e={},o=s(t,["name"]);o!=null&&l(e,["name"],o);const i=s(t,["displayName"]);i!=null&&l(e,["displayName"],i);const a=s(t,["model"]);a!=null&&l(e,["model"],a);const f=s(t,["createTime"]);f!=null&&l(e,["createTime"],f);const d=s(t,["updateTime"]);d!=null&&l(e,["updateTime"],d);const p=s(t,["expireTime"]);p!=null&&l(e,["expireTime"],p);const m=s(t,["usageMetadata"]);return m!=null&&l(e,["usageMetadata"],m),e}function zy(){return{}}function By(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["nextPageToken"]);i!=null&&l(e,["nextPageToken"],i);const a=s(t,["cachedContents"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(d=>Di(d))),l(e,["cachedContents"],f)}return e}function Li(t){const e={},o=s(t,["name"]);o!=null&&l(e,["name"],o);const i=s(t,["displayName"]);i!=null&&l(e,["displayName"],i);const a=s(t,["model"]);a!=null&&l(e,["model"],a);const f=s(t,["createTime"]);f!=null&&l(e,["createTime"],f);const d=s(t,["updateTime"]);d!=null&&l(e,["updateTime"],d);const p=s(t,["expireTime"]);p!=null&&l(e,["expireTime"],p);const m=s(t,["usageMetadata"]);return m!=null&&l(e,["usageMetadata"],m),e}function Gy(){return{}}function Hy(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["nextPageToken"]);i!=null&&l(e,["nextPageToken"],i);const a=s(t,["cachedContents"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(d=>Li(d))),l(e,["cachedContents"],f)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qy extends Kn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Cr(On.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(o),o)}async create(e){var o,i,a,f;let d,p="",m={};if(this.apiClient.isVertexAI()){const h=Py(this.apiClient,e);return p=Me("cachedContents",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),d.then(y=>Li(y))}else{const h=ry(this.apiClient,e);return p=Me("cachedContents",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),d.then(y=>Di(y))}}async get(e){var o,i,a,f;let d,p="",m={};if(this.apiClient.isVertexAI()){const h=Ny(this.apiClient,e);return p=Me("{name}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),d.then(y=>Li(y))}else{const h=iy(this.apiClient,e);return p=Me("{name}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),d.then(y=>Di(y))}}async delete(e){var o,i,a,f;let d,p="",m={};if(this.apiClient.isVertexAI()){const h=Dy(this.apiClient,e);return p=Me("{name}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),d.then(()=>{const y=Gy(),C=new zc;return Object.assign(C,y),C})}else{const h=sy(this.apiClient,e);return p=Me("{name}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),d.then(()=>{const y=zy(),C=new zc;return Object.assign(C,y),C})}}async update(e){var o,i,a,f;let d,p="",m={};if(this.apiClient.isVertexAI()){const h=Fy(this.apiClient,e);return p=Me("{name}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),d.then(y=>Li(y))}else{const h=ay(this.apiClient,e);return p=Me("{name}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),d.then(y=>Di(y))}}async listInternal(e){var o,i,a,f;let d,p="",m={};if(this.apiClient.isVertexAI()){const h=Vy(e);return p=Me("cachedContents",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const C=Hy(y),_=new Bc;return Object.assign(_,C),_})}else{const h=fy(e);return p=Me("cachedContents",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const C=By(y),_=new Bc;return Object.assign(_,C),_})}}}function Wc(t){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&t[e],i=0;if(o)return o.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ye(t){return this instanceof Ye?(this.v=t,this):new Ye(t)}function So(t,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=o.apply(t,e||[]),a,f=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",d),a[Symbol.asyncIterator]=function(){return this},a;function d(T){return function(k){return Promise.resolve(k).then(T,C)}}function p(T,k){i[T]&&(a[T]=function(w){return new Promise(function(I,A){f.push([T,w,I,A])>1||m(T,w)})},k&&(a[T]=k(a[T])))}function m(T,k){try{h(i[T](k))}catch(w){_(f[0][3],w)}}function h(T){T.value instanceof Ye?Promise.resolve(T.value.v).then(y,C):_(f[0][2],T)}function y(T){m("next",T)}function C(T){m("throw",T)}function _(T,k){T(k),f.shift(),f.length&&m(f[0][0],f[0][1])}}function vr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],o;return e?e.call(t):(t=typeof Wc=="function"?Wc(t):t[Symbol.iterator](),o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o);function i(f){o[f]=t[f]&&function(d){return new Promise(function(p,m){d=t[f](d),a(p,m,d.done,d.value)})}}function a(f,d,p,m){Promise.resolve(m).then(function(h){f({value:h,done:p})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $y(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const o=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:Dd(o)}function Dd(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function by(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Oc(t){if(t===void 0||t.length===0)return[];const e=[],o=t.length;let i=0;for(;i<o;)if(t[i].role==="user")e.push(t[i]),i++;else{const a=[];let f=!0;for(;i<o&&t[i].role==="model";)a.push(t[i]),f&&!Dd(t[i])&&(f=!1),i++;f?e.push(...a):e.pop()}return e}class Jy{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new Wy(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Wy{constructor(e,o,i,a={},f=[]){this.apiClient=e,this.modelsModule=o,this.model=i,this.config=a,this.history=f,this.sendPromise=Promise.resolve(),by(f)}async sendMessage(e){var o;await this.sendPromise;const i=gt(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var f,d,p;const m=await a,h=(d=(f=m.candidates)===null||f===void 0?void 0:f[0])===null||d===void 0?void 0:d.content,y=m.automaticFunctionCallingHistory,C=this.getHistory(!0).length;let _=[];y!=null&&(_=(p=y.slice(C))!==null&&p!==void 0?p:[]);const T=h?[h]:[];this.recordHistory(i,T,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var o;await this.sendPromise;const i=gt(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const f=await a;return this.processStreamResponse(f,i)}getHistory(e=!1){const o=e?Oc(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){var i,a;return So(this,arguments,function*(){var d,p,m,h;const y=[];try{for(var C=!0,_=vr(e),T;T=yield Ye(_.next()),d=T.done,!d;C=!0){h=T.value,C=!1;const k=h;if($y(k)){const w=(a=(i=k.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content;w!==void 0&&y.push(w)}yield yield Ye(k)}}catch(k){p={error:k}}finally{try{!C&&!d&&(m=_.return)&&(yield Ye(m.call(_)))}finally{if(p)throw p.error}}this.recordHistory(o,y)})}recordHistory(e,o,i){let a=[];o.length>0&&o.every(f=>f.role!==void 0)?a=o:a.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...Oc(i)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bi extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Bi.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Oy(t,e){const o={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&l(e,["_query","pageSize"],i);const a=s(t,["pageToken"]);return e!==void 0&&a!=null&&l(e,["_query","pageToken"],a),o}function Ky(t){const e={},o=s(t,["config"]);return o!=null&&l(e,["config"],Oy(o,e)),e}function Yy(t){const e={},o=s(t,["details"]);o!=null&&l(e,["details"],o);const i=s(t,["message"]);i!=null&&l(e,["message"],i);const a=s(t,["code"]);return a!=null&&l(e,["code"],a),e}function Zy(t){const e={},o=s(t,["name"]);o!=null&&l(e,["name"],o);const i=s(t,["displayName"]);i!=null&&l(e,["displayName"],i);const a=s(t,["mimeType"]);a!=null&&l(e,["mimeType"],a);const f=s(t,["sizeBytes"]);f!=null&&l(e,["sizeBytes"],f);const d=s(t,["createTime"]);d!=null&&l(e,["createTime"],d);const p=s(t,["expirationTime"]);p!=null&&l(e,["expirationTime"],p);const m=s(t,["updateTime"]);m!=null&&l(e,["updateTime"],m);const h=s(t,["sha256Hash"]);h!=null&&l(e,["sha256Hash"],h);const y=s(t,["uri"]);y!=null&&l(e,["uri"],y);const C=s(t,["downloadUri"]);C!=null&&l(e,["downloadUri"],C);const _=s(t,["state"]);_!=null&&l(e,["state"],_);const T=s(t,["source"]);T!=null&&l(e,["source"],T);const k=s(t,["videoMetadata"]);k!=null&&l(e,["videoMetadata"],k);const w=s(t,["error"]);return w!=null&&l(e,["error"],Yy(w)),e}function Qy(t){const e={},o=s(t,["file"]);o!=null&&l(e,["file"],Zy(o));const i=s(t,["config"]);return i!=null&&l(e,["config"],i),e}function Xy(t){const e={},o=s(t,["name"]);o!=null&&l(e,["_url","file"],Ed(o));const i=s(t,["config"]);return i!=null&&l(e,["config"],i),e}function jy(t){const e={},o=s(t,["name"]);o!=null&&l(e,["_url","file"],Ed(o));const i=s(t,["config"]);return i!=null&&l(e,["config"],i),e}function ev(t){const e={},o=s(t,["details"]);o!=null&&l(e,["details"],o);const i=s(t,["message"]);i!=null&&l(e,["message"],i);const a=s(t,["code"]);return a!=null&&l(e,["code"],a),e}function Hl(t){const e={},o=s(t,["name"]);o!=null&&l(e,["name"],o);const i=s(t,["displayName"]);i!=null&&l(e,["displayName"],i);const a=s(t,["mimeType"]);a!=null&&l(e,["mimeType"],a);const f=s(t,["sizeBytes"]);f!=null&&l(e,["sizeBytes"],f);const d=s(t,["createTime"]);d!=null&&l(e,["createTime"],d);const p=s(t,["expirationTime"]);p!=null&&l(e,["expirationTime"],p);const m=s(t,["updateTime"]);m!=null&&l(e,["updateTime"],m);const h=s(t,["sha256Hash"]);h!=null&&l(e,["sha256Hash"],h);const y=s(t,["uri"]);y!=null&&l(e,["uri"],y);const C=s(t,["downloadUri"]);C!=null&&l(e,["downloadUri"],C);const _=s(t,["state"]);_!=null&&l(e,["state"],_);const T=s(t,["source"]);T!=null&&l(e,["source"],T);const k=s(t,["videoMetadata"]);k!=null&&l(e,["videoMetadata"],k);const w=s(t,["error"]);return w!=null&&l(e,["error"],ev(w)),e}function tv(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["nextPageToken"]);i!=null&&l(e,["nextPageToken"],i);const a=s(t,["files"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(d=>Hl(d))),l(e,["files"],f)}return e}function nv(t){const e={},o=s(t,["sdkHttpResponse"]);return o!=null&&l(e,["sdkHttpResponse"],o),e}function ov(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rv extends Kn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Cr(On.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>Hl(o))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var o,i;let a,f="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Ky(e);return f=Me("files",p._url),d=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:m.headers},y})),a.then(m=>{const h=tv(m),y=new Sm;return Object.assign(y,h),y})}}async createInternal(e){var o,i;let a,f="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Qy(e);return f=Me("upload/v1beta/files",p._url),d=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),a.then(m=>{const h=nv(m),y=new wm;return Object.assign(y,h),y})}}async get(e){var o,i;let a,f="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Xy(e);return f=Me("files/{file}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),a.then(m=>Hl(m))}}async delete(e){var o,i;let a,f="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=jy(e);return f=Me("files/{file}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),a.then(()=>{const m=ov(),h=new Em;return Object.assign(h,m),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iv(t){const e={},o=s(t,["voiceName"]);return o!=null&&l(e,["voiceName"],o),e}function Ld(t){const e={},o=s(t,["prebuiltVoiceConfig"]);return o!=null&&l(e,["prebuiltVoiceConfig"],iv(o)),e}function sv(t){const e={},o=s(t,["speaker"]);o!=null&&l(e,["speaker"],o);const i=s(t,["voiceConfig"]);return i!=null&&l(e,["voiceConfig"],Ld(i)),e}function lv(t){const e={},o=s(t,["speakerVoiceConfigs"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>sv(a))),l(e,["speakerVoiceConfigs"],i)}return e}function av(t){const e={},o=s(t,["voiceConfig"]);o!=null&&l(e,["voiceConfig"],Ld(o));const i=s(t,["multiSpeakerVoiceConfig"]);i!=null&&l(e,["multiSpeakerVoiceConfig"],lv(i));const a=s(t,["languageCode"]);return a!=null&&l(e,["languageCode"],a),e}function uv(t){const e={},o=s(t,["fps"]);o!=null&&l(e,["fps"],o);const i=s(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const a=s(t,["startOffset"]);return a!=null&&l(e,["startOffset"],a),e}function fv(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["data"]);o!=null&&l(e,["data"],o);const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function cv(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["fileUri"]);o!=null&&l(e,["fileUri"],o);const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function dv(t){const e={},o=s(t,["videoMetadata"]);o!=null&&l(e,["videoMetadata"],uv(o));const i=s(t,["thought"]);i!=null&&l(e,["thought"],i);const a=s(t,["inlineData"]);a!=null&&l(e,["inlineData"],fv(a));const f=s(t,["fileData"]);f!=null&&l(e,["fileData"],cv(f));const d=s(t,["thoughtSignature"]);d!=null&&l(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&l(e,["codeExecutionResult"],p);const m=s(t,["executableCode"]);m!=null&&l(e,["executableCode"],m);const h=s(t,["functionCall"]);h!=null&&l(e,["functionCall"],h);const y=s(t,["functionResponse"]);y!=null&&l(e,["functionResponse"],y);const C=s(t,["text"]);return C!=null&&l(e,["text"],C),e}function pv(t){const e={},o=s(t,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>dv(f))),l(e,["parts"],a)}const i=s(t,["role"]);return i!=null&&l(e,["role"],i),e}function hv(t){const e={},o=s(t,["behavior"]);o!=null&&l(e,["behavior"],o);const i=s(t,["description"]);i!=null&&l(e,["description"],i);const a=s(t,["name"]);a!=null&&l(e,["name"],a);const f=s(t,["parameters"]);f!=null&&l(e,["parameters"],f);const d=s(t,["parametersJsonSchema"]);d!=null&&l(e,["parametersJsonSchema"],d);const p=s(t,["response"]);p!=null&&l(e,["response"],p);const m=s(t,["responseJsonSchema"]);return m!=null&&l(e,["responseJsonSchema"],m),e}function mv(t){const e={},o=s(t,["startTime"]);o!=null&&l(e,["startTime"],o);const i=s(t,["endTime"]);return i!=null&&l(e,["endTime"],i),e}function gv(t){const e={},o=s(t,["timeRangeFilter"]);return o!=null&&l(e,["timeRangeFilter"],mv(o)),e}function yv(t){const e={},o=s(t,["mode"]);o!=null&&l(e,["mode"],o);const i=s(t,["dynamicThreshold"]);return i!=null&&l(e,["dynamicThreshold"],i),e}function vv(t){const e={},o=s(t,["dynamicRetrievalConfig"]);return o!=null&&l(e,["dynamicRetrievalConfig"],yv(o)),e}function Cv(){return{}}function _v(t){const e={},o=s(t,["functionDeclarations"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(h=>hv(h))),l(e,["functionDeclarations"],m)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(t,["googleSearch"]);i!=null&&l(e,["googleSearch"],gv(i));const a=s(t,["googleSearchRetrieval"]);if(a!=null&&l(e,["googleSearchRetrieval"],vv(a)),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(t,["urlContext"])!=null&&l(e,["urlContext"],Cv());const d=s(t,["codeExecution"]);d!=null&&l(e,["codeExecution"],d);const p=s(t,["computerUse"]);return p!=null&&l(e,["computerUse"],p),e}function Tv(t){const e={},o=s(t,["handle"]);if(o!=null&&l(e,["handle"],o),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Kc(){return{}}function Sv(t){const e={},o=s(t,["disabled"]);o!=null&&l(e,["disabled"],o);const i=s(t,["startOfSpeechSensitivity"]);i!=null&&l(e,["startOfSpeechSensitivity"],i);const a=s(t,["endOfSpeechSensitivity"]);a!=null&&l(e,["endOfSpeechSensitivity"],a);const f=s(t,["prefixPaddingMs"]);f!=null&&l(e,["prefixPaddingMs"],f);const d=s(t,["silenceDurationMs"]);return d!=null&&l(e,["silenceDurationMs"],d),e}function wv(t){const e={},o=s(t,["automaticActivityDetection"]);o!=null&&l(e,["automaticActivityDetection"],Sv(o));const i=s(t,["activityHandling"]);i!=null&&l(e,["activityHandling"],i);const a=s(t,["turnCoverage"]);return a!=null&&l(e,["turnCoverage"],a),e}function Ev(t){const e={},o=s(t,["targetTokens"]);return o!=null&&l(e,["targetTokens"],o),e}function xv(t){const e={},o=s(t,["triggerTokens"]);o!=null&&l(e,["triggerTokens"],o);const i=s(t,["slidingWindow"]);return i!=null&&l(e,["slidingWindow"],Ev(i)),e}function kv(t){const e={},o=s(t,["proactiveAudio"]);return o!=null&&l(e,["proactiveAudio"],o),e}function Iv(t,e){const o={},i=s(t,["generationConfig"]);e!==void 0&&i!=null&&l(e,["setup","generationConfig"],i);const a=s(t,["responseModalities"]);e!==void 0&&a!=null&&l(e,["setup","generationConfig","responseModalities"],a);const f=s(t,["temperature"]);e!==void 0&&f!=null&&l(e,["setup","generationConfig","temperature"],f);const d=s(t,["topP"]);e!==void 0&&d!=null&&l(e,["setup","generationConfig","topP"],d);const p=s(t,["topK"]);e!==void 0&&p!=null&&l(e,["setup","generationConfig","topK"],p);const m=s(t,["maxOutputTokens"]);e!==void 0&&m!=null&&l(e,["setup","generationConfig","maxOutputTokens"],m);const h=s(t,["mediaResolution"]);e!==void 0&&h!=null&&l(e,["setup","generationConfig","mediaResolution"],h);const y=s(t,["seed"]);e!==void 0&&y!=null&&l(e,["setup","generationConfig","seed"],y);const C=s(t,["speechConfig"]);e!==void 0&&C!=null&&l(e,["setup","generationConfig","speechConfig"],av(Ql(C)));const _=s(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&l(e,["setup","generationConfig","enableAffectiveDialog"],_);const T=s(t,["systemInstruction"]);e!==void 0&&T!=null&&l(e,["setup","systemInstruction"],pv(gt(T)));const k=s(t,["tools"]);if(e!==void 0&&k!=null){let V=xo(k);Array.isArray(V)&&(V=V.map(W=>_v(Eo(W)))),l(e,["setup","tools"],V)}const w=s(t,["sessionResumption"]);e!==void 0&&w!=null&&l(e,["setup","sessionResumption"],Tv(w));const I=s(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&l(e,["setup","inputAudioTranscription"],Kc());const A=s(t,["outputAudioTranscription"]);e!==void 0&&A!=null&&l(e,["setup","outputAudioTranscription"],Kc());const R=s(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&l(e,["setup","realtimeInputConfig"],wv(R));const P=s(t,["contextWindowCompression"]);e!==void 0&&P!=null&&l(e,["setup","contextWindowCompression"],xv(P));const z=s(t,["proactivity"]);return e!==void 0&&z!=null&&l(e,["setup","proactivity"],kv(z)),o}function Av(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["setup","model"],qe(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],Iv(a,o)),o}function Mv(){return{}}function Rv(){return{}}function Pv(t){const e={},o=s(t,["media"]);o!=null&&l(e,["mediaChunks"],vd(o));const i=s(t,["audio"]);i!=null&&l(e,["audio"],_d(i));const a=s(t,["audioStreamEnd"]);a!=null&&l(e,["audioStreamEnd"],a);const f=s(t,["video"]);f!=null&&l(e,["video"],Cd(f));const d=s(t,["text"]);return d!=null&&l(e,["text"],d),s(t,["activityStart"])!=null&&l(e,["activityStart"],Mv()),s(t,["activityEnd"])!=null&&l(e,["activityEnd"],Rv()),e}function Fd(t){const e={},o=s(t,["text"]);o!=null&&l(e,["text"],o);const i=s(t,["weight"]);return i!=null&&l(e,["weight"],i),e}function Nv(t){const e={},o=s(t,["weightedPrompts"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>Fd(a))),l(e,["weightedPrompts"],i)}return e}function Ud(t){const e={},o=s(t,["temperature"]);o!=null&&l(e,["temperature"],o);const i=s(t,["topK"]);i!=null&&l(e,["topK"],i);const a=s(t,["seed"]);a!=null&&l(e,["seed"],a);const f=s(t,["guidance"]);f!=null&&l(e,["guidance"],f);const d=s(t,["bpm"]);d!=null&&l(e,["bpm"],d);const p=s(t,["density"]);p!=null&&l(e,["density"],p);const m=s(t,["brightness"]);m!=null&&l(e,["brightness"],m);const h=s(t,["scale"]);h!=null&&l(e,["scale"],h);const y=s(t,["muteBass"]);y!=null&&l(e,["muteBass"],y);const C=s(t,["muteDrums"]);C!=null&&l(e,["muteDrums"],C);const _=s(t,["onlyBassAndDrums"]);_!=null&&l(e,["onlyBassAndDrums"],_);const T=s(t,["musicGenerationMode"]);return T!=null&&l(e,["musicGenerationMode"],T),e}function Dv(t){const e={},o=s(t,["musicGenerationConfig"]);return o!=null&&l(e,["musicGenerationConfig"],Ud(o)),e}function Vd(t){const e={},o=s(t,["model"]);return o!=null&&l(e,["model"],o),e}function zd(t){const e={},o=s(t,["weightedPrompts"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>Fd(a))),l(e,["weightedPrompts"],i)}return e}function ql(t){const e={},o=s(t,["setup"]);o!=null&&l(e,["setup"],Vd(o));const i=s(t,["clientContent"]);i!=null&&l(e,["clientContent"],zd(i));const a=s(t,["musicGenerationConfig"]);a!=null&&l(e,["musicGenerationConfig"],Ud(a));const f=s(t,["playbackControl"]);return f!=null&&l(e,["playbackControl"],f),e}function Lv(t){const e={},o=s(t,["voiceName"]);return o!=null&&l(e,["voiceName"],o),e}function Fv(t){const e={},o=s(t,["prebuiltVoiceConfig"]);return o!=null&&l(e,["prebuiltVoiceConfig"],Lv(o)),e}function Uv(t){const e={},o=s(t,["voiceConfig"]);if(o!=null&&l(e,["voiceConfig"],Fv(o)),s(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=s(t,["languageCode"]);return i!=null&&l(e,["languageCode"],i),e}function Vv(t){const e={},o=s(t,["fps"]);o!=null&&l(e,["fps"],o);const i=s(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const a=s(t,["startOffset"]);return a!=null&&l(e,["startOffset"],a),e}function zv(t){const e={},o=s(t,["displayName"]);o!=null&&l(e,["displayName"],o);const i=s(t,["data"]);i!=null&&l(e,["data"],i);const a=s(t,["mimeType"]);return a!=null&&l(e,["mimeType"],a),e}function Bv(t){const e={},o=s(t,["displayName"]);o!=null&&l(e,["displayName"],o);const i=s(t,["fileUri"]);i!=null&&l(e,["fileUri"],i);const a=s(t,["mimeType"]);return a!=null&&l(e,["mimeType"],a),e}function Gv(t){const e={},o=s(t,["videoMetadata"]);o!=null&&l(e,["videoMetadata"],Vv(o));const i=s(t,["thought"]);i!=null&&l(e,["thought"],i);const a=s(t,["inlineData"]);a!=null&&l(e,["inlineData"],zv(a));const f=s(t,["fileData"]);f!=null&&l(e,["fileData"],Bv(f));const d=s(t,["thoughtSignature"]);d!=null&&l(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&l(e,["codeExecutionResult"],p);const m=s(t,["executableCode"]);m!=null&&l(e,["executableCode"],m);const h=s(t,["functionCall"]);h!=null&&l(e,["functionCall"],h);const y=s(t,["functionResponse"]);y!=null&&l(e,["functionResponse"],y);const C=s(t,["text"]);return C!=null&&l(e,["text"],C),e}function Hv(t){const e={},o=s(t,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>Gv(f))),l(e,["parts"],a)}const i=s(t,["role"]);return i!=null&&l(e,["role"],i),e}function qv(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(t,["description"]);o!=null&&l(e,["description"],o);const i=s(t,["name"]);i!=null&&l(e,["name"],i);const a=s(t,["parameters"]);a!=null&&l(e,["parameters"],a);const f=s(t,["parametersJsonSchema"]);f!=null&&l(e,["parametersJsonSchema"],f);const d=s(t,["response"]);d!=null&&l(e,["response"],d);const p=s(t,["responseJsonSchema"]);return p!=null&&l(e,["responseJsonSchema"],p),e}function $v(t){const e={},o=s(t,["startTime"]);o!=null&&l(e,["startTime"],o);const i=s(t,["endTime"]);return i!=null&&l(e,["endTime"],i),e}function bv(t){const e={},o=s(t,["timeRangeFilter"]);return o!=null&&l(e,["timeRangeFilter"],$v(o)),e}function Jv(t){const e={},o=s(t,["mode"]);o!=null&&l(e,["mode"],o);const i=s(t,["dynamicThreshold"]);return i!=null&&l(e,["dynamicThreshold"],i),e}function Wv(t){const e={},o=s(t,["dynamicRetrievalConfig"]);return o!=null&&l(e,["dynamicRetrievalConfig"],Jv(o)),e}function Ov(){return{}}function Kv(t){const e={},o=s(t,["apiKeyString"]);return o!=null&&l(e,["apiKeyString"],o),e}function Yv(t){const e={},o=s(t,["apiKeyConfig"]);o!=null&&l(e,["apiKeyConfig"],Kv(o));const i=s(t,["authType"]);i!=null&&l(e,["authType"],i);const a=s(t,["googleServiceAccountConfig"]);a!=null&&l(e,["googleServiceAccountConfig"],a);const f=s(t,["httpBasicAuthConfig"]);f!=null&&l(e,["httpBasicAuthConfig"],f);const d=s(t,["oauthConfig"]);d!=null&&l(e,["oauthConfig"],d);const p=s(t,["oidcConfig"]);return p!=null&&l(e,["oidcConfig"],p),e}function Zv(t){const e={},o=s(t,["authConfig"]);return o!=null&&l(e,["authConfig"],Yv(o)),e}function Qv(){return{}}function Xv(t){const e={},o=s(t,["functionDeclarations"]);if(o!=null){let C=o;Array.isArray(C)&&(C=C.map(_=>qv(_))),l(e,["functionDeclarations"],C)}const i=s(t,["retrieval"]);i!=null&&l(e,["retrieval"],i);const a=s(t,["googleSearch"]);a!=null&&l(e,["googleSearch"],bv(a));const f=s(t,["googleSearchRetrieval"]);f!=null&&l(e,["googleSearchRetrieval"],Wv(f)),s(t,["enterpriseWebSearch"])!=null&&l(e,["enterpriseWebSearch"],Ov());const p=s(t,["googleMaps"]);p!=null&&l(e,["googleMaps"],Zv(p)),s(t,["urlContext"])!=null&&l(e,["urlContext"],Qv());const h=s(t,["codeExecution"]);h!=null&&l(e,["codeExecution"],h);const y=s(t,["computerUse"]);return y!=null&&l(e,["computerUse"],y),e}function jv(t){const e={},o=s(t,["handle"]);o!=null&&l(e,["handle"],o);const i=s(t,["transparent"]);return i!=null&&l(e,["transparent"],i),e}function Yc(){return{}}function e0(t){const e={},o=s(t,["disabled"]);o!=null&&l(e,["disabled"],o);const i=s(t,["startOfSpeechSensitivity"]);i!=null&&l(e,["startOfSpeechSensitivity"],i);const a=s(t,["endOfSpeechSensitivity"]);a!=null&&l(e,["endOfSpeechSensitivity"],a);const f=s(t,["prefixPaddingMs"]);f!=null&&l(e,["prefixPaddingMs"],f);const d=s(t,["silenceDurationMs"]);return d!=null&&l(e,["silenceDurationMs"],d),e}function t0(t){const e={},o=s(t,["automaticActivityDetection"]);o!=null&&l(e,["automaticActivityDetection"],e0(o));const i=s(t,["activityHandling"]);i!=null&&l(e,["activityHandling"],i);const a=s(t,["turnCoverage"]);return a!=null&&l(e,["turnCoverage"],a),e}function n0(t){const e={},o=s(t,["targetTokens"]);return o!=null&&l(e,["targetTokens"],o),e}function o0(t){const e={},o=s(t,["triggerTokens"]);o!=null&&l(e,["triggerTokens"],o);const i=s(t,["slidingWindow"]);return i!=null&&l(e,["slidingWindow"],n0(i)),e}function r0(t){const e={},o=s(t,["proactiveAudio"]);return o!=null&&l(e,["proactiveAudio"],o),e}function i0(t,e){const o={},i=s(t,["generationConfig"]);e!==void 0&&i!=null&&l(e,["setup","generationConfig"],i);const a=s(t,["responseModalities"]);e!==void 0&&a!=null&&l(e,["setup","generationConfig","responseModalities"],a);const f=s(t,["temperature"]);e!==void 0&&f!=null&&l(e,["setup","generationConfig","temperature"],f);const d=s(t,["topP"]);e!==void 0&&d!=null&&l(e,["setup","generationConfig","topP"],d);const p=s(t,["topK"]);e!==void 0&&p!=null&&l(e,["setup","generationConfig","topK"],p);const m=s(t,["maxOutputTokens"]);e!==void 0&&m!=null&&l(e,["setup","generationConfig","maxOutputTokens"],m);const h=s(t,["mediaResolution"]);e!==void 0&&h!=null&&l(e,["setup","generationConfig","mediaResolution"],h);const y=s(t,["seed"]);e!==void 0&&y!=null&&l(e,["setup","generationConfig","seed"],y);const C=s(t,["speechConfig"]);e!==void 0&&C!=null&&l(e,["setup","generationConfig","speechConfig"],Uv(Ql(C)));const _=s(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&l(e,["setup","generationConfig","enableAffectiveDialog"],_);const T=s(t,["systemInstruction"]);e!==void 0&&T!=null&&l(e,["setup","systemInstruction"],Hv(gt(T)));const k=s(t,["tools"]);if(e!==void 0&&k!=null){let V=xo(k);Array.isArray(V)&&(V=V.map(W=>Xv(Eo(W)))),l(e,["setup","tools"],V)}const w=s(t,["sessionResumption"]);e!==void 0&&w!=null&&l(e,["setup","sessionResumption"],jv(w));const I=s(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&l(e,["setup","inputAudioTranscription"],Yc());const A=s(t,["outputAudioTranscription"]);e!==void 0&&A!=null&&l(e,["setup","outputAudioTranscription"],Yc());const R=s(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&l(e,["setup","realtimeInputConfig"],t0(R));const P=s(t,["contextWindowCompression"]);e!==void 0&&P!=null&&l(e,["setup","contextWindowCompression"],o0(P));const z=s(t,["proactivity"]);return e!==void 0&&z!=null&&l(e,["setup","proactivity"],r0(z)),o}function s0(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["setup","model"],qe(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],i0(a,o)),o}function l0(){return{}}function a0(){return{}}function u0(t){const e={},o=s(t,["media"]);o!=null&&l(e,["mediaChunks"],vd(o));const i=s(t,["audio"]);i!=null&&l(e,["audio"],_d(i));const a=s(t,["audioStreamEnd"]);a!=null&&l(e,["audioStreamEnd"],a);const f=s(t,["video"]);f!=null&&l(e,["video"],Cd(f));const d=s(t,["text"]);return d!=null&&l(e,["text"],d),s(t,["activityStart"])!=null&&l(e,["activityStart"],l0()),s(t,["activityEnd"])!=null&&l(e,["activityEnd"],a0()),e}function f0(){return{}}function c0(t){const e={},o=s(t,["fps"]);o!=null&&l(e,["fps"],o);const i=s(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const a=s(t,["startOffset"]);return a!=null&&l(e,["startOffset"],a),e}function d0(t){const e={},o=s(t,["data"]);o!=null&&l(e,["data"],o);const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function p0(t){const e={},o=s(t,["fileUri"]);o!=null&&l(e,["fileUri"],o);const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function h0(t){const e={},o=s(t,["videoMetadata"]);o!=null&&l(e,["videoMetadata"],c0(o));const i=s(t,["thought"]);i!=null&&l(e,["thought"],i);const a=s(t,["inlineData"]);a!=null&&l(e,["inlineData"],d0(a));const f=s(t,["fileData"]);f!=null&&l(e,["fileData"],p0(f));const d=s(t,["thoughtSignature"]);d!=null&&l(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&l(e,["codeExecutionResult"],p);const m=s(t,["executableCode"]);m!=null&&l(e,["executableCode"],m);const h=s(t,["functionCall"]);h!=null&&l(e,["functionCall"],h);const y=s(t,["functionResponse"]);y!=null&&l(e,["functionResponse"],y);const C=s(t,["text"]);return C!=null&&l(e,["text"],C),e}function m0(t){const e={},o=s(t,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>h0(f))),l(e,["parts"],a)}const i=s(t,["role"]);return i!=null&&l(e,["role"],i),e}function Zc(t){const e={},o=s(t,["text"]);o!=null&&l(e,["text"],o);const i=s(t,["finished"]);return i!=null&&l(e,["finished"],i),e}function g0(t){const e={},o=s(t,["retrievedUrl"]);o!=null&&l(e,["retrievedUrl"],o);const i=s(t,["urlRetrievalStatus"]);return i!=null&&l(e,["urlRetrievalStatus"],i),e}function y0(t){const e={},o=s(t,["urlMetadata"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>g0(a))),l(e,["urlMetadata"],i)}return e}function v0(t){const e={},o=s(t,["modelTurn"]);o!=null&&l(e,["modelTurn"],m0(o));const i=s(t,["turnComplete"]);i!=null&&l(e,["turnComplete"],i);const a=s(t,["interrupted"]);a!=null&&l(e,["interrupted"],a);const f=s(t,["groundingMetadata"]);f!=null&&l(e,["groundingMetadata"],f);const d=s(t,["generationComplete"]);d!=null&&l(e,["generationComplete"],d);const p=s(t,["inputTranscription"]);p!=null&&l(e,["inputTranscription"],Zc(p));const m=s(t,["outputTranscription"]);m!=null&&l(e,["outputTranscription"],Zc(m));const h=s(t,["urlContextMetadata"]);return h!=null&&l(e,["urlContextMetadata"],y0(h)),e}function C0(t){const e={},o=s(t,["id"]);o!=null&&l(e,["id"],o);const i=s(t,["args"]);i!=null&&l(e,["args"],i);const a=s(t,["name"]);return a!=null&&l(e,["name"],a),e}function _0(t){const e={},o=s(t,["functionCalls"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>C0(a))),l(e,["functionCalls"],i)}return e}function T0(t){const e={},o=s(t,["ids"]);return o!=null&&l(e,["ids"],o),e}function Ri(t){const e={},o=s(t,["modality"]);o!=null&&l(e,["modality"],o);const i=s(t,["tokenCount"]);return i!=null&&l(e,["tokenCount"],i),e}function S0(t){const e={},o=s(t,["promptTokenCount"]);o!=null&&l(e,["promptTokenCount"],o);const i=s(t,["cachedContentTokenCount"]);i!=null&&l(e,["cachedContentTokenCount"],i);const a=s(t,["responseTokenCount"]);a!=null&&l(e,["responseTokenCount"],a);const f=s(t,["toolUsePromptTokenCount"]);f!=null&&l(e,["toolUsePromptTokenCount"],f);const d=s(t,["thoughtsTokenCount"]);d!=null&&l(e,["thoughtsTokenCount"],d);const p=s(t,["totalTokenCount"]);p!=null&&l(e,["totalTokenCount"],p);const m=s(t,["promptTokensDetails"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(T=>Ri(T))),l(e,["promptTokensDetails"],_)}const h=s(t,["cacheTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(T=>Ri(T))),l(e,["cacheTokensDetails"],_)}const y=s(t,["responseTokensDetails"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(T=>Ri(T))),l(e,["responseTokensDetails"],_)}const C=s(t,["toolUsePromptTokensDetails"]);if(C!=null){let _=C;Array.isArray(_)&&(_=_.map(T=>Ri(T))),l(e,["toolUsePromptTokensDetails"],_)}return e}function w0(t){const e={},o=s(t,["timeLeft"]);return o!=null&&l(e,["timeLeft"],o),e}function E0(t){const e={},o=s(t,["newHandle"]);o!=null&&l(e,["newHandle"],o);const i=s(t,["resumable"]);i!=null&&l(e,["resumable"],i);const a=s(t,["lastConsumedClientMessageIndex"]);return a!=null&&l(e,["lastConsumedClientMessageIndex"],a),e}function x0(t){const e={};s(t,["setupComplete"])!=null&&l(e,["setupComplete"],f0());const i=s(t,["serverContent"]);i!=null&&l(e,["serverContent"],v0(i));const a=s(t,["toolCall"]);a!=null&&l(e,["toolCall"],_0(a));const f=s(t,["toolCallCancellation"]);f!=null&&l(e,["toolCallCancellation"],T0(f));const d=s(t,["usageMetadata"]);d!=null&&l(e,["usageMetadata"],S0(d));const p=s(t,["goAway"]);p!=null&&l(e,["goAway"],w0(p));const m=s(t,["sessionResumptionUpdate"]);return m!=null&&l(e,["sessionResumptionUpdate"],E0(m)),e}function k0(){return{}}function I0(t){const e={},o=s(t,["text"]);o!=null&&l(e,["text"],o);const i=s(t,["weight"]);return i!=null&&l(e,["weight"],i),e}function A0(t){const e={},o=s(t,["weightedPrompts"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>I0(a))),l(e,["weightedPrompts"],i)}return e}function M0(t){const e={},o=s(t,["temperature"]);o!=null&&l(e,["temperature"],o);const i=s(t,["topK"]);i!=null&&l(e,["topK"],i);const a=s(t,["seed"]);a!=null&&l(e,["seed"],a);const f=s(t,["guidance"]);f!=null&&l(e,["guidance"],f);const d=s(t,["bpm"]);d!=null&&l(e,["bpm"],d);const p=s(t,["density"]);p!=null&&l(e,["density"],p);const m=s(t,["brightness"]);m!=null&&l(e,["brightness"],m);const h=s(t,["scale"]);h!=null&&l(e,["scale"],h);const y=s(t,["muteBass"]);y!=null&&l(e,["muteBass"],y);const C=s(t,["muteDrums"]);C!=null&&l(e,["muteDrums"],C);const _=s(t,["onlyBassAndDrums"]);_!=null&&l(e,["onlyBassAndDrums"],_);const T=s(t,["musicGenerationMode"]);return T!=null&&l(e,["musicGenerationMode"],T),e}function R0(t){const e={},o=s(t,["clientContent"]);o!=null&&l(e,["clientContent"],A0(o));const i=s(t,["musicGenerationConfig"]);return i!=null&&l(e,["musicGenerationConfig"],M0(i)),e}function P0(t){const e={},o=s(t,["data"]);o!=null&&l(e,["data"],o);const i=s(t,["mimeType"]);i!=null&&l(e,["mimeType"],i);const a=s(t,["sourceMetadata"]);return a!=null&&l(e,["sourceMetadata"],R0(a)),e}function N0(t){const e={},o=s(t,["audioChunks"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>P0(a))),l(e,["audioChunks"],i)}return e}function D0(t){const e={},o=s(t,["text"]);o!=null&&l(e,["text"],o);const i=s(t,["filteredReason"]);return i!=null&&l(e,["filteredReason"],i),e}function L0(t){const e={};s(t,["setupComplete"])!=null&&l(e,["setupComplete"],k0());const i=s(t,["serverContent"]);i!=null&&l(e,["serverContent"],N0(i));const a=s(t,["filteredPrompt"]);return a!=null&&l(e,["filteredPrompt"],D0(a)),e}function F0(t){const e={},o=s(t,["sessionId"]);return o!=null&&l(e,["sessionId"],o),e}function U0(t){const e={},o=s(t,["fps"]);o!=null&&l(e,["fps"],o);const i=s(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const a=s(t,["startOffset"]);return a!=null&&l(e,["startOffset"],a),e}function V0(t){const e={},o=s(t,["displayName"]);o!=null&&l(e,["displayName"],o);const i=s(t,["data"]);i!=null&&l(e,["data"],i);const a=s(t,["mimeType"]);return a!=null&&l(e,["mimeType"],a),e}function z0(t){const e={},o=s(t,["displayName"]);o!=null&&l(e,["displayName"],o);const i=s(t,["fileUri"]);i!=null&&l(e,["fileUri"],i);const a=s(t,["mimeType"]);return a!=null&&l(e,["mimeType"],a),e}function B0(t){const e={},o=s(t,["videoMetadata"]);o!=null&&l(e,["videoMetadata"],U0(o));const i=s(t,["thought"]);i!=null&&l(e,["thought"],i);const a=s(t,["inlineData"]);a!=null&&l(e,["inlineData"],V0(a));const f=s(t,["fileData"]);f!=null&&l(e,["fileData"],z0(f));const d=s(t,["thoughtSignature"]);d!=null&&l(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&l(e,["codeExecutionResult"],p);const m=s(t,["executableCode"]);m!=null&&l(e,["executableCode"],m);const h=s(t,["functionCall"]);h!=null&&l(e,["functionCall"],h);const y=s(t,["functionResponse"]);y!=null&&l(e,["functionResponse"],y);const C=s(t,["text"]);return C!=null&&l(e,["text"],C),e}function G0(t){const e={},o=s(t,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>B0(f))),l(e,["parts"],a)}const i=s(t,["role"]);return i!=null&&l(e,["role"],i),e}function Qc(t){const e={},o=s(t,["text"]);o!=null&&l(e,["text"],o);const i=s(t,["finished"]);return i!=null&&l(e,["finished"],i),e}function H0(t){const e={},o=s(t,["modelTurn"]);o!=null&&l(e,["modelTurn"],G0(o));const i=s(t,["turnComplete"]);i!=null&&l(e,["turnComplete"],i);const a=s(t,["interrupted"]);a!=null&&l(e,["interrupted"],a);const f=s(t,["groundingMetadata"]);f!=null&&l(e,["groundingMetadata"],f);const d=s(t,["generationComplete"]);d!=null&&l(e,["generationComplete"],d);const p=s(t,["inputTranscription"]);p!=null&&l(e,["inputTranscription"],Qc(p));const m=s(t,["outputTranscription"]);return m!=null&&l(e,["outputTranscription"],Qc(m)),e}function q0(t){const e={},o=s(t,["args"]);o!=null&&l(e,["args"],o);const i=s(t,["name"]);return i!=null&&l(e,["name"],i),e}function $0(t){const e={},o=s(t,["functionCalls"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>q0(a))),l(e,["functionCalls"],i)}return e}function b0(t){const e={},o=s(t,["ids"]);return o!=null&&l(e,["ids"],o),e}function Pi(t){const e={},o=s(t,["modality"]);o!=null&&l(e,["modality"],o);const i=s(t,["tokenCount"]);return i!=null&&l(e,["tokenCount"],i),e}function J0(t){const e={},o=s(t,["promptTokenCount"]);o!=null&&l(e,["promptTokenCount"],o);const i=s(t,["cachedContentTokenCount"]);i!=null&&l(e,["cachedContentTokenCount"],i);const a=s(t,["candidatesTokenCount"]);a!=null&&l(e,["responseTokenCount"],a);const f=s(t,["toolUsePromptTokenCount"]);f!=null&&l(e,["toolUsePromptTokenCount"],f);const d=s(t,["thoughtsTokenCount"]);d!=null&&l(e,["thoughtsTokenCount"],d);const p=s(t,["totalTokenCount"]);p!=null&&l(e,["totalTokenCount"],p);const m=s(t,["promptTokensDetails"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(k=>Pi(k))),l(e,["promptTokensDetails"],T)}const h=s(t,["cacheTokensDetails"]);if(h!=null){let T=h;Array.isArray(T)&&(T=T.map(k=>Pi(k))),l(e,["cacheTokensDetails"],T)}const y=s(t,["candidatesTokensDetails"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(k=>Pi(k))),l(e,["responseTokensDetails"],T)}const C=s(t,["toolUsePromptTokensDetails"]);if(C!=null){let T=C;Array.isArray(T)&&(T=T.map(k=>Pi(k))),l(e,["toolUsePromptTokensDetails"],T)}const _=s(t,["trafficType"]);return _!=null&&l(e,["trafficType"],_),e}function W0(t){const e={},o=s(t,["timeLeft"]);return o!=null&&l(e,["timeLeft"],o),e}function O0(t){const e={},o=s(t,["newHandle"]);o!=null&&l(e,["newHandle"],o);const i=s(t,["resumable"]);i!=null&&l(e,["resumable"],i);const a=s(t,["lastConsumedClientMessageIndex"]);return a!=null&&l(e,["lastConsumedClientMessageIndex"],a),e}function K0(t){const e={},o=s(t,["setupComplete"]);o!=null&&l(e,["setupComplete"],F0(o));const i=s(t,["serverContent"]);i!=null&&l(e,["serverContent"],H0(i));const a=s(t,["toolCall"]);a!=null&&l(e,["toolCall"],$0(a));const f=s(t,["toolCallCancellation"]);f!=null&&l(e,["toolCallCancellation"],b0(f));const d=s(t,["usageMetadata"]);d!=null&&l(e,["usageMetadata"],J0(d));const p=s(t,["goAway"]);p!=null&&l(e,["goAway"],W0(p));const m=s(t,["sessionResumptionUpdate"]);return m!=null&&l(e,["sessionResumptionUpdate"],O0(m)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Y0(t){const e={},o=s(t,["fps"]);o!=null&&l(e,["fps"],o);const i=s(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const a=s(t,["startOffset"]);return a!=null&&l(e,["startOffset"],a),e}function Z0(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["data"]);o!=null&&l(e,["data"],o);const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function Q0(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["fileUri"]);o!=null&&l(e,["fileUri"],o);const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function X0(t){const e={},o=s(t,["videoMetadata"]);o!=null&&l(e,["videoMetadata"],Y0(o));const i=s(t,["thought"]);i!=null&&l(e,["thought"],i);const a=s(t,["inlineData"]);a!=null&&l(e,["inlineData"],Z0(a));const f=s(t,["fileData"]);f!=null&&l(e,["fileData"],Q0(f));const d=s(t,["thoughtSignature"]);d!=null&&l(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&l(e,["codeExecutionResult"],p);const m=s(t,["executableCode"]);m!=null&&l(e,["executableCode"],m);const h=s(t,["functionCall"]);h!=null&&l(e,["functionCall"],h);const y=s(t,["functionResponse"]);y!=null&&l(e,["functionResponse"],y);const C=s(t,["text"]);return C!=null&&l(e,["text"],C),e}function Gi(t){const e={},o=s(t,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>X0(f))),l(e,["parts"],a)}const i=s(t,["role"]);return i!=null&&l(e,["role"],i),e}function j0(t){const e={},o=s(t,["anyOf"]);o!=null&&l(e,["anyOf"],o);const i=s(t,["default"]);i!=null&&l(e,["default"],i);const a=s(t,["description"]);a!=null&&l(e,["description"],a);const f=s(t,["enum"]);f!=null&&l(e,["enum"],f);const d=s(t,["example"]);d!=null&&l(e,["example"],d);const p=s(t,["format"]);p!=null&&l(e,["format"],p);const m=s(t,["items"]);m!=null&&l(e,["items"],m);const h=s(t,["maxItems"]);h!=null&&l(e,["maxItems"],h);const y=s(t,["maxLength"]);y!=null&&l(e,["maxLength"],y);const C=s(t,["maxProperties"]);C!=null&&l(e,["maxProperties"],C);const _=s(t,["maximum"]);_!=null&&l(e,["maximum"],_);const T=s(t,["minItems"]);T!=null&&l(e,["minItems"],T);const k=s(t,["minLength"]);k!=null&&l(e,["minLength"],k);const w=s(t,["minProperties"]);w!=null&&l(e,["minProperties"],w);const I=s(t,["minimum"]);I!=null&&l(e,["minimum"],I);const A=s(t,["nullable"]);A!=null&&l(e,["nullable"],A);const R=s(t,["pattern"]);R!=null&&l(e,["pattern"],R);const P=s(t,["properties"]);P!=null&&l(e,["properties"],P);const z=s(t,["propertyOrdering"]);z!=null&&l(e,["propertyOrdering"],z);const V=s(t,["required"]);V!=null&&l(e,["required"],V);const W=s(t,["title"]);W!=null&&l(e,["title"],W);const b=s(t,["type"]);return b!=null&&l(e,["type"],b),e}function eC(t){const e={};if(s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(t,["category"]);o!=null&&l(e,["category"],o);const i=s(t,["threshold"]);return i!=null&&l(e,["threshold"],i),e}function tC(t){const e={},o=s(t,["behavior"]);o!=null&&l(e,["behavior"],o);const i=s(t,["description"]);i!=null&&l(e,["description"],i);const a=s(t,["name"]);a!=null&&l(e,["name"],a);const f=s(t,["parameters"]);f!=null&&l(e,["parameters"],f);const d=s(t,["parametersJsonSchema"]);d!=null&&l(e,["parametersJsonSchema"],d);const p=s(t,["response"]);p!=null&&l(e,["response"],p);const m=s(t,["responseJsonSchema"]);return m!=null&&l(e,["responseJsonSchema"],m),e}function nC(t){const e={},o=s(t,["startTime"]);o!=null&&l(e,["startTime"],o);const i=s(t,["endTime"]);return i!=null&&l(e,["endTime"],i),e}function oC(t){const e={},o=s(t,["timeRangeFilter"]);return o!=null&&l(e,["timeRangeFilter"],nC(o)),e}function rC(t){const e={},o=s(t,["mode"]);o!=null&&l(e,["mode"],o);const i=s(t,["dynamicThreshold"]);return i!=null&&l(e,["dynamicThreshold"],i),e}function iC(t){const e={},o=s(t,["dynamicRetrievalConfig"]);return o!=null&&l(e,["dynamicRetrievalConfig"],rC(o)),e}function sC(){return{}}function lC(t){const e={},o=s(t,["functionDeclarations"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(h=>tC(h))),l(e,["functionDeclarations"],m)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(t,["googleSearch"]);i!=null&&l(e,["googleSearch"],oC(i));const a=s(t,["googleSearchRetrieval"]);if(a!=null&&l(e,["googleSearchRetrieval"],iC(a)),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(t,["urlContext"])!=null&&l(e,["urlContext"],sC());const d=s(t,["codeExecution"]);d!=null&&l(e,["codeExecution"],d);const p=s(t,["computerUse"]);return p!=null&&l(e,["computerUse"],p),e}function aC(t){const e={},o=s(t,["mode"]);o!=null&&l(e,["mode"],o);const i=s(t,["allowedFunctionNames"]);return i!=null&&l(e,["allowedFunctionNames"],i),e}function uC(t){const e={},o=s(t,["latitude"]);o!=null&&l(e,["latitude"],o);const i=s(t,["longitude"]);return i!=null&&l(e,["longitude"],i),e}function fC(t){const e={},o=s(t,["latLng"]);o!=null&&l(e,["latLng"],uC(o));const i=s(t,["languageCode"]);return i!=null&&l(e,["languageCode"],i),e}function cC(t){const e={},o=s(t,["functionCallingConfig"]);o!=null&&l(e,["functionCallingConfig"],aC(o));const i=s(t,["retrievalConfig"]);return i!=null&&l(e,["retrievalConfig"],fC(i)),e}function dC(t){const e={},o=s(t,["voiceName"]);return o!=null&&l(e,["voiceName"],o),e}function Bd(t){const e={},o=s(t,["prebuiltVoiceConfig"]);return o!=null&&l(e,["prebuiltVoiceConfig"],dC(o)),e}function pC(t){const e={},o=s(t,["speaker"]);o!=null&&l(e,["speaker"],o);const i=s(t,["voiceConfig"]);return i!=null&&l(e,["voiceConfig"],Bd(i)),e}function hC(t){const e={},o=s(t,["speakerVoiceConfigs"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>pC(a))),l(e,["speakerVoiceConfigs"],i)}return e}function mC(t){const e={},o=s(t,["voiceConfig"]);o!=null&&l(e,["voiceConfig"],Bd(o));const i=s(t,["multiSpeakerVoiceConfig"]);i!=null&&l(e,["multiSpeakerVoiceConfig"],hC(i));const a=s(t,["languageCode"]);return a!=null&&l(e,["languageCode"],a),e}function gC(t){const e={},o=s(t,["includeThoughts"]);o!=null&&l(e,["includeThoughts"],o);const i=s(t,["thinkingBudget"]);return i!=null&&l(e,["thinkingBudget"],i),e}function yC(t,e,o){const i={},a=s(e,["systemInstruction"]);o!==void 0&&a!=null&&l(o,["systemInstruction"],Gi(gt(a)));const f=s(e,["temperature"]);f!=null&&l(i,["temperature"],f);const d=s(e,["topP"]);d!=null&&l(i,["topP"],d);const p=s(e,["topK"]);p!=null&&l(i,["topK"],p);const m=s(e,["candidateCount"]);m!=null&&l(i,["candidateCount"],m);const h=s(e,["maxOutputTokens"]);h!=null&&l(i,["maxOutputTokens"],h);const y=s(e,["stopSequences"]);y!=null&&l(i,["stopSequences"],y);const C=s(e,["responseLogprobs"]);C!=null&&l(i,["responseLogprobs"],C);const _=s(e,["logprobs"]);_!=null&&l(i,["logprobs"],_);const T=s(e,["presencePenalty"]);T!=null&&l(i,["presencePenalty"],T);const k=s(e,["frequencyPenalty"]);k!=null&&l(i,["frequencyPenalty"],k);const w=s(e,["seed"]);w!=null&&l(i,["seed"],w);const I=s(e,["responseMimeType"]);I!=null&&l(i,["responseMimeType"],I);const A=s(e,["responseSchema"]);A!=null&&l(i,["responseSchema"],j0(Yl(A)));const R=s(e,["responseJsonSchema"]);if(R!=null&&l(i,["responseJsonSchema"],R),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=s(e,["safetySettings"]);if(o!==void 0&&P!=null){let ge=P;Array.isArray(ge)&&(ge=ge.map(U=>eC(U))),l(o,["safetySettings"],ge)}const z=s(e,["tools"]);if(o!==void 0&&z!=null){let ge=xo(z);Array.isArray(ge)&&(ge=ge.map(U=>lC(Eo(U)))),l(o,["tools"],ge)}const V=s(e,["toolConfig"]);if(o!==void 0&&V!=null&&l(o,["toolConfig"],cC(V)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const W=s(e,["cachedContent"]);o!==void 0&&W!=null&&l(o,["cachedContent"],fn(t,W));const b=s(e,["responseModalities"]);b!=null&&l(i,["responseModalities"],b);const te=s(e,["mediaResolution"]);te!=null&&l(i,["mediaResolution"],te);const q=s(e,["speechConfig"]);if(q!=null&&l(i,["speechConfig"],mC(Zl(q))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ne=s(e,["thinkingConfig"]);return ne!=null&&l(i,["thinkingConfig"],gC(ne)),i}function Xc(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","model"],qe(t,i));const a=s(e,["contents"]);if(a!=null){let d=zt(a);Array.isArray(d)&&(d=d.map(p=>Gi(p))),l(o,["contents"],d)}const f=s(e,["config"]);return f!=null&&l(o,["generationConfig"],yC(t,f,o)),o}function vC(t,e){const o={},i=s(t,["taskType"]);e!==void 0&&i!=null&&l(e,["requests[]","taskType"],i);const a=s(t,["title"]);e!==void 0&&a!=null&&l(e,["requests[]","title"],a);const f=s(t,["outputDimensionality"]);if(e!==void 0&&f!=null&&l(e,["requests[]","outputDimensionality"],f),s(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function CC(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","model"],qe(t,i));const a=s(e,["contents"]);a!=null&&l(o,["requests[]","content"],Sd(t,a));const f=s(e,["config"]);f!=null&&l(o,["config"],vC(f,o));const d=s(e,["model"]);return d!==void 0&&l(o,["requests[]","model"],qe(t,d)),o}function _C(t,e){const o={};if(s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=s(t,["numberOfImages"]);e!==void 0&&i!=null&&l(e,["parameters","sampleCount"],i);const a=s(t,["aspectRatio"]);e!==void 0&&a!=null&&l(e,["parameters","aspectRatio"],a);const f=s(t,["guidanceScale"]);if(e!==void 0&&f!=null&&l(e,["parameters","guidanceScale"],f),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=s(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&l(e,["parameters","safetySetting"],d);const p=s(t,["personGeneration"]);e!==void 0&&p!=null&&l(e,["parameters","personGeneration"],p);const m=s(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&l(e,["parameters","includeSafetyAttributes"],m);const h=s(t,["includeRaiReason"]);e!==void 0&&h!=null&&l(e,["parameters","includeRaiReason"],h);const y=s(t,["language"]);e!==void 0&&y!=null&&l(e,["parameters","language"],y);const C=s(t,["outputMimeType"]);e!==void 0&&C!=null&&l(e,["parameters","outputOptions","mimeType"],C);const _=s(t,["outputCompressionQuality"]);if(e!==void 0&&_!=null&&l(e,["parameters","outputOptions","compressionQuality"],_),s(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const T=s(t,["imageSize"]);if(e!==void 0&&T!=null&&l(e,["parameters","sampleImageSize"],T),s(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function TC(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","model"],qe(t,i));const a=s(e,["prompt"]);a!=null&&l(o,["instances[0]","prompt"],a);const f=s(e,["config"]);return f!=null&&l(o,["config"],_C(f,o)),o}function SC(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","name"],qe(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],a),o}function wC(t,e,o){const i={},a=s(e,["pageSize"]);o!==void 0&&a!=null&&l(o,["_query","pageSize"],a);const f=s(e,["pageToken"]);o!==void 0&&f!=null&&l(o,["_query","pageToken"],f);const d=s(e,["filter"]);o!==void 0&&d!=null&&l(o,["_query","filter"],d);const p=s(e,["queryBase"]);return o!==void 0&&p!=null&&l(o,["_url","models_url"],xd(t,p)),i}function EC(t,e){const o={},i=s(e,["config"]);return i!=null&&l(o,["config"],wC(t,i,o)),o}function xC(t,e){const o={},i=s(t,["displayName"]);e!==void 0&&i!=null&&l(e,["displayName"],i);const a=s(t,["description"]);e!==void 0&&a!=null&&l(e,["description"],a);const f=s(t,["defaultCheckpointId"]);return e!==void 0&&f!=null&&l(e,["defaultCheckpointId"],f),o}function kC(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","name"],qe(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],xC(a,o)),o}function IC(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","name"],qe(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],a),o}function AC(t){const e={};if(s(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function MC(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","model"],qe(t,i));const a=s(e,["contents"]);if(a!=null){let d=zt(a);Array.isArray(d)&&(d=d.map(p=>Gi(p))),l(o,["contents"],d)}const f=s(e,["config"]);return f!=null&&l(o,["config"],AC(f)),o}function RC(t){const e={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=s(t,["imageBytes"]);o!=null&&l(e,["bytesBase64Encoded"],Yn(o));const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function PC(t,e){const o={},i=s(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&l(e,["parameters","sampleCount"],i),s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=s(t,["durationSeconds"]);if(e!==void 0&&a!=null&&l(e,["parameters","durationSeconds"],a),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=s(t,["aspectRatio"]);if(e!==void 0&&f!=null&&l(e,["parameters","aspectRatio"],f),s(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const d=s(t,["personGeneration"]);if(e!==void 0&&d!=null&&l(e,["parameters","personGeneration"],d),s(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=s(t,["negativePrompt"]);e!==void 0&&p!=null&&l(e,["parameters","negativePrompt"],p);const m=s(t,["enhancePrompt"]);if(e!==void 0&&m!=null&&l(e,["parameters","enhancePrompt"],m),s(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(s(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(s(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function NC(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","model"],qe(t,i));const a=s(e,["prompt"]);a!=null&&l(o,["instances[0]","prompt"],a);const f=s(e,["image"]);if(f!=null&&l(o,["instances[0]","image"],RC(f)),s(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const d=s(e,["config"]);return d!=null&&l(o,["config"],PC(d,o)),o}function DC(t){const e={},o=s(t,["fps"]);o!=null&&l(e,["fps"],o);const i=s(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const a=s(t,["startOffset"]);return a!=null&&l(e,["startOffset"],a),e}function LC(t){const e={},o=s(t,["displayName"]);o!=null&&l(e,["displayName"],o);const i=s(t,["data"]);i!=null&&l(e,["data"],i);const a=s(t,["mimeType"]);return a!=null&&l(e,["mimeType"],a),e}function FC(t){const e={},o=s(t,["displayName"]);o!=null&&l(e,["displayName"],o);const i=s(t,["fileUri"]);i!=null&&l(e,["fileUri"],i);const a=s(t,["mimeType"]);return a!=null&&l(e,["mimeType"],a),e}function UC(t){const e={},o=s(t,["videoMetadata"]);o!=null&&l(e,["videoMetadata"],DC(o));const i=s(t,["thought"]);i!=null&&l(e,["thought"],i);const a=s(t,["inlineData"]);a!=null&&l(e,["inlineData"],LC(a));const f=s(t,["fileData"]);f!=null&&l(e,["fileData"],FC(f));const d=s(t,["thoughtSignature"]);d!=null&&l(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&l(e,["codeExecutionResult"],p);const m=s(t,["executableCode"]);m!=null&&l(e,["executableCode"],m);const h=s(t,["functionCall"]);h!=null&&l(e,["functionCall"],h);const y=s(t,["functionResponse"]);y!=null&&l(e,["functionResponse"],y);const C=s(t,["text"]);return C!=null&&l(e,["text"],C),e}function Io(t){const e={},o=s(t,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>UC(f))),l(e,["parts"],a)}const i=s(t,["role"]);return i!=null&&l(e,["role"],i),e}function VC(t){const e={},o=s(t,["anyOf"]);o!=null&&l(e,["anyOf"],o);const i=s(t,["default"]);i!=null&&l(e,["default"],i);const a=s(t,["description"]);a!=null&&l(e,["description"],a);const f=s(t,["enum"]);f!=null&&l(e,["enum"],f);const d=s(t,["example"]);d!=null&&l(e,["example"],d);const p=s(t,["format"]);p!=null&&l(e,["format"],p);const m=s(t,["items"]);m!=null&&l(e,["items"],m);const h=s(t,["maxItems"]);h!=null&&l(e,["maxItems"],h);const y=s(t,["maxLength"]);y!=null&&l(e,["maxLength"],y);const C=s(t,["maxProperties"]);C!=null&&l(e,["maxProperties"],C);const _=s(t,["maximum"]);_!=null&&l(e,["maximum"],_);const T=s(t,["minItems"]);T!=null&&l(e,["minItems"],T);const k=s(t,["minLength"]);k!=null&&l(e,["minLength"],k);const w=s(t,["minProperties"]);w!=null&&l(e,["minProperties"],w);const I=s(t,["minimum"]);I!=null&&l(e,["minimum"],I);const A=s(t,["nullable"]);A!=null&&l(e,["nullable"],A);const R=s(t,["pattern"]);R!=null&&l(e,["pattern"],R);const P=s(t,["properties"]);P!=null&&l(e,["properties"],P);const z=s(t,["propertyOrdering"]);z!=null&&l(e,["propertyOrdering"],z);const V=s(t,["required"]);V!=null&&l(e,["required"],V);const W=s(t,["title"]);W!=null&&l(e,["title"],W);const b=s(t,["type"]);return b!=null&&l(e,["type"],b),e}function zC(t){const e={},o=s(t,["featureSelectionPreference"]);return o!=null&&l(e,["featureSelectionPreference"],o),e}function BC(t){const e={},o=s(t,["method"]);o!=null&&l(e,["method"],o);const i=s(t,["category"]);i!=null&&l(e,["category"],i);const a=s(t,["threshold"]);return a!=null&&l(e,["threshold"],a),e}function GC(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(t,["description"]);o!=null&&l(e,["description"],o);const i=s(t,["name"]);i!=null&&l(e,["name"],i);const a=s(t,["parameters"]);a!=null&&l(e,["parameters"],a);const f=s(t,["parametersJsonSchema"]);f!=null&&l(e,["parametersJsonSchema"],f);const d=s(t,["response"]);d!=null&&l(e,["response"],d);const p=s(t,["responseJsonSchema"]);return p!=null&&l(e,["responseJsonSchema"],p),e}function HC(t){const e={},o=s(t,["startTime"]);o!=null&&l(e,["startTime"],o);const i=s(t,["endTime"]);return i!=null&&l(e,["endTime"],i),e}function qC(t){const e={},o=s(t,["timeRangeFilter"]);return o!=null&&l(e,["timeRangeFilter"],HC(o)),e}function $C(t){const e={},o=s(t,["mode"]);o!=null&&l(e,["mode"],o);const i=s(t,["dynamicThreshold"]);return i!=null&&l(e,["dynamicThreshold"],i),e}function bC(t){const e={},o=s(t,["dynamicRetrievalConfig"]);return o!=null&&l(e,["dynamicRetrievalConfig"],$C(o)),e}function JC(){return{}}function WC(t){const e={},o=s(t,["apiKeyString"]);return o!=null&&l(e,["apiKeyString"],o),e}function OC(t){const e={},o=s(t,["apiKeyConfig"]);o!=null&&l(e,["apiKeyConfig"],WC(o));const i=s(t,["authType"]);i!=null&&l(e,["authType"],i);const a=s(t,["googleServiceAccountConfig"]);a!=null&&l(e,["googleServiceAccountConfig"],a);const f=s(t,["httpBasicAuthConfig"]);f!=null&&l(e,["httpBasicAuthConfig"],f);const d=s(t,["oauthConfig"]);d!=null&&l(e,["oauthConfig"],d);const p=s(t,["oidcConfig"]);return p!=null&&l(e,["oidcConfig"],p),e}function KC(t){const e={},o=s(t,["authConfig"]);return o!=null&&l(e,["authConfig"],OC(o)),e}function YC(){return{}}function Gd(t){const e={},o=s(t,["functionDeclarations"]);if(o!=null){let C=o;Array.isArray(C)&&(C=C.map(_=>GC(_))),l(e,["functionDeclarations"],C)}const i=s(t,["retrieval"]);i!=null&&l(e,["retrieval"],i);const a=s(t,["googleSearch"]);a!=null&&l(e,["googleSearch"],qC(a));const f=s(t,["googleSearchRetrieval"]);f!=null&&l(e,["googleSearchRetrieval"],bC(f)),s(t,["enterpriseWebSearch"])!=null&&l(e,["enterpriseWebSearch"],JC());const p=s(t,["googleMaps"]);p!=null&&l(e,["googleMaps"],KC(p)),s(t,["urlContext"])!=null&&l(e,["urlContext"],YC());const h=s(t,["codeExecution"]);h!=null&&l(e,["codeExecution"],h);const y=s(t,["computerUse"]);return y!=null&&l(e,["computerUse"],y),e}function ZC(t){const e={},o=s(t,["mode"]);o!=null&&l(e,["mode"],o);const i=s(t,["allowedFunctionNames"]);return i!=null&&l(e,["allowedFunctionNames"],i),e}function QC(t){const e={},o=s(t,["latitude"]);o!=null&&l(e,["latitude"],o);const i=s(t,["longitude"]);return i!=null&&l(e,["longitude"],i),e}function XC(t){const e={},o=s(t,["latLng"]);o!=null&&l(e,["latLng"],QC(o));const i=s(t,["languageCode"]);return i!=null&&l(e,["languageCode"],i),e}function jC(t){const e={},o=s(t,["functionCallingConfig"]);o!=null&&l(e,["functionCallingConfig"],ZC(o));const i=s(t,["retrievalConfig"]);return i!=null&&l(e,["retrievalConfig"],XC(i)),e}function e_(t){const e={},o=s(t,["voiceName"]);return o!=null&&l(e,["voiceName"],o),e}function t_(t){const e={},o=s(t,["prebuiltVoiceConfig"]);return o!=null&&l(e,["prebuiltVoiceConfig"],e_(o)),e}function n_(t){const e={},o=s(t,["voiceConfig"]);if(o!=null&&l(e,["voiceConfig"],t_(o)),s(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=s(t,["languageCode"]);return i!=null&&l(e,["languageCode"],i),e}function o_(t){const e={},o=s(t,["includeThoughts"]);o!=null&&l(e,["includeThoughts"],o);const i=s(t,["thinkingBudget"]);return i!=null&&l(e,["thinkingBudget"],i),e}function r_(t,e,o){const i={},a=s(e,["systemInstruction"]);o!==void 0&&a!=null&&l(o,["systemInstruction"],Io(gt(a)));const f=s(e,["temperature"]);f!=null&&l(i,["temperature"],f);const d=s(e,["topP"]);d!=null&&l(i,["topP"],d);const p=s(e,["topK"]);p!=null&&l(i,["topK"],p);const m=s(e,["candidateCount"]);m!=null&&l(i,["candidateCount"],m);const h=s(e,["maxOutputTokens"]);h!=null&&l(i,["maxOutputTokens"],h);const y=s(e,["stopSequences"]);y!=null&&l(i,["stopSequences"],y);const C=s(e,["responseLogprobs"]);C!=null&&l(i,["responseLogprobs"],C);const _=s(e,["logprobs"]);_!=null&&l(i,["logprobs"],_);const T=s(e,["presencePenalty"]);T!=null&&l(i,["presencePenalty"],T);const k=s(e,["frequencyPenalty"]);k!=null&&l(i,["frequencyPenalty"],k);const w=s(e,["seed"]);w!=null&&l(i,["seed"],w);const I=s(e,["responseMimeType"]);I!=null&&l(i,["responseMimeType"],I);const A=s(e,["responseSchema"]);A!=null&&l(i,["responseSchema"],VC(Yl(A)));const R=s(e,["responseJsonSchema"]);R!=null&&l(i,["responseJsonSchema"],R);const P=s(e,["routingConfig"]);P!=null&&l(i,["routingConfig"],P);const z=s(e,["modelSelectionConfig"]);z!=null&&l(i,["modelConfig"],zC(z));const V=s(e,["safetySettings"]);if(o!==void 0&&V!=null){let ee=V;Array.isArray(ee)&&(ee=ee.map(xe=>BC(xe))),l(o,["safetySettings"],ee)}const W=s(e,["tools"]);if(o!==void 0&&W!=null){let ee=xo(W);Array.isArray(ee)&&(ee=ee.map(xe=>Gd(Eo(xe)))),l(o,["tools"],ee)}const b=s(e,["toolConfig"]);o!==void 0&&b!=null&&l(o,["toolConfig"],jC(b));const te=s(e,["labels"]);o!==void 0&&te!=null&&l(o,["labels"],te);const q=s(e,["cachedContent"]);o!==void 0&&q!=null&&l(o,["cachedContent"],fn(t,q));const ne=s(e,["responseModalities"]);ne!=null&&l(i,["responseModalities"],ne);const ge=s(e,["mediaResolution"]);ge!=null&&l(i,["mediaResolution"],ge);const U=s(e,["speechConfig"]);U!=null&&l(i,["speechConfig"],n_(Zl(U)));const j=s(e,["audioTimestamp"]);j!=null&&l(i,["audioTimestamp"],j);const x=s(e,["thinkingConfig"]);return x!=null&&l(i,["thinkingConfig"],o_(x)),i}function jc(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","model"],qe(t,i));const a=s(e,["contents"]);if(a!=null){let d=zt(a);Array.isArray(d)&&(d=d.map(p=>Io(p))),l(o,["contents"],d)}const f=s(e,["config"]);return f!=null&&l(o,["generationConfig"],r_(t,f,o)),o}function i_(t,e){const o={},i=s(t,["taskType"]);e!==void 0&&i!=null&&l(e,["instances[]","task_type"],i);const a=s(t,["title"]);e!==void 0&&a!=null&&l(e,["instances[]","title"],a);const f=s(t,["outputDimensionality"]);e!==void 0&&f!=null&&l(e,["parameters","outputDimensionality"],f);const d=s(t,["mimeType"]);e!==void 0&&d!=null&&l(e,["instances[]","mimeType"],d);const p=s(t,["autoTruncate"]);return e!==void 0&&p!=null&&l(e,["parameters","autoTruncate"],p),o}function s_(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","model"],qe(t,i));const a=s(e,["contents"]);a!=null&&l(o,["instances[]","content"],Sd(t,a));const f=s(e,["config"]);return f!=null&&l(o,["config"],i_(f,o)),o}function l_(t,e){const o={},i=s(t,["outputGcsUri"]);e!==void 0&&i!=null&&l(e,["parameters","storageUri"],i);const a=s(t,["negativePrompt"]);e!==void 0&&a!=null&&l(e,["parameters","negativePrompt"],a);const f=s(t,["numberOfImages"]);e!==void 0&&f!=null&&l(e,["parameters","sampleCount"],f);const d=s(t,["aspectRatio"]);e!==void 0&&d!=null&&l(e,["parameters","aspectRatio"],d);const p=s(t,["guidanceScale"]);e!==void 0&&p!=null&&l(e,["parameters","guidanceScale"],p);const m=s(t,["seed"]);e!==void 0&&m!=null&&l(e,["parameters","seed"],m);const h=s(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&l(e,["parameters","safetySetting"],h);const y=s(t,["personGeneration"]);e!==void 0&&y!=null&&l(e,["parameters","personGeneration"],y);const C=s(t,["includeSafetyAttributes"]);e!==void 0&&C!=null&&l(e,["parameters","includeSafetyAttributes"],C);const _=s(t,["includeRaiReason"]);e!==void 0&&_!=null&&l(e,["parameters","includeRaiReason"],_);const T=s(t,["language"]);e!==void 0&&T!=null&&l(e,["parameters","language"],T);const k=s(t,["outputMimeType"]);e!==void 0&&k!=null&&l(e,["parameters","outputOptions","mimeType"],k);const w=s(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&l(e,["parameters","outputOptions","compressionQuality"],w);const I=s(t,["addWatermark"]);e!==void 0&&I!=null&&l(e,["parameters","addWatermark"],I);const A=s(t,["imageSize"]);e!==void 0&&A!=null&&l(e,["parameters","sampleImageSize"],A);const R=s(t,["enhancePrompt"]);return e!==void 0&&R!=null&&l(e,["parameters","enhancePrompt"],R),o}function a_(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","model"],qe(t,i));const a=s(e,["prompt"]);a!=null&&l(o,["instances[0]","prompt"],a);const f=s(e,["config"]);return f!=null&&l(o,["config"],l_(f,o)),o}function Ao(t){const e={},o=s(t,["gcsUri"]);o!=null&&l(e,["gcsUri"],o);const i=s(t,["imageBytes"]);i!=null&&l(e,["bytesBase64Encoded"],Yn(i));const a=s(t,["mimeType"]);return a!=null&&l(e,["mimeType"],a),e}function u_(t){const e={},o=s(t,["maskMode"]);o!=null&&l(e,["maskMode"],o);const i=s(t,["segmentationClasses"]);i!=null&&l(e,["maskClasses"],i);const a=s(t,["maskDilation"]);return a!=null&&l(e,["dilation"],a),e}function f_(t){const e={},o=s(t,["controlType"]);o!=null&&l(e,["controlType"],o);const i=s(t,["enableControlImageComputation"]);return i!=null&&l(e,["computeControl"],i),e}function c_(t){const e={},o=s(t,["styleDescription"]);return o!=null&&l(e,["styleDescription"],o),e}function d_(t){const e={},o=s(t,["subjectType"]);o!=null&&l(e,["subjectType"],o);const i=s(t,["subjectDescription"]);return i!=null&&l(e,["subjectDescription"],i),e}function p_(t){const e={},o=s(t,["referenceImage"]);o!=null&&l(e,["referenceImage"],Ao(o));const i=s(t,["referenceId"]);i!=null&&l(e,["referenceId"],i);const a=s(t,["referenceType"]);a!=null&&l(e,["referenceType"],a);const f=s(t,["maskImageConfig"]);f!=null&&l(e,["maskImageConfig"],u_(f));const d=s(t,["controlImageConfig"]);d!=null&&l(e,["controlImageConfig"],f_(d));const p=s(t,["styleImageConfig"]);p!=null&&l(e,["styleImageConfig"],c_(p));const m=s(t,["subjectImageConfig"]);return m!=null&&l(e,["subjectImageConfig"],d_(m)),e}function h_(t,e){const o={},i=s(t,["outputGcsUri"]);e!==void 0&&i!=null&&l(e,["parameters","storageUri"],i);const a=s(t,["negativePrompt"]);e!==void 0&&a!=null&&l(e,["parameters","negativePrompt"],a);const f=s(t,["numberOfImages"]);e!==void 0&&f!=null&&l(e,["parameters","sampleCount"],f);const d=s(t,["aspectRatio"]);e!==void 0&&d!=null&&l(e,["parameters","aspectRatio"],d);const p=s(t,["guidanceScale"]);e!==void 0&&p!=null&&l(e,["parameters","guidanceScale"],p);const m=s(t,["seed"]);e!==void 0&&m!=null&&l(e,["parameters","seed"],m);const h=s(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&l(e,["parameters","safetySetting"],h);const y=s(t,["personGeneration"]);e!==void 0&&y!=null&&l(e,["parameters","personGeneration"],y);const C=s(t,["includeSafetyAttributes"]);e!==void 0&&C!=null&&l(e,["parameters","includeSafetyAttributes"],C);const _=s(t,["includeRaiReason"]);e!==void 0&&_!=null&&l(e,["parameters","includeRaiReason"],_);const T=s(t,["language"]);e!==void 0&&T!=null&&l(e,["parameters","language"],T);const k=s(t,["outputMimeType"]);e!==void 0&&k!=null&&l(e,["parameters","outputOptions","mimeType"],k);const w=s(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&l(e,["parameters","outputOptions","compressionQuality"],w);const I=s(t,["addWatermark"]);e!==void 0&&I!=null&&l(e,["parameters","addWatermark"],I);const A=s(t,["editMode"]);e!==void 0&&A!=null&&l(e,["parameters","editMode"],A);const R=s(t,["baseSteps"]);return e!==void 0&&R!=null&&l(e,["parameters","editConfig","baseSteps"],R),o}function m_(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","model"],qe(t,i));const a=s(e,["prompt"]);a!=null&&l(o,["instances[0]","prompt"],a);const f=s(e,["referenceImages"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(m=>p_(m))),l(o,["instances[0]","referenceImages"],p)}const d=s(e,["config"]);return d!=null&&l(o,["config"],h_(d,o)),o}function g_(t,e){const o={},i=s(t,["includeRaiReason"]);e!==void 0&&i!=null&&l(e,["parameters","includeRaiReason"],i);const a=s(t,["outputMimeType"]);e!==void 0&&a!=null&&l(e,["parameters","outputOptions","mimeType"],a);const f=s(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&l(e,["parameters","outputOptions","compressionQuality"],f);const d=s(t,["enhanceInputImage"]);e!==void 0&&d!=null&&l(e,["parameters","upscaleConfig","enhanceInputImage"],d);const p=s(t,["imagePreservationFactor"]);e!==void 0&&p!=null&&l(e,["parameters","upscaleConfig","imagePreservationFactor"],p);const m=s(t,["numberOfImages"]);e!==void 0&&m!=null&&l(e,["parameters","sampleCount"],m);const h=s(t,["mode"]);return e!==void 0&&h!=null&&l(e,["parameters","mode"],h),o}function y_(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","model"],qe(t,i));const a=s(e,["image"]);a!=null&&l(o,["instances[0]","image"],Ao(a));const f=s(e,["upscaleFactor"]);f!=null&&l(o,["parameters","upscaleConfig","upscaleFactor"],f);const d=s(e,["config"]);return d!=null&&l(o,["config"],g_(d,o)),o}function v_(t){const e={},o=s(t,["productImage"]);return o!=null&&l(e,["image"],Ao(o)),e}function C_(t,e){const o={},i=s(t,["prompt"]);e!==void 0&&i!=null&&l(e,["instances[0]","prompt"],i);const a=s(t,["personImage"]);e!==void 0&&a!=null&&l(e,["instances[0]","personImage","image"],Ao(a));const f=s(t,["productImages"]);if(e!==void 0&&f!=null){let d=f;Array.isArray(d)&&(d=d.map(p=>v_(p))),l(e,["instances[0]","productImages"],d)}return o}function __(t,e){const o={},i=s(t,["numberOfImages"]);e!==void 0&&i!=null&&l(e,["parameters","sampleCount"],i);const a=s(t,["baseSteps"]);e!==void 0&&a!=null&&l(e,["parameters","editConfig","baseSteps"],a);const f=s(t,["outputGcsUri"]);e!==void 0&&f!=null&&l(e,["parameters","storageUri"],f);const d=s(t,["seed"]);e!==void 0&&d!=null&&l(e,["parameters","seed"],d);const p=s(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&l(e,["parameters","safetySetting"],p);const m=s(t,["personGeneration"]);e!==void 0&&m!=null&&l(e,["parameters","personGeneration"],m);const h=s(t,["outputMimeType"]);e!==void 0&&h!=null&&l(e,["parameters","outputOptions","mimeType"],h);const y=s(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&l(e,["parameters","outputOptions","compressionQuality"],y);const C=s(t,["enhancePrompt"]);return e!==void 0&&C!=null&&l(e,["parameters","enhancePrompt"],C),o}function T_(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","model"],qe(t,i));const a=s(e,["source"]);a!=null&&l(o,["config"],C_(a,o));const f=s(e,["config"]);return f!=null&&l(o,["config"],__(f,o)),o}function S_(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","name"],qe(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],a),o}function w_(t,e,o){const i={},a=s(e,["pageSize"]);o!==void 0&&a!=null&&l(o,["_query","pageSize"],a);const f=s(e,["pageToken"]);o!==void 0&&f!=null&&l(o,["_query","pageToken"],f);const d=s(e,["filter"]);o!==void 0&&d!=null&&l(o,["_query","filter"],d);const p=s(e,["queryBase"]);return o!==void 0&&p!=null&&l(o,["_url","models_url"],xd(t,p)),i}function E_(t,e){const o={},i=s(e,["config"]);return i!=null&&l(o,["config"],w_(t,i,o)),o}function x_(t,e){const o={},i=s(t,["displayName"]);e!==void 0&&i!=null&&l(e,["displayName"],i);const a=s(t,["description"]);e!==void 0&&a!=null&&l(e,["description"],a);const f=s(t,["defaultCheckpointId"]);return e!==void 0&&f!=null&&l(e,["defaultCheckpointId"],f),o}function k_(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","model"],qe(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],x_(a,o)),o}function I_(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","name"],qe(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],a),o}function A_(t,e){const o={},i=s(t,["systemInstruction"]);e!==void 0&&i!=null&&l(e,["systemInstruction"],Io(gt(i)));const a=s(t,["tools"]);if(e!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>Gd(p))),l(e,["tools"],d)}const f=s(t,["generationConfig"]);return e!==void 0&&f!=null&&l(e,["generationConfig"],f),o}function M_(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","model"],qe(t,i));const a=s(e,["contents"]);if(a!=null){let d=zt(a);Array.isArray(d)&&(d=d.map(p=>Io(p))),l(o,["contents"],d)}const f=s(e,["config"]);return f!=null&&l(o,["config"],A_(f,o)),o}function R_(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","model"],qe(t,i));const a=s(e,["contents"]);if(a!=null){let d=zt(a);Array.isArray(d)&&(d=d.map(p=>Io(p))),l(o,["contents"],d)}const f=s(e,["config"]);return f!=null&&l(o,["config"],f),o}function P_(t){const e={},o=s(t,["uri"]);o!=null&&l(e,["gcsUri"],o);const i=s(t,["videoBytes"]);i!=null&&l(e,["bytesBase64Encoded"],Yn(i));const a=s(t,["mimeType"]);return a!=null&&l(e,["mimeType"],a),e}function N_(t,e){const o={},i=s(t,["numberOfVideos"]);e!==void 0&&i!=null&&l(e,["parameters","sampleCount"],i);const a=s(t,["outputGcsUri"]);e!==void 0&&a!=null&&l(e,["parameters","storageUri"],a);const f=s(t,["fps"]);e!==void 0&&f!=null&&l(e,["parameters","fps"],f);const d=s(t,["durationSeconds"]);e!==void 0&&d!=null&&l(e,["parameters","durationSeconds"],d);const p=s(t,["seed"]);e!==void 0&&p!=null&&l(e,["parameters","seed"],p);const m=s(t,["aspectRatio"]);e!==void 0&&m!=null&&l(e,["parameters","aspectRatio"],m);const h=s(t,["resolution"]);e!==void 0&&h!=null&&l(e,["parameters","resolution"],h);const y=s(t,["personGeneration"]);e!==void 0&&y!=null&&l(e,["parameters","personGeneration"],y);const C=s(t,["pubsubTopic"]);e!==void 0&&C!=null&&l(e,["parameters","pubsubTopic"],C);const _=s(t,["negativePrompt"]);e!==void 0&&_!=null&&l(e,["parameters","negativePrompt"],_);const T=s(t,["enhancePrompt"]);e!==void 0&&T!=null&&l(e,["parameters","enhancePrompt"],T);const k=s(t,["generateAudio"]);e!==void 0&&k!=null&&l(e,["parameters","generateAudio"],k);const w=s(t,["lastFrame"]);e!==void 0&&w!=null&&l(e,["instances[0]","lastFrame"],Ao(w));const I=s(t,["compressionQuality"]);return e!==void 0&&I!=null&&l(e,["parameters","compressionQuality"],I),o}function D_(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["_url","model"],qe(t,i));const a=s(e,["prompt"]);a!=null&&l(o,["instances[0]","prompt"],a);const f=s(e,["image"]);f!=null&&l(o,["instances[0]","image"],Ao(f));const d=s(e,["video"]);d!=null&&l(o,["instances[0]","video"],P_(d));const p=s(e,["config"]);return p!=null&&l(o,["config"],N_(p,o)),o}function L_(t){const e={},o=s(t,["fps"]);o!=null&&l(e,["fps"],o);const i=s(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const a=s(t,["startOffset"]);return a!=null&&l(e,["startOffset"],a),e}function F_(t){const e={},o=s(t,["data"]);o!=null&&l(e,["data"],o);const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function U_(t){const e={},o=s(t,["fileUri"]);o!=null&&l(e,["fileUri"],o);const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function V_(t){const e={},o=s(t,["videoMetadata"]);o!=null&&l(e,["videoMetadata"],L_(o));const i=s(t,["thought"]);i!=null&&l(e,["thought"],i);const a=s(t,["inlineData"]);a!=null&&l(e,["inlineData"],F_(a));const f=s(t,["fileData"]);f!=null&&l(e,["fileData"],U_(f));const d=s(t,["thoughtSignature"]);d!=null&&l(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&l(e,["codeExecutionResult"],p);const m=s(t,["executableCode"]);m!=null&&l(e,["executableCode"],m);const h=s(t,["functionCall"]);h!=null&&l(e,["functionCall"],h);const y=s(t,["functionResponse"]);y!=null&&l(e,["functionResponse"],y);const C=s(t,["text"]);return C!=null&&l(e,["text"],C),e}function z_(t){const e={},o=s(t,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>V_(f))),l(e,["parts"],a)}const i=s(t,["role"]);return i!=null&&l(e,["role"],i),e}function B_(t){const e={},o=s(t,["citationSources"]);return o!=null&&l(e,["citations"],o),e}function G_(t){const e={},o=s(t,["retrievedUrl"]);o!=null&&l(e,["retrievedUrl"],o);const i=s(t,["urlRetrievalStatus"]);return i!=null&&l(e,["urlRetrievalStatus"],i),e}function H_(t){const e={},o=s(t,["urlMetadata"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>G_(a))),l(e,["urlMetadata"],i)}return e}function q_(t){const e={},o=s(t,["content"]);o!=null&&l(e,["content"],z_(o));const i=s(t,["citationMetadata"]);i!=null&&l(e,["citationMetadata"],B_(i));const a=s(t,["tokenCount"]);a!=null&&l(e,["tokenCount"],a);const f=s(t,["finishReason"]);f!=null&&l(e,["finishReason"],f);const d=s(t,["urlContextMetadata"]);d!=null&&l(e,["urlContextMetadata"],H_(d));const p=s(t,["avgLogprobs"]);p!=null&&l(e,["avgLogprobs"],p);const m=s(t,["groundingMetadata"]);m!=null&&l(e,["groundingMetadata"],m);const h=s(t,["index"]);h!=null&&l(e,["index"],h);const y=s(t,["logprobsResult"]);y!=null&&l(e,["logprobsResult"],y);const C=s(t,["safetyRatings"]);return C!=null&&l(e,["safetyRatings"],C),e}function ed(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["candidates"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(h=>q_(h))),l(e,["candidates"],m)}const a=s(t,["modelVersion"]);a!=null&&l(e,["modelVersion"],a);const f=s(t,["promptFeedback"]);f!=null&&l(e,["promptFeedback"],f);const d=s(t,["responseId"]);d!=null&&l(e,["responseId"],d);const p=s(t,["usageMetadata"]);return p!=null&&l(e,["usageMetadata"],p),e}function $_(t){const e={},o=s(t,["values"]);return o!=null&&l(e,["values"],o),e}function b_(){return{}}function J_(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["embeddings"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(d=>$_(d))),l(e,["embeddings"],f)}return s(t,["metadata"])!=null&&l(e,["metadata"],b_()),e}function W_(t){const e={},o=s(t,["bytesBase64Encoded"]);o!=null&&l(e,["imageBytes"],Yn(o));const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function Hd(t){const e={},o=s(t,["safetyAttributes","categories"]);o!=null&&l(e,["categories"],o);const i=s(t,["safetyAttributes","scores"]);i!=null&&l(e,["scores"],i);const a=s(t,["contentType"]);return a!=null&&l(e,["contentType"],a),e}function O_(t){const e={},o=s(t,["_self"]);o!=null&&l(e,["image"],W_(o));const i=s(t,["raiFilteredReason"]);i!=null&&l(e,["raiFilteredReason"],i);const a=s(t,["_self"]);return a!=null&&l(e,["safetyAttributes"],Hd(a)),e}function K_(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["predictions"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(d=>O_(d))),l(e,["generatedImages"],f)}const a=s(t,["positivePromptSafetyAttributes"]);return a!=null&&l(e,["positivePromptSafetyAttributes"],Hd(a)),e}function Y_(t){const e={},o=s(t,["baseModel"]);o!=null&&l(e,["baseModel"],o);const i=s(t,["createTime"]);i!=null&&l(e,["createTime"],i);const a=s(t,["updateTime"]);return a!=null&&l(e,["updateTime"],a),e}function $l(t){const e={},o=s(t,["name"]);o!=null&&l(e,["name"],o);const i=s(t,["displayName"]);i!=null&&l(e,["displayName"],i);const a=s(t,["description"]);a!=null&&l(e,["description"],a);const f=s(t,["version"]);f!=null&&l(e,["version"],f);const d=s(t,["_self"]);d!=null&&l(e,["tunedModelInfo"],Y_(d));const p=s(t,["inputTokenLimit"]);p!=null&&l(e,["inputTokenLimit"],p);const m=s(t,["outputTokenLimit"]);m!=null&&l(e,["outputTokenLimit"],m);const h=s(t,["supportedGenerationMethods"]);return h!=null&&l(e,["supportedActions"],h),e}function Z_(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["nextPageToken"]);i!=null&&l(e,["nextPageToken"],i);const a=s(t,["_self"]);if(a!=null){let f=kd(a);Array.isArray(f)&&(f=f.map(d=>$l(d))),l(e,["models"],f)}return e}function Q_(){return{}}function X_(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["totalTokens"]);i!=null&&l(e,["totalTokens"],i);const a=s(t,["cachedContentTokenCount"]);return a!=null&&l(e,["cachedContentTokenCount"],a),e}function j_(t){const e={},o=s(t,["video","uri"]);o!=null&&l(e,["uri"],o);const i=s(t,["video","encodedVideo"]);i!=null&&l(e,["videoBytes"],Yn(i));const a=s(t,["encoding"]);return a!=null&&l(e,["mimeType"],a),e}function eT(t){const e={},o=s(t,["_self"]);return o!=null&&l(e,["video"],j_(o)),e}function tT(t){const e={},o=s(t,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(d=>eT(d))),l(e,["generatedVideos"],f)}const i=s(t,["raiMediaFilteredCount"]);i!=null&&l(e,["raiMediaFilteredCount"],i);const a=s(t,["raiMediaFilteredReasons"]);return a!=null&&l(e,["raiMediaFilteredReasons"],a),e}function nT(t){const e={},o=s(t,["name"]);o!=null&&l(e,["name"],o);const i=s(t,["metadata"]);i!=null&&l(e,["metadata"],i);const a=s(t,["done"]);a!=null&&l(e,["done"],a);const f=s(t,["error"]);f!=null&&l(e,["error"],f);const d=s(t,["response","generateVideoResponse"]);return d!=null&&l(e,["response"],tT(d)),e}function oT(t){const e={},o=s(t,["fps"]);o!=null&&l(e,["fps"],o);const i=s(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const a=s(t,["startOffset"]);return a!=null&&l(e,["startOffset"],a),e}function rT(t){const e={},o=s(t,["displayName"]);o!=null&&l(e,["displayName"],o);const i=s(t,["data"]);i!=null&&l(e,["data"],i);const a=s(t,["mimeType"]);return a!=null&&l(e,["mimeType"],a),e}function iT(t){const e={},o=s(t,["displayName"]);o!=null&&l(e,["displayName"],o);const i=s(t,["fileUri"]);i!=null&&l(e,["fileUri"],i);const a=s(t,["mimeType"]);return a!=null&&l(e,["mimeType"],a),e}function sT(t){const e={},o=s(t,["videoMetadata"]);o!=null&&l(e,["videoMetadata"],oT(o));const i=s(t,["thought"]);i!=null&&l(e,["thought"],i);const a=s(t,["inlineData"]);a!=null&&l(e,["inlineData"],rT(a));const f=s(t,["fileData"]);f!=null&&l(e,["fileData"],iT(f));const d=s(t,["thoughtSignature"]);d!=null&&l(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&l(e,["codeExecutionResult"],p);const m=s(t,["executableCode"]);m!=null&&l(e,["executableCode"],m);const h=s(t,["functionCall"]);h!=null&&l(e,["functionCall"],h);const y=s(t,["functionResponse"]);y!=null&&l(e,["functionResponse"],y);const C=s(t,["text"]);return C!=null&&l(e,["text"],C),e}function lT(t){const e={},o=s(t,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>sT(f))),l(e,["parts"],a)}const i=s(t,["role"]);return i!=null&&l(e,["role"],i),e}function aT(t){const e={},o=s(t,["citations"]);return o!=null&&l(e,["citations"],o),e}function uT(t){const e={},o=s(t,["retrievedUrl"]);o!=null&&l(e,["retrievedUrl"],o);const i=s(t,["urlRetrievalStatus"]);return i!=null&&l(e,["urlRetrievalStatus"],i),e}function fT(t){const e={},o=s(t,["urlMetadata"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>uT(a))),l(e,["urlMetadata"],i)}return e}function cT(t){const e={},o=s(t,["content"]);o!=null&&l(e,["content"],lT(o));const i=s(t,["citationMetadata"]);i!=null&&l(e,["citationMetadata"],aT(i));const a=s(t,["finishMessage"]);a!=null&&l(e,["finishMessage"],a);const f=s(t,["finishReason"]);f!=null&&l(e,["finishReason"],f);const d=s(t,["urlContextMetadata"]);d!=null&&l(e,["urlContextMetadata"],fT(d));const p=s(t,["avgLogprobs"]);p!=null&&l(e,["avgLogprobs"],p);const m=s(t,["groundingMetadata"]);m!=null&&l(e,["groundingMetadata"],m);const h=s(t,["index"]);h!=null&&l(e,["index"],h);const y=s(t,["logprobsResult"]);y!=null&&l(e,["logprobsResult"],y);const C=s(t,["safetyRatings"]);return C!=null&&l(e,["safetyRatings"],C),e}function td(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(y=>cT(y))),l(e,["candidates"],h)}const a=s(t,["createTime"]);a!=null&&l(e,["createTime"],a);const f=s(t,["modelVersion"]);f!=null&&l(e,["modelVersion"],f);const d=s(t,["promptFeedback"]);d!=null&&l(e,["promptFeedback"],d);const p=s(t,["responseId"]);p!=null&&l(e,["responseId"],p);const m=s(t,["usageMetadata"]);return m!=null&&l(e,["usageMetadata"],m),e}function dT(t){const e={},o=s(t,["truncated"]);o!=null&&l(e,["truncated"],o);const i=s(t,["token_count"]);return i!=null&&l(e,["tokenCount"],i),e}function pT(t){const e={},o=s(t,["values"]);o!=null&&l(e,["values"],o);const i=s(t,["statistics"]);return i!=null&&l(e,["statistics"],dT(i)),e}function hT(t){const e={},o=s(t,["billableCharacterCount"]);return o!=null&&l(e,["billableCharacterCount"],o),e}function mT(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["predictions[]","embeddings"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(d=>pT(d))),l(e,["embeddings"],f)}const a=s(t,["metadata"]);return a!=null&&l(e,["metadata"],hT(a)),e}function gT(t){const e={},o=s(t,["gcsUri"]);o!=null&&l(e,["gcsUri"],o);const i=s(t,["bytesBase64Encoded"]);i!=null&&l(e,["imageBytes"],Yn(i));const a=s(t,["mimeType"]);return a!=null&&l(e,["mimeType"],a),e}function qd(t){const e={},o=s(t,["safetyAttributes","categories"]);o!=null&&l(e,["categories"],o);const i=s(t,["safetyAttributes","scores"]);i!=null&&l(e,["scores"],i);const a=s(t,["contentType"]);return a!=null&&l(e,["contentType"],a),e}function Hi(t){const e={},o=s(t,["_self"]);o!=null&&l(e,["image"],gT(o));const i=s(t,["raiFilteredReason"]);i!=null&&l(e,["raiFilteredReason"],i);const a=s(t,["_self"]);a!=null&&l(e,["safetyAttributes"],qd(a));const f=s(t,["prompt"]);return f!=null&&l(e,["enhancedPrompt"],f),e}function yT(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["predictions"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(d=>Hi(d))),l(e,["generatedImages"],f)}const a=s(t,["positivePromptSafetyAttributes"]);return a!=null&&l(e,["positivePromptSafetyAttributes"],qd(a)),e}function vT(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(f=>Hi(f))),l(e,["generatedImages"],a)}return e}function CT(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(f=>Hi(f))),l(e,["generatedImages"],a)}return e}function _T(t){const e={},o=s(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>Hi(a))),l(e,["generatedImages"],i)}return e}function TT(t){const e={},o=s(t,["endpoint"]);o!=null&&l(e,["name"],o);const i=s(t,["deployedModelId"]);return i!=null&&l(e,["deployedModelId"],i),e}function ST(t){const e={},o=s(t,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&l(e,["baseModel"],o);const i=s(t,["createTime"]);i!=null&&l(e,["createTime"],i);const a=s(t,["updateTime"]);return a!=null&&l(e,["updateTime"],a),e}function wT(t){const e={},o=s(t,["checkpointId"]);o!=null&&l(e,["checkpointId"],o);const i=s(t,["epoch"]);i!=null&&l(e,["epoch"],i);const a=s(t,["step"]);return a!=null&&l(e,["step"],a),e}function bl(t){const e={},o=s(t,["name"]);o!=null&&l(e,["name"],o);const i=s(t,["displayName"]);i!=null&&l(e,["displayName"],i);const a=s(t,["description"]);a!=null&&l(e,["description"],a);const f=s(t,["versionId"]);f!=null&&l(e,["version"],f);const d=s(t,["deployedModels"]);if(d!=null){let C=d;Array.isArray(C)&&(C=C.map(_=>TT(_))),l(e,["endpoints"],C)}const p=s(t,["labels"]);p!=null&&l(e,["labels"],p);const m=s(t,["_self"]);m!=null&&l(e,["tunedModelInfo"],ST(m));const h=s(t,["defaultCheckpointId"]);h!=null&&l(e,["defaultCheckpointId"],h);const y=s(t,["checkpoints"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(_=>wT(_))),l(e,["checkpoints"],C)}return e}function ET(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["nextPageToken"]);i!=null&&l(e,["nextPageToken"],i);const a=s(t,["_self"]);if(a!=null){let f=kd(a);Array.isArray(f)&&(f=f.map(d=>bl(d))),l(e,["models"],f)}return e}function xT(){return{}}function kT(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["totalTokens"]);return i!=null&&l(e,["totalTokens"],i),e}function IT(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["tokensInfo"]);return i!=null&&l(e,["tokensInfo"],i),e}function AT(t){const e={},o=s(t,["gcsUri"]);o!=null&&l(e,["uri"],o);const i=s(t,["bytesBase64Encoded"]);i!=null&&l(e,["videoBytes"],Yn(i));const a=s(t,["mimeType"]);return a!=null&&l(e,["mimeType"],a),e}function MT(t){const e={},o=s(t,["_self"]);return o!=null&&l(e,["video"],AT(o)),e}function RT(t){const e={},o=s(t,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(d=>MT(d))),l(e,["generatedVideos"],f)}const i=s(t,["raiMediaFilteredCount"]);i!=null&&l(e,["raiMediaFilteredCount"],i);const a=s(t,["raiMediaFilteredReasons"]);return a!=null&&l(e,["raiMediaFilteredReasons"],a),e}function PT(t){const e={},o=s(t,["name"]);o!=null&&l(e,["name"],o);const i=s(t,["metadata"]);i!=null&&l(e,["metadata"],i);const a=s(t,["done"]);a!=null&&l(e,["done"],a);const f=s(t,["error"]);f!=null&&l(e,["error"],f);const d=s(t,["response"]);return d!=null&&l(e,["response"],RT(d)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NT="Content-Type",DT="X-Server-Timeout",LT="User-Agent",Jl="x-goog-api-client",FT="1.13.0",UT=`google-genai-sdk/${FT}`,VT="v1beta1",zT="v1beta",nd=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class BT{constructor(e){var o,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:VT,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:zT,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,i){const a=[this.getRequestUrlInternal(o)];return i&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,o,i);if(e.queryParams)for(const[d,p]of Object.entries(e.queryParams))a.searchParams.append(d,String(p));let f={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=e.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,o,e.abortSignal),this.unaryApiCall(a,f,e.httpMethod)}patchHttpOptions(e,o){const i=JSON.parse(JSON.stringify(e));for(const[a,f]of Object.entries(o))typeof f=="object"?i[a]=Object.assign(Object.assign({},i[a]),f):f!==void 0&&(i[a]=f);return i}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,o,i);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let f={};return f.body=e.body,f=await this.includeExtraHttpOptionsToRequestInit(f,o,e.abortSignal),this.streamApiCall(a,f,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,i){if(o&&o.timeout||i){const a=new AbortController,f=a.signal;if(o.timeout&&o?.timeout>0){const d=setTimeout(()=>a.abort(),o.timeout);d&&typeof d.unref=="function"&&d.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),e.signal=f}return o&&o.extraBody!==null&&GT(e,o.extraBody),e.headers=await this.getHeadersInternal(o),e}async unaryApiCall(e,o,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:i})).then(async a=>(await od(a),new Vl(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,o,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:i})).then(async a=>(await od(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){var o;return So(this,arguments,function*(){const a=(o=e?.body)===null||o===void 0?void 0:o.getReader(),f=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let d="";for(;;){const{done:p,value:m}=yield Ye(a.read());if(p){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=f.decode(m,{stream:!0});try{const C=JSON.parse(h);if("error"in C){const _=JSON.parse(JSON.stringify(C.error)),T=_.status,k=_.code,w=`got status: ${T}. ${JSON.stringify(C)}`;if(k>=400&&k<600)throw new Bi({message:w,status:k})}}catch(C){if(C.name==="ApiError")throw C}d+=h;let y=d.match(nd);for(;y;){const C=y[1];try{const _=new Response(C,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield Ye(new Vl(_)),d=d.slice(y[0].length),y=d.match(nd)}catch(_){throw new Error(`exception parsing stream chunk ${C}. ${_}`)}}}}finally{a.releaseLock()}})}async apiCall(e,o){return fetch(e,o).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},o=UT+" "+this.clientOptions.userAgentExtra;return e[LT]=o,e[Jl]=o,e[NT]="application/json",e}async getHeadersInternal(e){const o=new Headers;if(e&&e.headers){for(const[i,a]of Object.entries(e.headers))o.append(i,a);e.timeout&&e.timeout>0&&o.append(DT,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o),o}async uploadFile(e,o){var i;const a={};o!=null&&(a.mimeType=o.mimeType,a.name=o.name,a.displayName=o.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const f=this.clientOptions.uploader,d=await f.stat(e);a.sizeBytes=String(d.size);const p=(i=o?.mimeType)!==null&&i!==void 0?i:d.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=p;const m=await this.fetchUploadUrl(a,o);return f.upload(e,m,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o){var i;let a={};o?.httpOptions?a=o.httpOptions:a={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const f={file:e},d=await this.request({path:Me("upload/v1beta/files",f._url),body:JSON.stringify(f),httpMethod:"POST",httpOptions:a});if(!d||!d?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const p=(i=d?.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(p===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function od(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const o=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const a=JSON.stringify(i);throw o>=400&&o<600?new Bi({message:a,status:o}):new Error(a)}}function GT(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof t.body=="string"&&t.body.length>0)try{const f=JSON.parse(t.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))o=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(f,d){const p=Object.assign({},f);for(const m in d)if(Object.prototype.hasOwnProperty.call(d,m)){const h=d[m],y=p[m];h&&typeof h=="object"&&!Array.isArray(h)&&y&&typeof y=="object"&&!Array.isArray(y)?p[m]=i(y,h):(y&&h&&typeof y!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${m}". Original type: ${typeof y}, New type: ${typeof h}. Overwriting.`),p[m]=h)}return p}const a=i(o,e);t.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HT="mcp_used/unknown";let qT=!1;function $d(t){for(const e of t)if($T(e)||typeof e=="object"&&"inputSchema"in e)return!0;return qT}function bd(t){var e;const o=(e=t[Jl])!==null&&e!==void 0?e:"";t[Jl]=(o+` ${HT}`).trimStart()}function $T(t){return t!==null&&typeof t=="object"&&t instanceof Xl}function bT(t,e=100){return So(this,arguments,function*(){let i,a=0;for(;a<e;){const f=yield Ye(t.listTools({cursor:i}));for(const d of f.tools)yield yield Ye(d),a++;if(!f.nextCursor)break;i=f.nextCursor}})}class Xl{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new Xl(e,o)}async initialize(){var e,o,i,a;if(this.mcpTools.length>0)return;const f={},d=[];for(const y of this.mcpClients)try{for(var p=!0,m=(o=void 0,vr(bT(y))),h;h=await m.next(),e=h.done,!e;p=!0){a=h.value,p=!1;const C=a;d.push(C);const _=C.name;if(f[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);f[_]=y}}catch(C){o={error:C}}finally{try{!p&&!e&&(i=m.return)&&await i.call(m)}finally{if(o)throw o.error}}this.mcpTools=d,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),Lm(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[i.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const d=await a.callTool({name:i.name,arguments:i.args},void 0,f);o.push({functionResponse:{name:i.name,response:d.isError?{error:d}:d}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function JT(t,e,o){const i=new km;let a;o.data instanceof Blob?a=JSON.parse(await o.data.text()):a=JSON.parse(o.data);const f=L0(a);Object.assign(i,f),e(i)}class WT{constructor(e,o,i){this.apiClient=e,this.auth=o,this.webSocketFactory=i}async connect(e){var o,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),d=YT(this.apiClient.getDefaultHeaders()),p=this.apiClient.getApiKey(),m=`${a}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${p}`;let h=()=>{};const y=new Promise(P=>{h=P}),C=e.callbacks,_=function(){h({})},T=this.apiClient,k={onopen:_,onmessage:P=>{JT(T,C.onmessage,P)},onerror:(o=C?.onerror)!==null&&o!==void 0?o:function(P){},onclose:(i=C?.onclose)!==null&&i!==void 0?i:function(P){}},w=this.webSocketFactory.create(m,KT(d),k);w.connect(),await y;const I=qe(this.apiClient,e.model),A=Vd({model:I}),R=ql({setup:A});return w.send(JSON.stringify(R)),new OT(w,this.apiClient)}}class OT{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=Nv(e),i=zd(o);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=Dv(e),i=ql(o);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const o=ql({playbackControl:e});this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(_o.PLAY)}pause(){this.sendPlaybackControl(_o.PAUSE)}stop(){this.sendPlaybackControl(_o.STOP)}resetContext(){this.sendPlaybackControl(_o.RESET_CONTEXT)}close(){this.conn.close()}}function KT(t){const e={};return t.forEach((o,i)=>{e[i]=o}),e}function YT(t){const e=new Headers;for(const[o,i]of Object.entries(t))e.append(o,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZT="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function QT(t,e,o){const i=new xm;let a;o.data instanceof Blob?a=await o.data.text():o.data instanceof ArrayBuffer?a=new TextDecoder().decode(o.data):a=o.data;const f=JSON.parse(a);if(t.isVertexAI()){const d=K0(f);Object.assign(i,d)}else{const d=x0(f);Object.assign(i,d)}e(i)}class XT{constructor(e,o,i){this.apiClient=e,this.auth=o,this.webSocketFactory=i,this.music=new WT(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,i,a,f,d,p;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const m=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let y;const C=this.apiClient.getHeaders();e.config&&e.config.tools&&$d(e.config.tools)&&bd(C);const _=nS(C);if(this.apiClient.isVertexAI())y=`${m}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_);else{const q=this.apiClient.getApiKey();let ne="BidiGenerateContent",ge="key";q?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ne="BidiGenerateContentConstrained",ge="access_token"),y=`${m}/ws/google.ai.generativelanguage.${h}.GenerativeService.${ne}?${ge}=${q}`}let T=()=>{};const k=new Promise(q=>{T=q}),w=e.callbacks,I=function(){var q;(q=w?.onopen)===null||q===void 0||q.call(w),T({})},A=this.apiClient,R={onopen:I,onmessage:q=>{QT(A,w.onmessage,q)},onerror:(o=w?.onerror)!==null&&o!==void 0?o:function(q){},onclose:(i=w?.onclose)!==null&&i!==void 0?i:function(q){}},P=this.webSocketFactory.create(y,tS(_),R);P.connect(),await k;let z=qe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&z.startsWith("publishers/")){const q=this.apiClient.getProject(),ne=this.apiClient.getLocation();z=`projects/${q}/locations/${ne}/`+z}let V={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ui.AUDIO]}:e.config.responseModalities=[Ui.AUDIO]),!((f=e.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const W=(p=(d=e.config)===null||d===void 0?void 0:d.tools)!==null&&p!==void 0?p:[],b=[];for(const q of W)if(this.isCallableTool(q)){const ne=q;b.push(await ne.tool())}else b.push(q);b.length>0&&(e.config.tools=b);const te={model:z,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?V=s0(this.apiClient,te):V=Av(this.apiClient,te),delete V.config,P.send(JSON.stringify(V)),new eS(P,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const jT={turnComplete:!0};class eS{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let i=[];try{i=zt(o.turns),e.isVertexAI()?i=i.map(a=>Io(a)):i=i.map(a=>Gi(a))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:i,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let i=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?i=o.functionResponses:i=[o.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const f of i){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!e.isVertexAI()&&!("id"in f))throw new Error(ZT)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},jT),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:u0(e)}:o={realtimeInput:Pv(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function tS(t){const e={};return t.forEach((o,i)=>{e[i]=o}),e}function nS(t){const e=new Headers;for(const[o,i]of Object.entries(t))e.append(o,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rd=10;function id(t){var e,o,i;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const d of(o=t?.tools)!==null&&o!==void 0?o:[])if(wo(d)){a=!0;break}if(!a)return!0;const f=(i=t?.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function wo(t){return"callTool"in t&&typeof t.callTool=="function"}function oS(t){var e,o,i;return(i=(o=(e=t.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(a=>wo(a)))!==null&&i!==void 0?i:!1}function rS(t){var e,o,i;return(i=(o=(e=t.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(a=>!wo(a)))!==null&&i!==void 0?i:!1}function sd(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iS extends Kn{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var i,a,f,d,p;const m=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!oS(o)||id(o.config))return await this.generateContentInternal(m);if(rS(o))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let h,y;const C=zt(m.contents),_=(f=(a=(i=m.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&f!==void 0?f:rd;let T=0;for(;T<_&&(h=await this.generateContentInternal(m),!(!h.functionCalls||h.functionCalls.length===0));){const k=h.candidates[0].content,w=[];for(const I of(p=(d=o.config)===null||d===void 0?void 0:d.tools)!==null&&p!==void 0?p:[])if(wo(I)){const R=await I.callTool(h.functionCalls);w.push(...R)}T++,y={role:"user",parts:w},m.contents=zt(m.contents),m.contents.push(k),m.contents.push(y),sd(m.config)&&(C.push(k),C.push(y))}return sd(m.config)&&(h.automaticFunctionCallingHistory=C),h},this.generateContentStream=async o=>{if(this.maybeMoveToResponseJsonSchem(o),id(o.config)){const i=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(i=>{var a;let f;const d=[];if(i?.generatedImages)for(const m of i.generatedImages)m&&m?.safetyAttributes&&((a=m?.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?f=m?.safetyAttributes:d.push(m);let p;return f?p={generatedImages:d,positivePromptSafetyAttributes:f,sdkHttpResponse:i.sdkHttpResponse}:p={generatedImages:d,sdkHttpResponse:i.sdkHttpResponse},p}),this.list=async o=>{var i;const d={config:Object.assign(Object.assign({},{queryBase:!0}),o?.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((i=d.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new Cr(On.PAGED_ITEM_MODELS,p=>this.listInternal(p),await this.listInternal(d),d)},this.editImage=async o=>{const i={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(i.referenceImages=o.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async o=>{let i={numberOfImages:1,mode:"upscale"};o.config&&(i=Object.assign(Object.assign({},i),o.config));const a={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:i};return await this.upscaleImageInternal(a)},this.generateVideos=async o=>await this.generateVideosInternal(o)}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,i,a;const f=(o=e.config)===null||o===void 0?void 0:o.tools;if(!f)return e;const d=await Promise.all(f.map(async m=>wo(m)?await m.tool():m)),p={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:d})};if(p.config.tools=d,e.config&&e.config.tools&&$d(e.config.tools)){const m=(a=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&a!==void 0?a:{};let h=Object.assign({},m);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),bd(h),p.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return p}async initAfcToolsMap(e){var o,i,a;const f=new Map;for(const d of(i=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&i!==void 0?i:[])if(wo(d)){const p=d,m=await p.tool();for(const h of(a=m.functionDeclarations)!==null&&a!==void 0?a:[]){if(!h.name)throw new Error("Function declaration name is required.");if(f.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);f.set(h.name,p)}}return f}async processAfcStream(e){var o,i,a;const f=(a=(i=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:rd;let d=!1,p=0;const m=await this.initAfcToolsMap(e);return function(h,y,C){var _,T;return So(this,arguments,function*(){for(var k,w,I,A;p<f;){d&&(p++,d=!1);const V=yield Ye(h.processParamsMaybeAddMcpUsage(C)),W=yield Ye(h.generateContentStreamInternal(V)),b=[],te=[];try{for(var R=!0,P=(w=void 0,vr(W)),z;z=yield Ye(P.next()),k=z.done,!k;R=!0){A=z.value,R=!1;const q=A;if(yield yield Ye(q),q.candidates&&(!((_=q.candidates[0])===null||_===void 0)&&_.content)){te.push(q.candidates[0].content);for(const ne of(T=q.candidates[0].content.parts)!==null&&T!==void 0?T:[])if(p<f&&ne.functionCall){if(!ne.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(ne.functionCall.name)){const ge=yield Ye(y.get(ne.functionCall.name).callTool([ne.functionCall]));b.push(...ge)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${ne.functionCall.name}`)}}}}catch(q){w={error:q}}finally{try{!R&&!k&&(I=P.return)&&(yield Ye(I.call(P)))}finally{if(w)throw w.error}}if(b.length>0){d=!0;const q=new gr;q.candidates=[{content:{role:"user",parts:b}}],yield yield Ye(q);const ne=[];ne.push(...te),ne.push({role:"user",parts:b});const ge=zt(C.contents).concat(ne);C.contents=ge}else break}})}(this,m,e)}async generateContentInternal(e){var o,i,a,f;let d,p="",m={};if(this.apiClient.isVertexAI()){const h=jc(this.apiClient,e);return p=Me("{model}:generateContent",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const C=td(y),_=new gr;return Object.assign(_,C),_})}else{const h=Xc(this.apiClient,e);return p=Me("{model}:generateContent",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const C=ed(y),_=new gr;return Object.assign(_,C),_})}}async generateContentStreamInternal(e){var o,i,a,f;let d,p="",m={};if(this.apiClient.isVertexAI()){const h=jc(this.apiClient,e);return p=Me("{model}:streamGenerateContent?alt=sse",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.requestStream({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),d.then(function(C){return So(this,arguments,function*(){var _,T,k,w;try{for(var I=!0,A=vr(C),R;R=yield Ye(A.next()),_=R.done,!_;I=!0){w=R.value,I=!1;const P=w,z=td(yield Ye(P.json()));z.sdkHttpResponse={headers:P.headers};const V=new gr;Object.assign(V,z),yield yield Ye(V)}}catch(P){T={error:P}}finally{try{!I&&!_&&(k=A.return)&&(yield Ye(k.call(A)))}finally{if(T)throw T.error}}})})}else{const h=Xc(this.apiClient,e);return p=Me("{model}:streamGenerateContent?alt=sse",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.requestStream({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}),d.then(function(C){return So(this,arguments,function*(){var _,T,k,w;try{for(var I=!0,A=vr(C),R;R=yield Ye(A.next()),_=R.done,!_;I=!0){w=R.value,I=!1;const P=w,z=ed(yield Ye(P.json()));z.sdkHttpResponse={headers:P.headers};const V=new gr;Object.assign(V,z),yield yield Ye(V)}}catch(P){T={error:P}}finally{try{!I&&!_&&(k=A.return)&&(yield Ye(k.call(A)))}finally{if(T)throw T.error}}})})}}async embedContent(e){var o,i,a,f;let d,p="",m={};if(this.apiClient.isVertexAI()){const h=s_(this.apiClient,e);return p=Me("{model}:predict",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const C=mT(y),_=new Pc;return Object.assign(_,C),_})}else{const h=CC(this.apiClient,e);return p=Me("{model}:batchEmbedContents",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const C=J_(y),_=new Pc;return Object.assign(_,C),_})}}async generateImagesInternal(e){var o,i,a,f;let d,p="",m={};if(this.apiClient.isVertexAI()){const h=a_(this.apiClient,e);return p=Me("{model}:predict",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const C=yT(y),_=new Nc;return Object.assign(_,C),_})}else{const h=TC(this.apiClient,e);return p=Me("{model}:predict",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const C=K_(y),_=new Nc;return Object.assign(_,C),_})}}async editImageInternal(e){var o,i;let a,f="",d={};if(this.apiClient.isVertexAI()){const p=m_(this.apiClient,e);return f=Me("{model}:predict",p._url),d=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:m.headers},y})),a.then(m=>{const h=vT(m),y=new vm;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,i;let a,f="",d={};if(this.apiClient.isVertexAI()){const p=y_(this.apiClient,e);return f=Me("{model}:predict",p._url),d=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:m.headers},y})),a.then(m=>{const h=CT(m),y=new Cm;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var o,i;let a,f="",d={};if(this.apiClient.isVertexAI()){const p=T_(this.apiClient,e);return f=Me("{model}:predict",p._url),d=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),a.then(m=>{const h=_T(m),y=new _m;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,i,a,f;let d,p="",m={};if(this.apiClient.isVertexAI()){const h=S_(this.apiClient,e);return p=Me("{name}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),d.then(y=>bl(y))}else{const h=SC(this.apiClient,e);return p=Me("{name}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),d.then(y=>$l(y))}}async listInternal(e){var o,i,a,f;let d,p="",m={};if(this.apiClient.isVertexAI()){const h=E_(this.apiClient,e);return p=Me("{models_url}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const C=ET(y),_=new Dc;return Object.assign(_,C),_})}else{const h=EC(this.apiClient,e);return p=Me("{models_url}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const C=Z_(y),_=new Dc;return Object.assign(_,C),_})}}async update(e){var o,i,a,f;let d,p="",m={};if(this.apiClient.isVertexAI()){const h=k_(this.apiClient,e);return p=Me("{model}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),d.then(y=>bl(y))}else{const h=kC(this.apiClient,e);return p=Me("{name}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),d.then(y=>$l(y))}}async delete(e){var o,i,a,f;let d,p="",m={};if(this.apiClient.isVertexAI()){const h=I_(this.apiClient,e);return p=Me("{name}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),d.then(()=>{const y=xT(),C=new Lc;return Object.assign(C,y),C})}else{const h=IC(this.apiClient,e);return p=Me("{name}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),d.then(()=>{const y=Q_(),C=new Lc;return Object.assign(C,y),C})}}async countTokens(e){var o,i,a,f;let d,p="",m={};if(this.apiClient.isVertexAI()){const h=M_(this.apiClient,e);return p=Me("{model}:countTokens",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const C=kT(y),_=new Fc;return Object.assign(_,C),_})}else{const h=MC(this.apiClient,e);return p=Me("{model}:countTokens",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const C=X_(y),_=new Fc;return Object.assign(_,C),_})}}async computeTokens(e){var o,i;let a,f="",d={};if(this.apiClient.isVertexAI()){const p=R_(this.apiClient,e);return f=Me("{model}:computeTokens",p._url),d=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:m.headers},y})),a.then(m=>{const h=IT(m),y=new Tm;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,i,a,f;let d,p="",m={};if(this.apiClient.isVertexAI()){const h=D_(this.apiClient,e);return p=Me("{model}:predictLongRunning",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),d.then(y=>{const C=PT(y),_=new Vi;return Object.assign(_,C),_})}else{const h=NC(this.apiClient,e);return p=Me("{model}:predictLongRunning",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),d.then(y=>{const C=nT(y),_=new Vi;return Object.assign(_,C),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sS(t){const e={},o=s(t,["operationName"]);o!=null&&l(e,["_url","operationName"],o);const i=s(t,["config"]);return i!=null&&l(e,["config"],i),e}function lS(t){const e={},o=s(t,["operationName"]);o!=null&&l(e,["_url","operationName"],o);const i=s(t,["config"]);return i!=null&&l(e,["config"],i),e}function aS(t){const e={},o=s(t,["operationName"]);o!=null&&l(e,["operationName"],o);const i=s(t,["resourceName"]);i!=null&&l(e,["_url","resourceName"],i);const a=s(t,["config"]);return a!=null&&l(e,["config"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uS extends Kn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,i=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=o.name.split("/operations/")[0];let f;i&&"httpOptions"in i&&(f=i.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:a,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:d,isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:o.name,config:i});return o._fromAPIResponse({apiResponse:a,isVertexAI:!1})}}async get(e){const o=e.operation,i=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=o.name.split("/operations/")[0];let f;i&&"httpOptions"in i&&(f=i.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:a,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:d,isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:o.name,config:i});return o._fromAPIResponse({apiResponse:a,isVertexAI:!1})}}async getVideosOperationInternal(e){var o,i,a,f;let d,p="",m={};if(this.apiClient.isVertexAI()){const h=lS(e);return p=Me("{operationName}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),d}else{const h=sS(e);return p=Me("{operationName}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json()),d}}async fetchPredictVideosOperationInternal(e){var o,i;let a,f="",d={};if(this.apiClient.isVertexAI()){const p=aS(e);return f=Me("{resourceName}:fetchPredictOperation",p._url),d=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fS(t){const e={},o=s(t,["voiceName"]);return o!=null&&l(e,["voiceName"],o),e}function Jd(t){const e={},o=s(t,["prebuiltVoiceConfig"]);return o!=null&&l(e,["prebuiltVoiceConfig"],fS(o)),e}function cS(t){const e={},o=s(t,["speaker"]);o!=null&&l(e,["speaker"],o);const i=s(t,["voiceConfig"]);return i!=null&&l(e,["voiceConfig"],Jd(i)),e}function dS(t){const e={},o=s(t,["speakerVoiceConfigs"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>cS(a))),l(e,["speakerVoiceConfigs"],i)}return e}function pS(t){const e={},o=s(t,["voiceConfig"]);o!=null&&l(e,["voiceConfig"],Jd(o));const i=s(t,["multiSpeakerVoiceConfig"]);i!=null&&l(e,["multiSpeakerVoiceConfig"],dS(i));const a=s(t,["languageCode"]);return a!=null&&l(e,["languageCode"],a),e}function hS(t){const e={},o=s(t,["fps"]);o!=null&&l(e,["fps"],o);const i=s(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const a=s(t,["startOffset"]);return a!=null&&l(e,["startOffset"],a),e}function mS(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["data"]);o!=null&&l(e,["data"],o);const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function gS(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["fileUri"]);o!=null&&l(e,["fileUri"],o);const i=s(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function yS(t){const e={},o=s(t,["videoMetadata"]);o!=null&&l(e,["videoMetadata"],hS(o));const i=s(t,["thought"]);i!=null&&l(e,["thought"],i);const a=s(t,["inlineData"]);a!=null&&l(e,["inlineData"],mS(a));const f=s(t,["fileData"]);f!=null&&l(e,["fileData"],gS(f));const d=s(t,["thoughtSignature"]);d!=null&&l(e,["thoughtSignature"],d);const p=s(t,["codeExecutionResult"]);p!=null&&l(e,["codeExecutionResult"],p);const m=s(t,["executableCode"]);m!=null&&l(e,["executableCode"],m);const h=s(t,["functionCall"]);h!=null&&l(e,["functionCall"],h);const y=s(t,["functionResponse"]);y!=null&&l(e,["functionResponse"],y);const C=s(t,["text"]);return C!=null&&l(e,["text"],C),e}function vS(t){const e={},o=s(t,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>yS(f))),l(e,["parts"],a)}const i=s(t,["role"]);return i!=null&&l(e,["role"],i),e}function CS(t){const e={},o=s(t,["behavior"]);o!=null&&l(e,["behavior"],o);const i=s(t,["description"]);i!=null&&l(e,["description"],i);const a=s(t,["name"]);a!=null&&l(e,["name"],a);const f=s(t,["parameters"]);f!=null&&l(e,["parameters"],f);const d=s(t,["parametersJsonSchema"]);d!=null&&l(e,["parametersJsonSchema"],d);const p=s(t,["response"]);p!=null&&l(e,["response"],p);const m=s(t,["responseJsonSchema"]);return m!=null&&l(e,["responseJsonSchema"],m),e}function _S(t){const e={},o=s(t,["startTime"]);o!=null&&l(e,["startTime"],o);const i=s(t,["endTime"]);return i!=null&&l(e,["endTime"],i),e}function TS(t){const e={},o=s(t,["timeRangeFilter"]);return o!=null&&l(e,["timeRangeFilter"],_S(o)),e}function SS(t){const e={},o=s(t,["mode"]);o!=null&&l(e,["mode"],o);const i=s(t,["dynamicThreshold"]);return i!=null&&l(e,["dynamicThreshold"],i),e}function wS(t){const e={},o=s(t,["dynamicRetrievalConfig"]);return o!=null&&l(e,["dynamicRetrievalConfig"],SS(o)),e}function ES(){return{}}function xS(t){const e={},o=s(t,["functionDeclarations"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(h=>CS(h))),l(e,["functionDeclarations"],m)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(t,["googleSearch"]);i!=null&&l(e,["googleSearch"],TS(i));const a=s(t,["googleSearchRetrieval"]);if(a!=null&&l(e,["googleSearchRetrieval"],wS(a)),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(t,["urlContext"])!=null&&l(e,["urlContext"],ES());const d=s(t,["codeExecution"]);d!=null&&l(e,["codeExecution"],d);const p=s(t,["computerUse"]);return p!=null&&l(e,["computerUse"],p),e}function kS(t){const e={},o=s(t,["handle"]);if(o!=null&&l(e,["handle"],o),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function ld(){return{}}function IS(t){const e={},o=s(t,["disabled"]);o!=null&&l(e,["disabled"],o);const i=s(t,["startOfSpeechSensitivity"]);i!=null&&l(e,["startOfSpeechSensitivity"],i);const a=s(t,["endOfSpeechSensitivity"]);a!=null&&l(e,["endOfSpeechSensitivity"],a);const f=s(t,["prefixPaddingMs"]);f!=null&&l(e,["prefixPaddingMs"],f);const d=s(t,["silenceDurationMs"]);return d!=null&&l(e,["silenceDurationMs"],d),e}function AS(t){const e={},o=s(t,["automaticActivityDetection"]);o!=null&&l(e,["automaticActivityDetection"],IS(o));const i=s(t,["activityHandling"]);i!=null&&l(e,["activityHandling"],i);const a=s(t,["turnCoverage"]);return a!=null&&l(e,["turnCoverage"],a),e}function MS(t){const e={},o=s(t,["targetTokens"]);return o!=null&&l(e,["targetTokens"],o),e}function RS(t){const e={},o=s(t,["triggerTokens"]);o!=null&&l(e,["triggerTokens"],o);const i=s(t,["slidingWindow"]);return i!=null&&l(e,["slidingWindow"],MS(i)),e}function PS(t){const e={},o=s(t,["proactiveAudio"]);return o!=null&&l(e,["proactiveAudio"],o),e}function NS(t,e){const o={},i=s(t,["generationConfig"]);e!==void 0&&i!=null&&l(e,["setup","generationConfig"],i);const a=s(t,["responseModalities"]);e!==void 0&&a!=null&&l(e,["setup","generationConfig","responseModalities"],a);const f=s(t,["temperature"]);e!==void 0&&f!=null&&l(e,["setup","generationConfig","temperature"],f);const d=s(t,["topP"]);e!==void 0&&d!=null&&l(e,["setup","generationConfig","topP"],d);const p=s(t,["topK"]);e!==void 0&&p!=null&&l(e,["setup","generationConfig","topK"],p);const m=s(t,["maxOutputTokens"]);e!==void 0&&m!=null&&l(e,["setup","generationConfig","maxOutputTokens"],m);const h=s(t,["mediaResolution"]);e!==void 0&&h!=null&&l(e,["setup","generationConfig","mediaResolution"],h);const y=s(t,["seed"]);e!==void 0&&y!=null&&l(e,["setup","generationConfig","seed"],y);const C=s(t,["speechConfig"]);e!==void 0&&C!=null&&l(e,["setup","generationConfig","speechConfig"],pS(Ql(C)));const _=s(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&l(e,["setup","generationConfig","enableAffectiveDialog"],_);const T=s(t,["systemInstruction"]);e!==void 0&&T!=null&&l(e,["setup","systemInstruction"],vS(gt(T)));const k=s(t,["tools"]);if(e!==void 0&&k!=null){let V=xo(k);Array.isArray(V)&&(V=V.map(W=>xS(Eo(W)))),l(e,["setup","tools"],V)}const w=s(t,["sessionResumption"]);e!==void 0&&w!=null&&l(e,["setup","sessionResumption"],kS(w));const I=s(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&l(e,["setup","inputAudioTranscription"],ld());const A=s(t,["outputAudioTranscription"]);e!==void 0&&A!=null&&l(e,["setup","outputAudioTranscription"],ld());const R=s(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&l(e,["setup","realtimeInputConfig"],AS(R));const P=s(t,["contextWindowCompression"]);e!==void 0&&P!=null&&l(e,["setup","contextWindowCompression"],RS(P));const z=s(t,["proactivity"]);return e!==void 0&&z!=null&&l(e,["setup","proactivity"],PS(z)),o}function DS(t,e){const o={},i=s(e,["model"]);i!=null&&l(o,["setup","model"],qe(t,i));const a=s(e,["config"]);return a!=null&&l(o,["config"],NS(a,o)),o}function LS(t,e,o){const i={},a=s(e,["expireTime"]);o!==void 0&&a!=null&&l(o,["expireTime"],a);const f=s(e,["newSessionExpireTime"]);o!==void 0&&f!=null&&l(o,["newSessionExpireTime"],f);const d=s(e,["uses"]);o!==void 0&&d!=null&&l(o,["uses"],d);const p=s(e,["liveConnectConstraints"]);o!==void 0&&p!=null&&l(o,["bidiGenerateContentSetup"],DS(t,p));const m=s(e,["lockAdditionalFields"]);return o!==void 0&&m!=null&&l(o,["fieldMask"],m),i}function FS(t,e){const o={},i=s(e,["config"]);return i!=null&&l(o,["config"],LS(t,i,o)),o}function US(t){const e={},o=s(t,["name"]);return o!=null&&l(e,["name"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VS(t){const e=[];for(const o in t)if(Object.prototype.hasOwnProperty.call(t,o)){const i=t[o];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const a=Object.keys(i).map(f=>`${o}.${f}`);e.push(...a)}else e.push(o)}return e.join(",")}function zS(t,e){let o=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const f=i.setup;typeof f=="object"&&f!==null?(t.bidiGenerateContentSetup=f,o=f):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const a=t.fieldMask;if(o){const f=VS(o);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)f?t.fieldMask=f:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let p=[];a.length>0&&(p=a.map(h=>d.includes(h)?`generationConfig.${h}`:h));const m=[];f&&m.push(f),p.length>0&&m.push(...p),m.length>0?t.fieldMask=m.join(","):delete t.fieldMask}else delete t.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?t.fieldMask=a.join(","):delete t.fieldMask;return t}class BS extends Kn{constructor(e){super(),this.apiClient=e}async create(e){var o,i;let a,f="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const p=FS(this.apiClient,e);f=Me("auth_tokens",p._url),d=p._query,delete p.config,delete p._url,delete p._query;const m=zS(p,e.config);return a=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a.then(h=>US(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GS(t){const e={},o=s(t,["name"]);o!=null&&l(e,["_url","name"],o);const i=s(t,["config"]);return i!=null&&l(e,["config"],i),e}function HS(t,e){const o={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&l(e,["_query","pageSize"],i);const a=s(t,["pageToken"]);e!==void 0&&a!=null&&l(e,["_query","pageToken"],a);const f=s(t,["filter"]);return e!==void 0&&f!=null&&l(e,["_query","filter"],f),o}function qS(t){const e={},o=s(t,["config"]);return o!=null&&l(e,["config"],HS(o,e)),e}function $S(t){const e={},o=s(t,["textInput"]);o!=null&&l(e,["textInput"],o);const i=s(t,["output"]);return i!=null&&l(e,["output"],i),e}function bS(t){const e={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=s(t,["examples"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>$S(a))),l(e,["examples","examples"],i)}return e}function JS(t,e){const o={};if(s(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=s(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&l(e,["displayName"],i),s(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=s(t,["epochCount"]);e!==void 0&&a!=null&&l(e,["tuningTask","hyperparameters","epochCount"],a);const f=s(t,["learningRateMultiplier"]);if(f!=null&&l(o,["tuningTask","hyperparameters","learningRateMultiplier"],f),s(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const d=s(t,["batchSize"]);e!==void 0&&d!=null&&l(e,["tuningTask","hyperparameters","batchSize"],d);const p=s(t,["learningRate"]);return e!==void 0&&p!=null&&l(e,["tuningTask","hyperparameters","learningRate"],p),o}function WS(t){const e={},o=s(t,["baseModel"]);o!=null&&l(e,["baseModel"],o);const i=s(t,["trainingDataset"]);i!=null&&l(e,["tuningTask","trainingData"],bS(i));const a=s(t,["config"]);return a!=null&&l(e,["config"],JS(a,e)),e}function OS(t){const e={},o=s(t,["name"]);o!=null&&l(e,["_url","name"],o);const i=s(t,["config"]);return i!=null&&l(e,["config"],i),e}function KS(t,e){const o={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&l(e,["_query","pageSize"],i);const a=s(t,["pageToken"]);e!==void 0&&a!=null&&l(e,["_query","pageToken"],a);const f=s(t,["filter"]);return e!==void 0&&f!=null&&l(e,["_query","filter"],f),o}function YS(t){const e={},o=s(t,["config"]);return o!=null&&l(e,["config"],KS(o,e)),e}function ZS(t,e){const o={},i=s(t,["gcsUri"]);e!==void 0&&i!=null&&l(e,["supervisedTuningSpec","trainingDatasetUri"],i);const a=s(t,["vertexDatasetResource"]);if(e!==void 0&&a!=null&&l(e,["supervisedTuningSpec","trainingDatasetUri"],a),s(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function QS(t,e){const o={},i=s(t,["gcsUri"]);i!=null&&l(o,["validationDatasetUri"],i);const a=s(t,["vertexDatasetResource"]);return e!==void 0&&a!=null&&l(e,["supervisedTuningSpec","trainingDatasetUri"],a),o}function XS(t,e){const o={},i=s(t,["validationDataset"]);e!==void 0&&i!=null&&l(e,["supervisedTuningSpec"],QS(i,o));const a=s(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&l(e,["tunedModelDisplayName"],a);const f=s(t,["description"]);e!==void 0&&f!=null&&l(e,["description"],f);const d=s(t,["epochCount"]);e!==void 0&&d!=null&&l(e,["supervisedTuningSpec","hyperParameters","epochCount"],d);const p=s(t,["learningRateMultiplier"]);e!==void 0&&p!=null&&l(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],p);const m=s(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&l(e,["supervisedTuningSpec","exportLastCheckpointOnly"],m);const h=s(t,["adapterSize"]);if(e!==void 0&&h!=null&&l(e,["supervisedTuningSpec","hyperParameters","adapterSize"],h),s(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return o}function jS(t){const e={},o=s(t,["baseModel"]);o!=null&&l(e,["baseModel"],o);const i=s(t,["trainingDataset"]);i!=null&&l(e,["supervisedTuningSpec","trainingDatasetUri"],ZS(i,e));const a=s(t,["config"]);return a!=null&&l(e,["config"],XS(a,e)),e}function ew(t){const e={},o=s(t,["name"]);o!=null&&l(e,["model"],o);const i=s(t,["name"]);return i!=null&&l(e,["endpoint"],i),e}function Wd(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["name"]);i!=null&&l(e,["name"],i);const a=s(t,["state"]);a!=null&&l(e,["state"],wd(a));const f=s(t,["createTime"]);f!=null&&l(e,["createTime"],f);const d=s(t,["tuningTask","startTime"]);d!=null&&l(e,["startTime"],d);const p=s(t,["tuningTask","completeTime"]);p!=null&&l(e,["endTime"],p);const m=s(t,["updateTime"]);m!=null&&l(e,["updateTime"],m);const h=s(t,["description"]);h!=null&&l(e,["description"],h);const y=s(t,["baseModel"]);y!=null&&l(e,["baseModel"],y);const C=s(t,["_self"]);C!=null&&l(e,["tunedModel"],ew(C));const _=s(t,["distillationSpec"]);_!=null&&l(e,["distillationSpec"],_);const T=s(t,["experiment"]);T!=null&&l(e,["experiment"],T);const k=s(t,["labels"]);k!=null&&l(e,["labels"],k);const w=s(t,["pipelineJob"]);w!=null&&l(e,["pipelineJob"],w);const I=s(t,["satisfiesPzi"]);I!=null&&l(e,["satisfiesPzi"],I);const A=s(t,["satisfiesPzs"]);A!=null&&l(e,["satisfiesPzs"],A);const R=s(t,["serviceAccount"]);R!=null&&l(e,["serviceAccount"],R);const P=s(t,["tunedModelDisplayName"]);return P!=null&&l(e,["tunedModelDisplayName"],P),e}function tw(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["nextPageToken"]);i!=null&&l(e,["nextPageToken"],i);const a=s(t,["tunedModels"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(d=>Wd(d))),l(e,["tuningJobs"],f)}return e}function nw(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["name"]);i!=null&&l(e,["name"],i);const a=s(t,["metadata"]);a!=null&&l(e,["metadata"],a);const f=s(t,["done"]);f!=null&&l(e,["done"],f);const d=s(t,["error"]);return d!=null&&l(e,["error"],d),e}function ow(t){const e={},o=s(t,["checkpointId"]);o!=null&&l(e,["checkpointId"],o);const i=s(t,["epoch"]);i!=null&&l(e,["epoch"],i);const a=s(t,["step"]);a!=null&&l(e,["step"],a);const f=s(t,["endpoint"]);return f!=null&&l(e,["endpoint"],f),e}function rw(t){const e={},o=s(t,["model"]);o!=null&&l(e,["model"],o);const i=s(t,["endpoint"]);i!=null&&l(e,["endpoint"],i);const a=s(t,["checkpoints"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(d=>ow(d))),l(e,["checkpoints"],f)}return e}function Wl(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["name"]);i!=null&&l(e,["name"],i);const a=s(t,["state"]);a!=null&&l(e,["state"],wd(a));const f=s(t,["createTime"]);f!=null&&l(e,["createTime"],f);const d=s(t,["startTime"]);d!=null&&l(e,["startTime"],d);const p=s(t,["endTime"]);p!=null&&l(e,["endTime"],p);const m=s(t,["updateTime"]);m!=null&&l(e,["updateTime"],m);const h=s(t,["error"]);h!=null&&l(e,["error"],h);const y=s(t,["description"]);y!=null&&l(e,["description"],y);const C=s(t,["baseModel"]);C!=null&&l(e,["baseModel"],C);const _=s(t,["tunedModel"]);_!=null&&l(e,["tunedModel"],rw(_));const T=s(t,["supervisedTuningSpec"]);T!=null&&l(e,["supervisedTuningSpec"],T);const k=s(t,["tuningDataStats"]);k!=null&&l(e,["tuningDataStats"],k);const w=s(t,["encryptionSpec"]);w!=null&&l(e,["encryptionSpec"],w);const I=s(t,["partnerModelTuningSpec"]);I!=null&&l(e,["partnerModelTuningSpec"],I);const A=s(t,["distillationSpec"]);A!=null&&l(e,["distillationSpec"],A);const R=s(t,["experiment"]);R!=null&&l(e,["experiment"],R);const P=s(t,["labels"]);P!=null&&l(e,["labels"],P);const z=s(t,["pipelineJob"]);z!=null&&l(e,["pipelineJob"],z);const V=s(t,["satisfiesPzi"]);V!=null&&l(e,["satisfiesPzi"],V);const W=s(t,["satisfiesPzs"]);W!=null&&l(e,["satisfiesPzs"],W);const b=s(t,["serviceAccount"]);b!=null&&l(e,["serviceAccount"],b);const te=s(t,["tunedModelDisplayName"]);return te!=null&&l(e,["tunedModelDisplayName"],te),e}function iw(t){const e={},o=s(t,["sdkHttpResponse"]);o!=null&&l(e,["sdkHttpResponse"],o);const i=s(t,["nextPageToken"]);i!=null&&l(e,["nextPageToken"],i);const a=s(t,["tuningJobs"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(d=>Wl(d))),l(e,["tuningJobs"],f)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sw extends Kn{constructor(e){super(),this.apiClient=e,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new Cr(On.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(o),o),this.tune=async o=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(o);{const i=await this.tuneMldevInternal(o);let a="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?a=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(a=i.name.split("/operations/")[0]),{name:a,state:Ul.JOB_STATE_QUEUED}}}}async getInternal(e){var o,i,a,f;let d,p="",m={};if(this.apiClient.isVertexAI()){const h=OS(e);return p=Me("{name}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>Wl(y))}else{const h=GS(e);return p=Me("{name}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>Wd(y))}}async listInternal(e){var o,i,a,f;let d,p="",m={};if(this.apiClient.isVertexAI()){const h=YS(e);return p=Me("tuningJobs",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const C=iw(y),_=new Vc;return Object.assign(_,C),_})}else{const h=qS(e);return p=Me("tunedModels",h._url),m=h._query,delete h.config,delete h._url,delete h._query,d=this.apiClient.request({path:p,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(y=>y.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const C=tw(y),_=new Vc;return Object.assign(_,C),_})}}async tuneInternal(e){var o,i;let a,f="",d={};if(this.apiClient.isVertexAI()){const p=jS(e);return f=Me("tuningJobs",p._url),d=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:m.headers},y})),a.then(m=>Wl(m))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,i;let a,f="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=WS(e);return f=Me("tunedModels",p._url),d=p._query,delete p.config,delete p._url,delete p._query,a=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:m.headers},y})),a.then(m=>nw(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lw{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const aw=1024*1024*8,uw=3,fw=1e3,cw=2,Dl="x-goog-upload-status";async function dw(t,e,o){var i,a,f;let d=0,p=0,m=new Vl(new Response),h="upload";for(d=t.size;p<d;){const C=Math.min(aw,d-p),_=t.slice(p,p+C);p+C>=d&&(h+=", finalize");let T=0,k=fw;for(;T<uw&&(m=await o.request({path:"",body:_,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(p),"Content-Length":String(C)}}}),!(!((i=m?.headers)===null||i===void 0)&&i[Dl]));)T++,await hw(k),k=k*cw;if(p+=C,((a=m?.headers)===null||a===void 0?void 0:a[Dl])!=="active")break;if(d<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const y=await m?.json();if(((f=m?.headers)===null||f===void 0?void 0:f[Dl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return y.file}async function pw(t){return{size:t.size,type:t.type}}function hw(t){return new Promise(e=>setTimeout(e,t))}class mw{async upload(e,o,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await dw(e,o,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await pw(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gw{create(e,o,i){return new yw(e,o,i)}}class yw{constructor(e,o,i){this.url=e,this.headers=o,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ad="x-goog-api-key";class vw{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(ad)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(ad,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cw="gl-node/";class _w{constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const i=ym(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const a=new vw(this.apiKey);this.apiClient=new BT({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Cw+"web",uploader:new mw,downloader:new lw}),this.models=new iS(this.apiClient),this.live=new XT(this.apiClient,a,new gw),this.batches=new Hg(this.apiClient),this.chats=new Jy(this.models,this.apiClient),this.caches=new qy(this.apiClient),this.files=new rv(this.apiClient),this.operations=new uS(this.apiClient),this.authTokens=new BS(this.apiClient),this.tunings=new sw(this.apiClient)}}const Tw=["1:1","16:9","9:16","4:3","3:4"],Sw=[{value:"pixel",label:"Pixel Art"},{value:"stickfigure",label:"Stick Figure"},{value:"real",label:"Realistic"},{value:"custom",label:"Custom"}],ud={pixel:"pixel art style, 8-bit, vibrant colors",stickfigure:"simple stick figure drawing, black on white background, minimalist",real:"ultra realistic photograph, 8k, sharp focus",custom:""},ww="imagen-3.0-generate-002",Ll=3e3,yr="gemini-pixel-api-keys-v1",fd=async(t,e,o,i)=>{if(!i)throw new Error("API key is missing.");const a=new _w({apiKey:i});try{const f=await a.models.generateImages({model:ww,prompt:t,config:{numberOfImages:o,outputMimeType:"image/jpeg",aspectRatio:e}});return f.generatedImages&&f.generatedImages.length>0?f.generatedImages.map(p=>p.image?.imageBytes).filter(p=>typeof p=="string"):[]}catch(f){throw console.error("Error generating images with Gemini API:",f),f instanceof Error&&f.message.includes("API key not valid")?new Error("Failed to generate image. The provided API key is invalid or has expired."):new Error("Failed to generate image. Please check your prompt and API key.")}},Ew="GeminiPixelDB",jt="generatedImages",xw=1;let Ni=null;const qi=()=>Ni||(Ni=new Promise((t,e)=>{const o=indexedDB.open(Ew,xw);o.onerror=()=>{console.error("IndexedDB error:",o.error),e("Error opening IndexedDB.")},o.onsuccess=()=>{t(o.result)},o.onupgradeneeded=i=>{const a=i.target.result;a.objectStoreNames.contains(jt)||a.createObjectStore(jt,{keyPath:"id"})}}),Ni),cd=async t=>{const o=(await qi()).transaction(jt,"readwrite");return o.objectStore(jt).put(t),new Promise((a,f)=>{o.oncomplete=()=>a(),o.onerror=()=>f(o.error)})},kw=async()=>{const i=(await qi()).transaction(jt,"readonly").objectStore(jt).getAll();return new Promise((a,f)=>{i.onsuccess=()=>{a(i.result.sort((d,p)=>p.id-d.id))},i.onerror=()=>{console.error("Error fetching images:",i.error),f("Could not get images from DB.")}})},Iw=async t=>{const o=(await qi()).transaction(jt,"readwrite");return o.objectStore(jt).delete(t),new Promise((a,f)=>{o.oncomplete=()=>a(),o.onerror=()=>f(o.error)})},Aw=async t=>{const o=(await qi()).transaction(jt,"readwrite"),i=o.objectStore(jt);return t.forEach(a=>i.delete(a)),new Promise((a,f)=>{o.oncomplete=()=>a(),o.onerror=()=>f(o.error)})},Od=()=>{const[t,e]=be.useState([{id:Date.now(),text:"",count:1}]),[o,i]=be.useState("single"),[a,f]=be.useState(""),[d,p]=be.useState("pixel"),[m,h]=be.useState(""),[y,C]=be.useState("1:1"),[_,T]=be.useState([]),[k,w]=be.useState(new Set),[I,A]=be.useState(!1),[R,P]=be.useState(""),[z,V]=be.useState(null),[W,b]=be.useState([]),[te,q]=be.useState(!1),[ne,ge]=be.useState(!1);be.useEffect(()=>{(async()=>{try{const he=await kw();T(he)}catch(he){console.error("Failed to load images from IndexedDB",he),P("Error: Could not load saved images."),setTimeout(()=>P(""),5e3)}try{const he=localStorage.getItem(yr);if(he){const _e=JSON.parse(he);Array.isArray(_e)&&_e.every(ue=>typeof ue=="string")?b(_e):(console.warn("Malformed API key data in localStorage, clearing."),localStorage.removeItem(yr))}}catch(he){console.error("Failed to parse API keys from localStorage, clearing data.",he),localStorage.removeItem(yr)}})()},[]);const U=be.useCallback($=>{b($);try{$.length>0?localStorage.setItem(yr,JSON.stringify($)):localStorage.removeItem(yr),P(`Saved ${$.length} API key(s).`),setTimeout(()=>P(""),3e3)}catch(he){console.error("Failed to save API keys to localStorage",he),P("Error saving API keys."),setTimeout(()=>P(""),3e3)}},[]),j=be.useCallback(()=>{e($=>[...$,{id:Date.now(),text:"",count:1}])},[]),x=be.useCallback($=>{e(he=>he.filter(_e=>_e.id!==$))},[]),ee=be.useCallback(($,he)=>{e(_e=>_e.map(ue=>ue.id===$?{...ue,...he}:ue))},[]),xe=be.useCallback($=>{w(he=>{const _e=new Set(he);return _e.has($)?_e.delete($):_e.add($),_e})},[]),re=be.useCallback(async $=>{const he=_.find(_e=>_e.id===$);if(he&&window.confirm(`Are you sure you want to delete the image for prompt: "${he.prompt}"?`))try{await Iw($),T(_e=>_e.filter(ue=>ue.id!==$)),w(_e=>{const ue=new Set(_e);return ue.delete($),ue})}catch(_e){console.error("Failed to delete image from db",_e),P("Error deleting image."),setTimeout(()=>P(""),3e3)}},[_]),ie=be.useCallback(($,he)=>{const _e=document.createElement("a");_e.href=$;const ue=he.replace(/[^a-z0-9_]/gi,"_").slice(0,50);_e.download=`${ue||"generated_image"}.jpeg`,document.body.appendChild(_e),_e.click(),document.body.removeChild(_e)},[]),X=be.useCallback(async()=>{if(k.size===0){P("No images selected to delete."),setTimeout(()=>P(""),3e3);return}if(window.confirm(`Are you sure you want to delete ${k.size} selected image(s)?`)){const $=Array.from(k);try{await Aw($);const he=k.size;T(_e=>_e.filter(ue=>!k.has(ue.id))),w(new Set),P(`Successfully deleted ${he} image(s).`),setTimeout(()=>P(""),3e3)}catch(he){console.error("Failed to delete selected images from db",he),P("Error deleting selected images."),setTimeout(()=>P(""),3e3)}}},[k]),le=be.useCallback(()=>{k.size===_.length&&_.length>0?w(new Set):w(new Set(_.map($=>$.id)))},[_,k.size]),M=be.useCallback(async()=>{if(k.size===0){P("No images selected to download."),setTimeout(()=>P(""),3e3);return}const $=_.map((ue,Te)=>({...ue,displayIndex:_.length-Te})).filter(ue=>k.has(ue.id));if($.length===0)return;if($.length===1){const ue=$[0],Te=ue.promptIndex??ue.displayIndex;ie(ue.src,`${Te}-${ue.prompt}`);return}P(`Creating zip file for ${$.length} images...`);const he=new tm,_e=new Map;$.forEach(ue=>{const Te=ue.src.split(",")[1],De=ue.promptIndex??ue.displayIndex,Ve=ue.prompt.replace(/[^a-z0-9_]/gi,"_").slice(0,50)||"generated_image",We=`${De}-${Ve}`,ze=_e.get(We)||0,S=ze>0?`${We}_(${ze}).jpeg`:`${We}.jpeg`;_e.set(We,ze+1),he.file(S,Te,{base64:!0})});try{const ue=await he.generateAsync({type:"blob"}),Te=document.createElement("a");Te.href=URL.createObjectURL(ue),Te.download="gemini-pixel-images.zip",document.body.appendChild(Te),Te.click(),document.body.removeChild(Te),URL.revokeObjectURL(Te.href),P(`Downloaded ${$.length} images as a zip file.`)}catch(ue){console.error("Failed to create zip file",ue),P("Error creating zip file.")}finally{setTimeout(()=>P(""),5e3)}},[_,k,ie]),F=async()=>{if(W.length===0){P("Please add at least one Gemini API key in Settings."),q(!0),setTimeout(()=>P(""),5e3);return}let $=[],he=0;if(o==="single")t.forEach(Te=>{if(Te.text.trim()){he++;for(let De=0;De<Te.count;De++)$.push({originalPrompt:Te.text.trim(),promptIndex:he})}});else{const Te=a.split(`
`).filter(De=>De.trim()!=="");if(Te.length===0){P("Please enter at least one prompt in the text area."),setTimeout(()=>P(""),3e3);return}$=Te.map(De=>(he++,{originalPrompt:De.trim(),promptIndex:he}))}if(I||$.length===0){I||(P("Please enter at least one valid prompt."),setTimeout(()=>P(""),3e3));return}A(!0),w(new Set);const _e=$.length;let ue=0;if(W.length<=1){const Te=W[0];for(const De of $){ue++,P(`[Key 1] Generating image ${ue}/${_e}: "${De.originalPrompt}"`);try{let Ve=De.originalPrompt;const We=ud[d]||(m.trim()?m.trim():"");We&&(Ve=`${We}, ${De.originalPrompt}`);const ze=await fd(Ve,y,1,Te);if(ze&&ze.length>0){const S={id:Date.now()+Math.random(),src:`data:image/jpeg;base64,${ze[0]}`,prompt:De.originalPrompt,promptIndex:De.promptIndex};await cd(S),T(oe=>[S,...oe])}ue<_e&&(P(`Waiting ${Ll/1e3} seconds...`),await new Promise(S=>setTimeout(S,Ll)))}catch(Ve){const We=Ve instanceof Error?Ve.message:"An unknown error occurred.";P(`Error on prompt #${De.promptIndex}: "${De.originalPrompt}". ${We}`),ue<_e&&await new Promise(ze=>setTimeout(ze,Ll))}}}else{const Te=[...$],De=async(ze,S)=>{const oe=W[S];let Q=ze.originalPrompt;const D=ud[d]||(m.trim()?m.trim():"");D&&(Q=`${D}, ${ze.originalPrompt}`);try{const N=await fd(Q,y,1,oe);if(N&&N.length>0){const H={id:Date.now()+Math.random(),src:`data:image/jpeg;base64,${N[0]}`,prompt:ze.originalPrompt,promptIndex:ze.promptIndex};return await cd(H),T(se=>[H,...se]),{success:!0}}throw new Error("No image data returned from API.")}catch(N){const H=N instanceof Error?N.message:"An unknown error occurred.";return Promise.reject({prompt:ze.originalPrompt,message:H,keyIndex:S,promptIndex:ze.promptIndex})}};let Ve=0;const We=Math.ceil(Te.length/W.length);for(;Te.length>0;){Ve++;const ze=Te.splice(0,W.length);ue+=ze.length,P(`Processing batch ${Ve}/${We} (${ue}/${_e} images)...`);const S=ze.map((Q,D)=>De(Q,D));(await Promise.allSettled(S)).forEach(Q=>{if(Q.status==="rejected"){const{prompt:D,message:N,keyIndex:H,promptIndex:se}=Q.reason;console.error(`[Key ${H+1}] Error on prompt #${se} "${D}": ${N}`),P(`Error with key ${H+1} on prompt #${se}. Check console.`)}})}}P("Complete!"),A(!1),setTimeout(()=>P(""),5e3)},me=Tw.map($=>({value:$,label:$})),ae=[{value:"single",label:"Single Prompts"},{value:"bulk",label:"Bulk Prompts"}];return Y.jsxs("div",{className:"h-screen flex flex-col p-4 sm:p-6 lg:p-8",children:[Y.jsxs("header",{className:"text-center mb-6 flex-shrink-0 relative",children:[Y.jsxs("div",{className:"inline-flex items-center justify-center",children:[Y.jsx("img",{src:"/logo.png",alt:"App Logo",className:"h-12 w-12 md:h-16 md:w-16 mr-4",onError:$=>{$.target.style.display="none"}}),Y.jsx("h1",{className:"text-3xl md:text-5xl text-gray-100 tracking-wider",children:"MORTAL GENERATOR"})]}),Y.jsxs("div",{className:"absolute top-0 right-0 flex gap-2",children:[Y.jsx(Ot,{onClick:()=>ge(!0),"aria-label":"Show info",title:"Info",children:Y.jsx(pm,{})}),Y.jsx(Ot,{onClick:()=>q(!0),"aria-label":"Open settings",title:"Settings",children:Y.jsx(dm,{})})]})]}),Y.jsx("main",{className:"w-full flex-grow overflow-hidden",children:Y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 h-full",children:[Y.jsxs("div",{className:"lg:col-span-1 bg-gray-800 rounded-lg p-6 flex flex-col h-full overflow-hidden",children:[Y.jsx("h2",{className:"text-2xl mb-6 border-b-2 border-gray-600 pb-2 flex-shrink-0",children:"Controls"}),Y.jsxs("div",{className:"flex-grow overflow-y-auto pr-3 -mr-3 space-y-6",children:[Y.jsx("div",{className:"mb-6",children:Y.jsx(Nl,{label:"Prompt Mode",options:ae,selectedValue:o,onChange:$=>i($)})}),o==="single"?Y.jsxs("div",{children:[Y.jsx("div",{className:"space-y-4 mb-6",children:t.map($=>Y.jsx(nm,{prompt:$,onTextChange:he=>ee($.id,{text:he}),onCountChange:he=>ee($.id,{count:he}),onRemove:()=>x($.id),isRemoveDisabled:t.length<=1},$.id))}),Y.jsxs(Ot,{onClick:j,className:"w-full",children:[Y.jsx(gd,{}),"Add Prompt"]})]}):Y.jsxs("div",{children:[Y.jsx("label",{className:"block mb-2 text-sm",htmlFor:"bulk-prompts",children:"Enter Prompts (one per line)"}),Y.jsx(om,{id:"bulk-prompts",value:a,onChange:$=>f($.target.value),placeholder:`a cat wearing a cowboy hat...
a dog playing chess...
a robot surfing on a rainbow...`})]}),Y.jsxs("div",{className:"space-y-6",children:[Y.jsx(Nl,{label:"Generation Mode",options:Sw,selectedValue:d,onChange:$=>p($)}),d==="custom"&&Y.jsxs("div",{children:[Y.jsx("label",{className:"block mb-2 text-sm",htmlFor:"custom-style",children:"Custom Style"}),Y.jsx(Fi,{id:"custom-style",type:"text",value:m,onChange:$=>h($.target.value),placeholder:"e.g., In the style of vaporwave..."})]}),Y.jsx(Nl,{label:"Aspect Ratio",options:me,selectedValue:y,onChange:$=>C($)})]})]}),Y.jsxs("div",{className:"flex-shrink-0 mt-6",children:[Y.jsx(Ot,{onClick:F,disabled:I,className:"w-full !bg-blue-500 hover:!bg-blue-600 !text-white text-lg py-4",children:I?"Generating...":"Generate"}),R&&Y.jsx("div",{className:"mt-4 p-3 bg-gray-700 text-white text-xs text-center break-words rounded-md",children:R})]})]}),Y.jsxs("div",{className:"lg:col-span-2 bg-gray-800 rounded-lg p-6 flex flex-col h-full overflow-hidden",children:[Y.jsxs("div",{className:"flex-shrink-0 flex flex-wrap gap-4 justify-between items-center mb-4 pb-4 border-b-2 border-gray-600",children:[Y.jsx("h2",{className:"text-2xl",children:"Results"}),Y.jsxs("div",{className:"flex flex-wrap gap-2",children:[Y.jsx(Ot,{onClick:le,disabled:_.length===0,children:k.size===_.length&&_.length>0?"Deselect All":"Select All"}),Y.jsxs(Ot,{onClick:M,disabled:k.size===0,children:["Download (",k.size,")"]}),Y.jsxs(Ot,{onClick:X,disabled:k.size===0,className:"!bg-red-500 hover:!bg-red-600 !text-white",children:["Delete (",k.size,")"]})]})]}),Y.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 -mr-2",children:[I&&_.length===0&&Y.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[Y.jsx("div",{className:"w-16 h-16 border-8 border-gray-600 border-t-white rounded-full animate-spin"}),Y.jsx("p",{className:"mt-4 text-center",children:"Initializing..."})]}),!I&&_.length===0&&Y.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"Your generated images will appear here."}),Y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:_.map(($,he)=>Y.jsx(lm,{image:$,displayIndex:_.length-he,isSelected:k.has($.id),onSelect:xe,onDelete:re,onDownload:ie,onPreview:(_e,ue)=>V({src:_e,prompt:ue})},$.id))})]})]})]})}),z&&Y.jsx(um,{src:z.src,prompt:z.prompt,onClose:()=>V(null)}),Y.jsx(fm,{isOpen:te,onClose:()=>q(!1),initialKeys:W,onSave:U}),Y.jsx(cm,{isOpen:ne,onClose:()=>ge(!1)})]})},Kd=document.getElementById("root");if(!Kd)throw new Error("Could not find root element to mount to");const Mw=pd.createRoot(Kd);Mw.render(Y.jsx(dd.StrictMode,{children:Y.jsx(Od,{})}));const Yd=document.getElementById("root");if(!Yd)throw new Error("Could not find root element to mount to");const Rw=pd.createRoot(Yd);Rw.render(Y.jsx(dd.StrictMode,{children:Y.jsx(Od,{})}));
